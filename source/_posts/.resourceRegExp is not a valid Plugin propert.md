---
title: .resourceRegExp is not a valid Plugin propert
date: 2020-08-13 13:20:09
tags:
  - 报错
---

配置 nuxt.config.js，添加 moment locale 只加载 zh-cn 和 en 时，报错

```bash
.resourceRegExp is not a valid Plugin propert
```

原因如下，这是修改前的

```js
// nuxt.config.js
build: {
    plugins: ,
    analyze: {
      analyzerMode: 'static',
    },
    vendor: ['axios'],
    loaders: {
      less: {
        lessOptions: {
          javascriptEnabled: true,
          modifyVars: {
            '@black': '#333',
            '@text-color-dark': '#fff',
            '@primary-color': '#333',
            '@btn-default-color': '#333', // 白底黑边按钮
            '@btn-default-bg': '#fff',
            '@btn-default-border': '#333',
            '@border-radius-base': 0,
            '@layout-body-background': '#fff',
          },
        },
      },
    },
    babel: {
      plugins: [
        [
          new webpack.ContextReplacementPlugin(/moment[/\\]locale$/, /zh-cn|en/),
        ]
        // 按需引入element-ui
        [
          'component',
          { libraryName: 'element-ui', styleLibraryName: '~theme' },
        ],
      ],
    },
  },
```

`new webpack.ContextReplacementPlugin(/moment[/\\]locale$/, /zh-cn|en/),`位置写错了。。。。

应该为：

```js
build: {
    plugins: [
      new webpack.ContextReplacementPlugin(/moment[/\\]locale$/, /zh-cn|en/),
    ],
    analyze: {
      analyzerMode: 'static',
    },
    vendor: ['axios'],
    loaders: {
      less: {
        lessOptions: {
          javascriptEnabled: true,
          modifyVars: {
            '@black': '#333',
            '@text-color-dark': '#fff',
            '@primary-color': '#333',
            '@btn-default-color': '#333', // 白底黑边按钮
            '@btn-default-bg': '#fff',
            '@btn-default-border': '#333',
            '@border-radius-base': 0,
            '@layout-body-background': '#fff',
          },
        },
      },
    },
    babel: {
      plugins: [
        // 按需引入element-ui
        [
          'component',
          { libraryName: 'element-ui', styleLibraryName: '~theme' },
        ],
      ],
    },
  },
```
