<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vueå…¨å®¶æ¡¶&amp;åŸç†</title>
      <link href="2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&amp;%E5%8E%9F%E7%90%86/"/>
      <url>2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&amp;%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾"><a href="#é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾" class="headerlink" title="é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾"></a><em>é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾</em></h2><h4 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h4><p>åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œ<code>vue create vue-study</code>ï¼Œé€‰æ‹© vue2ï¼Œæ·»åŠ  vue-router å’Œ vuexï¼Œ<code> vue add router</code>ã€<code>vue add vux </code></p><h4 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h4><p><em>Vue router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨æ˜“å¦‚åæŒ</em></p><h5 id="æ ¸å¿ƒæ­¥éª¤"><a href="#æ ¸å¿ƒæ­¥éª¤" class="headerlink" title="æ ¸å¿ƒæ­¥éª¤"></a>æ ¸å¿ƒæ­¥éª¤</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/router/index.js</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨vue-routeræ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"><span class="comment">// åˆ›å»ºRouterå®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// src/main.js</span></span><br><span class="line"><span class="comment">// åœ¨æ ¹ç»„ä»¶ä¸Šæ·»åŠ è¯¥å®ä¾‹</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"><span class="comment">// src/App.vue</span></span><br><span class="line"><span class="comment">// æ·»åŠ è·¯ç”±è§†å›¾</span></span><br><span class="line">&lt;router-view/&gt;</span><br><span class="line"><span class="comment">// å¯¼èˆª</span></span><br><span class="line">&lt;router-link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&quot;/about&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line"><span class="built_in">this</span>.$router.push(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="built_in">this</span>.$router.push(<span class="string">&#x27;/about&#x27;</span>)</span><br></pre></td></tr></table></figure><h5 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h5><ul><li>å®ç°ä¸€ä¸ªæ’ä»¶<ul><li>å®ç° VueRouter ç±»<ul><li>å¤„ç†è·¯ç”±é€‰é¡¹</li><li>ç›‘æ§ url å˜åŒ–ï¼Œhashchange</li><li>å“åº”è¿™ä¸ªå˜åŒ–</li></ul></li><li>å®ç° install æ–¹æ³•<ul><li>$routeræ³¨å†Œï¼ˆthis.$router.pushï¼‰</li><li>ä¸¤ä¸ªå…¨å±€ç»„ä»¶ï¼ˆrouter-link,router-viewï¼‰</li></ul></li></ul></li></ul><h5 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h5><p>ä¸ºäº†æ£€æµ‹åç»­æˆæœï¼Œç›´æ¥åœ¨<code>src/router/</code>ä¸‹æ–°å»ºä¸€ä¸ª<code>vuerouter.js</code>ï¼Œå¹¶å°†<code>src/router/index.js</code>ä¸­çš„<code>import VueRouter from &#39;vue-router&#39;</code>æ”¹ä¸º<code>import VueRouter from &#39;./vuerouter&#39;</code>ã€‚å¦‚æœå®ç°äº†ç›®æ ‡ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹æ•ˆæœã€‚</p><p>è¦å®ç°ä¸€ä¸ª Vue æ’ä»¶ï¼Œè¦ç»™å½“å‰ç±»å®ç°ä¸€ä¸ªé™æ€çš„<code>install</code>æ–¹æ³•ï¼Œ<code>install</code>æ–¹æ³•å°†æ¥ä¼šè¢« vue è°ƒç”¨ï¼Œè¯¥å‡½æ•°æ¥æ”¶ Vue æ„é€ å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span> (<span class="params">_Vue</span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç»„ä»¶ä¸­èƒ½å¤Ÿä½¿ç”¨<code>this.$router.push()</code>ï¼Œéœ€è¦æŒ‚è½½è·¯ç”±å™¨å®ä¾‹$router<br>éœ€è¦å®ç°<code>Vue.prototype.$router = router</code> routeråœ¨<code>/src/router/index.js</code>çš„<code>const router = new VueRouter(&#123; routes &#125;)</code>ä¸­ä¼ å…¥ ä½†æ˜¯<code>Vue.use(VueRouter)</code>æ—¶ä¼šç«‹åˆ»è°ƒç”¨<code>install</code>æ–¹æ³•ï¼Œåœ¨installæ‰§è¡Œæ—¶routerå®ä¾‹è¿˜ä¸å­˜åœ¨ æ‰€ä»¥éœ€è¦ä½¿ç”¨<code>Vue.mixin</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// install.call(VueRouter, Vue) installè°ƒç”¨æ—¶ï¼Œå¦‚æ­¤ä¼ å…¥_Vue</span></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span> (<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// è¿™äº›ä»£ç å»¶è¿Ÿåˆ°äº†ç»„ä»¶å®ä¾‹åŒ–çš„æ—¶å€™æ‰æ‰§è¡Œï¼Œè¿™æ—¶å°±å¯ä»¥è·å–åˆ°ç»„ä»¶é€‰é¡¹äº†</span></span><br><span class="line">      <span class="comment">// è¿™äº›ä»£ç ä¼šåœ¨æ‰€æœ‰ç»„ä»¶ä¸­éƒ½æ‰§è¡Œï¼Œä½†æ˜¯åªæœ‰åœ¨æ ¹å®ä¾‹ä¸­æ‰æœ‰routerï¼Œæ‰€ä»¥åªåœ¨æ ¹å®ä¾‹ä¸­æ‰æ‰§è¡Œå¦‚ä¸‹ä»£ç </span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.$options.router) &#123;</span><br><span class="line">        Vue.prototype.$router = <span class="built_in">this</span>.$options.router</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœè¿è¡Œé¡¹ç›®ï¼Œä¼šæŠ¥é”™<code>Unknown custom element: &lt;router-link&gt;</code>å’Œ<code>Unknown custom element: &lt;router-view&gt;</code></p><h6 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h6><p>æ³¨å†Œå…¨å±€ç»„ä»¶<code>router-view</code>å’Œ<code>router-link</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// install.call(VueRouter, Vue) installè°ƒç”¨æ—¶ï¼Œå¦‚æ­¤ä¼ å…¥_Vue</span></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span>(<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  Vue.component(<span class="string">&quot;router-link&quot;</span>, &#123;&#125;)</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>ä¸ºç»„ä»¶æ·»åŠ <code>template</code>ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  template: <span class="string">&#x27;&lt;a&gt;xxxx&lt;/a&gt;&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Vue warn]: You are <span class="keyword">using</span> the runtime-<span class="keyword">only</span> build <span class="keyword">of</span> Vue <span class="keyword">where</span> the <span class="keyword">template</span> compiler <span class="keyword">is</span> <span class="keyword">not</span> available. Either pre-compile the templates <span class="keyword">into</span> render <span class="keyword">functions</span>, <span class="keyword">or</span> use the compiler-included build.</span><br></pre></td></tr></table></figure><p>å½“å‰ç¯å¢ƒæ˜¯ webpack çš„é¢„æ‰“åŒ…ç‰ˆæœ¬ï¼Œä¸åŒ…å«ç¼–è¯‘å™¨ï¼Œæ‰€æœ‰ä¸æ”¯æŒ<code>template</code></p><p>æ”¹ä¸ºç”¨<code>render(h)&#123;&#125;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// hæ˜¯createElementï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªvdom</span></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;router-link&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">Vue.component(<span class="string">&#x27;router-view&#x27;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;router-view&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°ç»“æœäº†<br><img src="/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&%E5%8E%9F%E7%90%86/1.png"></p><p>ä½¿ç”¨<code>router-link</code>æ—¶ï¼Œæ­£å¸¸æ˜¯è¿™ä¹ˆå†™çš„<code>&lt;router-link to=&quot;/about&quot;&gt;about&lt;/router-link&gt;</code></p><p>ç°åœ¨éœ€è¦æ‹¿åˆ°<code>about</code>æ¥æ›¿æ¢ä¸Šé¢å ä½çš„<code>router-link</code></p><p>åªéœ€è¦ä½¿ç”¨<code>this.$slots.default</code>å³å¯</p><p>è¿˜éœ€è¦åŠ ä¸Š<code>to</code>å±æ€§ï¼Œæ‰€ä»¥éœ€è¦ä»<code>props</code>ä¸­ä¼ è¿›æ¥</p><p>è¿™é‡Œå®ç°<code>hash</code>çš„å†™æ³•ï¼Œç»™<code>href</code>æ·»åŠ <code>#</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    to: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;a&#x27;</span>, &#123; <span class="attr">attrs</span>: &#123; <span class="attr">href</span>: <span class="string">`#<span class="subst">$&#123;<span class="built_in">this</span>.to&#125;</span>`</span> &#125; &#125;, <span class="built_in">this</span>.$slots.default)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿå¯ä»¥æ”¯æŒ jsx çš„å†™æ³•ï¼Œä¸è¿‡ä¸æ¨èï¼Œå› ä¸ºå¯¹å½“å‰æ‰§è¡Œç¯å¢ƒæœ‰ä¾èµ–ï¼Œå¸Œæœ›ä¸é…ç½® jsx ä¹Ÿèƒ½ä½¿ç”¨</p><p>jsx å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    to: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span>`#$&#123;<span class="attr">this.to</span>&#125;`&#125;&gt;</span>&#123;this.$slots.default&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ğŸ‰ router-link å®Œæˆ</p><h6 id="router-view"><a href="#router-view" class="headerlink" title="router-view"></a>router-view</h6><p>ç°åœ¨å¦‚æœç›´æ¥æŠŠç»„ä»¶æ‹¿è¿‡æ¥ï¼Œrender å‡ºæ¥ï¼Œå°±å¯ä»¥åœ¨é¡µé¢ä¸Šå±•ç¤ºå‡ºæ¥äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/Home.vue&#x27;</span></span><br><span class="line">...</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// hå‡½æ•°å¯ä»¥æ¥æ”¶çš„å‚æ•°é™¤äº†å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„ä»¶çš„é…ç½®å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> h(Home);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œä¼ è¿›æ¥çš„<code>routes</code>é‡Œé¢åŒ…å«äº†ç»„ä»¶å’Œ url çš„æ˜ å°„å…³ç³»<code>new VueRouter(&#123;routes: [...]&#125;)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜ä¸€ä¸‹ï¼Œä»¥ä¾¿åœ¨router-viewä¸­æ‹¿ï¼Œé€šè¿‡this.$router.$optionsæ‹¿</span></span><br><span class="line">    <span class="comment">// optionså°±æ˜¯ new VueRouter(&#123;routes: [...]&#125;) é‡Œé¢ä¼ è¿‡æ¥çš„</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è·å–å½“å‰åœ°å€<code>current</code>ï¼Œå»æ‰ hash çš„#å°±æ˜¯äº†ã€‚<code>window.location.hash.slice(1) || &quot;/&quot;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">&quot;/&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">      <span class="comment">// è·å–å½“å‰è·¯ç”±å¯¹åº”çš„ç»„ä»¶</span></span><br><span class="line">      <span class="keyword">let</span> component = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">const</span> route = <span class="built_in">this</span>.$router.$options.routes.find(</span><br><span class="line">        (route) =&gt; route.path === <span class="built_in">this</span>.$router.current</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">if</span> (route) &#123;</span><br><span class="line">        component = route.component</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> h(component);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ‰“å¼€é¡µé¢ï¼Œä¼šå‘ç°åˆ·æ–°é¡µé¢å¯ä»¥æ”¹å˜é¡µé¢ï¼Œç‚¹å‡»è·¯ç”±å´ä¸ä¼šæ”¹å˜</p><ol><li>è¿˜æ²¡æœ‰ç›‘å¬çš„ hash çš„æ”¹å˜</li><li>render å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œéœ€è¦å“åº”å¼</li></ol><p>ç›‘å¬ hashï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬hashå˜åŒ–</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”³æ˜å“åº”å¼å±æ€§çš„æ–¹å¼ï¼š</p><ol><li><code>new Vue(&#123;data: &#123; current: ... &#125;&#125;)</code></li><li><code>Vue.util.defineReactive</code>ï¼Œè¿™æ˜¯éšè— api</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// æŠŠcurrentä½œä¸ºå“åº”å¼æ•°æ®</span></span><br><span class="line">    <span class="comment">// å°†æ¥å‘ç”Ÿå˜åŒ–ï¼Œrouter-viewçš„renderå‡½æ•°èƒ½å¤Ÿå†æ¬¡æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">const</span> initial = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">&#x27;/&#x27;</span></span><br><span class="line">    Vue.util.defineReactive(<span class="built_in">this</span>, <span class="string">&#x27;current&#x27;</span>, initial)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ‰router-view å®Œæˆ</p><h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h4><p><em>Vuex é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–</em></p><h5 id="ç›®æ ‡-1"><a href="#ç›®æ ‡-1" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h5><ul><li>å®ç°æ’ä»¶<ul><li>å®ç° Store ç±»<ul><li>ç»´æŒä¸€ä¸ªå“åº”å¼çŠ¶æ€ state</li><li>å®ç° commit()</li><li>å®ç° dispatch()</li><li>getters</li></ul></li><li>æŒ‚è½½$store</li></ul></li></ul><h5 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h5><p>å’Œ router ä¸€æ ·ï¼Œå…ˆæŠŠ<code>src/store/index.js</code>ä¸­çš„å¼•ç”¨æ”¹æ‰<code>import Vuex from &#39;./vuex.js&#39;</code></p><p>å¹¶æ·»åŠ æ£€æµ‹æˆæœé€»è¾‘<br><code>/src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;./vuex.js&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    counter: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.counter++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        commit(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>src/App.vue</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;p @click&#x3D;&quot;$store.commit(&#39;add&#39;)&quot;&gt;commit:&#123;&#123; $store.state.counter &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p @click&#x3D;&quot;$store.dispatch(&#39;add&#39;)&quot;&gt;dispatch:&#123;&#123; $store.state.counter &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><p>åœ¨æ­£å¸¸ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨<code>new Vuex.Store</code>çš„æ–¹å¼ï¼Œæ‰€ä»¥åŒºåˆ«äº router å¦‚ä¸‹å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">_Vue</span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; Store, install &#125;</span><br></pre></td></tr></table></figure><p>å’Œ router ä¸€æ ·ï¼ŒæŒ‚è½½$store</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  <span class="comment">// æŒ‚è½½$store</span></span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.$options.store) &#123;</span><br><span class="line">        Vue.prototype.$store = <span class="built_in">this</span>.$options.store</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; Store, install &#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ å“åº”å¼å±æ€§ state</p><p>åœ¨è¿™é‡Œä¸èƒ½ä½¿ç”¨<code>Vue.set(this, &#39;xxx&#39;, &#123;&#125;)</code>ï¼Œå› ä¸º Vue.set æ˜¯ç»™å“åº”å¼å¯¹è±¡åŠ¨æ€æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œè¿™é‡Œçš„ this ä¸æ˜¯ä¸€ä¸ªå“åº”å¼å¯¹è±¡</p><p>router å·²ç»ç”¨è¿‡<code>Vue.util.defineReactive</code>ï¼Œè¿™é‡Œç”¨<code>new Vue()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜é€‰é¡¹</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line">    <span class="built_in">this</span>.state = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      data: options.state,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ç›´æ¥ç»™ç”¨æˆ·æš´éœ²äº† stateï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥æ¥è§¦åˆ° Vue å®ä¾‹ï¼Œéœ€è¦æŠŠ Vue å®ä¾‹è—èµ·æ¥ï¼Œè®©ç”¨æˆ·ä¸èƒ½ç›´æ¥ä¿®æ”¹ stateï¼Œè€Œæ˜¯é€šè¿‡ commitã€dispatch çš„æ–¹å¼ä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜é€‰é¡¹</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line">    <span class="built_in">this</span>._vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      data: &#123;</span><br><span class="line">        <span class="comment">// åŠ ä¸Š$$ï¼Œæ—¢è¦å¯¹stateåšå“åº”å¼ï¼Œè¿˜ä¸åšä»£ç†</span></span><br><span class="line">        $$state: options.state,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title">state</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>._vm)</span><br><span class="line">    <span class="comment">// _dataå’Œ$dataæ˜¯ä¸€å›äº‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._vm._data.$$state</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">state</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;è¯·ä½¿ç”¨replaceStateé‡ç½®çŠ¶æ€&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°æ‰“å°_vm</p><p><img src="/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&%E5%8E%9F%E7%90%86/2.jpg"></p><p><code>__ob__</code>è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå“åº”å¼å¯¹è±¡</p><p>åŒæ—¶ï¼Œ_vm ä¸Šå¹¶æ²¡æœ‰$stateï¼ŒåŠ ä¸Š$ä¹‹å$state è¢«éšè—èµ·æ¥äº†ï¼Œè¿™æ˜¯ Vue å†…éƒ¨çº¦å®š</p><p>å®ç° commit</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ä¿å­˜mutations</span></span><br><span class="line">  <span class="built_in">this</span>._mutations = options.mutations</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type è°ƒç”¨çš„mutationçš„åå­— payload å‚æ•°</span></span><br><span class="line"><span class="function"><span class="title">commit</span>(<span class="params">type, payload</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> entry = <span class="built_in">this</span>._mutations[type]</span><br><span class="line">  <span class="keyword">if</span> (!entry) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;unknown mutation&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  entry(<span class="built_in">this</span>.state, payload)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç° dispath</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ä¿å­˜actions</span></span><br><span class="line">  <span class="built_in">this</span>._actions = options.actions</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">dispatch</span>(<span class="params">type, payload</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> entry = <span class="built_in">this</span>._actions[type]</span><br><span class="line">  <span class="keyword">if</span> (!entry) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;unknown action&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ—¶å¦‚ä¸‹ï¼š add(&#123; commit, dispatch, state, rootState ...&#125;) &#123;&#125;</span></span><br><span class="line">  <span class="comment">// å°±æ˜¯storeå®ä¾‹ï¼Œæ‰€ä»¥ä¼ this</span></span><br><span class="line">  entry(<span class="built_in">this</span>, payload)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ commit å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œdispatch ä¼šæŠ¥é”™</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught TypeError: Cannot <span class="keyword">read</span> <span class="keyword">property</span><span class="title"> </span>&#x27;_mutations&#x27; of undefined</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸º this æŒ‡å‘é—®é¢˜</p><p>è¿™é‡Œé”æ­»ä¸Šä¸‹æ–‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ç»‘å®šcommitå’Œdispatchä¸Šä¸‹æ–‡ä¸ºstoreå®ä¾‹</span></span><br><span class="line">  <span class="built_in">this</span>.commit = <span class="built_in">this</span>.commit.bind(<span class="built_in">this</span>)</span><br><span class="line">  <span class="built_in">this</span>.dispatch = <span class="built_in">this</span>.dispatch.bind(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å®ç°-getters"><a href="#å®ç°-getters" class="headerlink" title="å®ç° getters"></a>å®ç° getters</h5><p>åŒæ ·å…ˆæ·»åŠ æ£€éªŒçš„ä»£ç <br>App.vue</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;p @click&#x3D;&quot;$store.commit(&#39;add&#39;)&quot;&gt;commit:&#123;&#123; $store.state.counter &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p @click&#x3D;&quot;$store.dispatch(&#39;add&#39;)&quot;&gt;dispatch:&#123;&#123; $store.state.counter &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;doubleCounter:&#123;&#123; $store.getters.doubleCounter &#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure><p><code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;./vuex.js&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    counter: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.counter++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        commit(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">doubleCounter</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.counter * <span class="number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢ä¸€æ ·ï¼Œå…ˆä¿å­˜ getters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">this</span>._getters = options.getters</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ computed æ¥å¤„ç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line"><span class="built_in">this</span>._vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    <span class="comment">// åŠ ä¸Š$$ï¼Œæ—¢è¦å¯¹stateåšå“åº”å¼ï¼Œè¿˜ä¸åšä»£ç†</span></span><br><span class="line">    $$state: options.state,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ Vue é‡Œ<code>computed</code>åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œkey æ˜¯æ²¡æœ‰å‚æ•°çš„å‡½æ•°</p><p>å…ˆå®šä¹‰ä¸€ä¸ª computed é€‰é¡¹ï¼Œå†ç»™ç”¨æˆ·æš´éœ²ä¸€ä¸ª getters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// å®šä¹‰computedé€‰é¡¹</span></span><br><span class="line">    <span class="keyword">const</span> computed = &#123;&#125;</span><br><span class="line">    <span class="comment">// ç»™ç”¨æˆ·æš´éœ²getters</span></span><br><span class="line">    <span class="built_in">this</span>.getters = &#123;&#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éå†<code>this._getters</code>æ‰§è¡Œ<br><code>this._getters</code>æ˜¯è¿™æ ·çš„ç»“æ„<code>&#123;doubleCounter(state) &#123;&#125;&#125;</code>ï¼Œä½†æ˜¯éœ€è¦çš„æ˜¯æ— å‚æ•°çš„å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦å°è£…ä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// ä¿å­˜getters</span></span><br><span class="line">    <span class="built_in">this</span>._getters = options.getters</span><br><span class="line">    <span class="comment">// å®šä¹‰computedé€‰é¡¹</span></span><br><span class="line">    <span class="keyword">const</span> computed = &#123;&#125;</span><br><span class="line">    <span class="comment">// ç»™ç”¨æˆ·æš´éœ²getters</span></span><br><span class="line">    <span class="built_in">this</span>.getters = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> store = <span class="built_in">this</span></span><br><span class="line">    <span class="comment">// this._getters =&gt; &#123;doubleCounter(state) &#123;&#125;&#125;</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(<span class="built_in">this</span>._getters).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è·å–ç”¨æˆ·å®šä¹‰çš„getter</span></span><br><span class="line">      <span class="comment">// ç›´æ¥ä½¿ç”¨this._gettersä¼šæœ‰æŒ‡å‘é—®é¢˜ï¼Œæ‰€ä»¥å®šä¹‰äº†store</span></span><br><span class="line">      <span class="keyword">const</span> fn = store._getters[key]</span><br><span class="line">      <span class="comment">// è½¬æ¢ä¸ºcomputedå¯ä»¥ä½¿ç”¨çš„æ— å‚æ•°å½¢å¼</span></span><br><span class="line">      computed[key] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fn(store.state)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆç”¨æˆ·è®¿é—®æ—¶ï¼Œåªèƒ½æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥ä¸º getters å®šä¹‰åªè¯»å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this._getters =&gt; &#123;doubleCounter(state) &#123;&#125;&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.keys(<span class="built_in">this</span>._getters).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–ç”¨æˆ·å®šä¹‰çš„getter</span></span><br><span class="line">  <span class="keyword">const</span> fn = store._getters[key]</span><br><span class="line">  <span class="comment">// è½¬æ¢ä¸ºcomputedå¯ä»¥ä½¿ç”¨çš„æ— å‚æ•°å½¢å¼</span></span><br><span class="line">  computed[key] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn(store.state)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä¸ºgetterså®šä¹‰åªè¯»å±æ€§</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(store.getters, key, &#123;</span><br><span class="line">    get: <span class="function">() =&gt;</span> store._vm[key],</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ğŸ‰getterså®Œæˆ</p><p><em>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/YongMaple/vue-study">https://github.com/YongMaple/vue-study</a></em></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> vue-router </tag>
            
            <tag> vuex </tag>
            
            <tag> æ‰‹æ’•æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vite2å·¥ç¨‹åŒ–</title>
      <link href="2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
      <url>2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<h4 id="Viteæ˜¯ä»€ä¹ˆ"><a href="#Viteæ˜¯ä»€ä¹ˆ" class="headerlink" title="Viteæ˜¯ä»€ä¹ˆ"></a>Viteæ˜¯ä»€ä¹ˆ</h4><p>Viteæ˜¯ä¸€ä¸ªå¼€å‘æ„å»ºå·¥å…·ï¼Œå¼€å‘ä¸­å®ƒåˆ©ç”¨æµè§ˆå™¨<strong>native ES Module</strong>ç‰¹æ€§æŒ‰éœ€å¯¼å…¥æºç ï¼Œé¢„æ‰“åŒ…ä¾èµ–ã€‚<br>ç‰¹ç‚¹ï¼š</p><ul><li>å¯åŠ¨å¿«</li><li>æ›´æ–°å¿«</li></ul><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init @vite/app</span><br></pre></td></tr></table></figure><h4 id="å°†èµ„æºå¼•å…¥ä¸ºURL"><a href="#å°†èµ„æºå¼•å…¥ä¸ºURL" class="headerlink" title="å°†èµ„æºå¼•å…¥ä¸ºURL"></a>å°†èµ„æºå¼•å…¥ä¸ºURL</h4><p>æœåŠ¡æ—¶å¼•å…¥ä¸€ä¸ªé™æ€èµ„æºä¼šè¿”å›è§£æåçš„å…¬å…±è·¯å¾„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æä¸ºåœ°å€</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;./assets/logo.png&#x27;</span>  <span class="comment">// è¾“å‡º/src/assets/logo.png</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªè·¯å¾„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æ‰“å¼€Chrome Networkï¼Œçœ‹App.vueï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢çš„åœ°å€æ˜¯è¢«è§£æåçš„å…¬å…±è·¯å¾„<br><img src="/2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/20210330162917.jpg"></p><h4 id="è®¾ç½®åˆ«å"><a href="#è®¾ç½®åˆ«å" class="headerlink" title="è®¾ç½®åˆ«å"></a>è®¾ç½®åˆ«å</h4><p>vite.config.jsï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> resolve <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: resolve(<span class="string">&#x27;./src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;comps&#x27;</span>: resolve(<span class="string">&#x27;./src/components&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>styleä¸­åŒæ ·å¯ä»¥ä½¿ç”¨åˆ«åæ¥å¼•å…¥å›¾ç‰‡ç­‰</p><h4 id="TSæ•´åˆ"><a href="#TSæ•´åˆ" class="headerlink" title="TSæ•´åˆ"></a>TSæ•´åˆ</h4><p>é»˜è®¤æ•´åˆtsï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ<code>&lt;script lang=&quot;ts&quot;&gt;</code>å³å¯ï¼Œéœ€è¦å›ºå®štsç‰ˆæœ¬çš„è¯ï¼Œåœ¨<code>package.json</code>çš„<code>devDependencies</code>ä¸­ç›´æ¥æ·»åŠ <code>&quot;typescript&quot;: &quot;4.1.5&quot;</code>å³å¯</p><p>tsconfig.jsonå¯ä»¥è‡ªè¡Œé…ç½®åæ”¾å…¥é¡¹ç›®å³å¯</p><h4 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h4><p><code>vite.config.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  server: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        target: <span class="string">&quot;***&quot;</span>,</span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        rewrite: <span class="function">(<span class="params">path</span>) =&gt;</span> path.replace(<span class="regexp">/^\api/</span>, <span class="string">&quot;&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®mock"><a href="#æ•°æ®mock" class="headerlink" title="æ•°æ®mock"></a>æ•°æ®mock</h4><p>å®‰è£…ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i mockjs -S</span><br><span class="line">npm i vite-plugin-mock -D</span><br></pre></td></tr></table></figure><p>å¼•å…¥æ’ä»¶ï¼Œ<code>vite.config.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; viteMockServe &#125; <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-mock&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  plugins: [ viteMockServe(&#123;&#125;) ]</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é¡¹ç›®ä¸‹åˆ›å»º<code>mock</code>æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹å°±å¯ä»¥åˆ›å»ºmockæ•°æ®äº†ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    url: <span class="string">&quot;/api/users&quot;</span>,</span><br><span class="line">    method: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    response: <span class="function"><span class="params">req</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        code: <span class="number">0</span>,</span><br><span class="line">        data: [&#123; <span class="attr">name</span>: <span class="string">&quot;foo&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;bar&quot;</span> &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h4><p>ä½¿ç”¨<code>eslint + prettier</code>è§„èŒƒä»£ç <br>æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/eslint-plugin&quot;</span>: <span class="string">&quot;^4.15.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/parser&quot;</span>: <span class="string">&quot;^4.15.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/eslint-config-prettier&quot;</span>: <span class="string">&quot;^6.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/eslint-config-typescript&quot;</span>: <span class="string">&quot;^7.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vuedx/typescript-plugin-vue&quot;</span>: <span class="string">&quot;^0.6.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^7.20.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-prettier&quot;</span>: <span class="string">&quot;^3.3.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-vue&quot;</span>: <span class="string">&quot;^7.6.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span>: <span class="string">&quot;^2.2.1&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœªå®Œå¾…ç»­</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Reactä¸­çš„nextTick</title>
      <link href="2021/03/29/React%E4%B8%AD%E7%9A%84nextTick/"/>
      <url>2021/03/29/React%E4%B8%AD%E7%9A%84nextTick/</url>
      
        <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ AntV-L7 çš„ Draw-Controlï¼Œéœ€è¦å®ç°åœ¨å¼¹æ¡†ä¸­åœ°å›¾ç”»åœˆæ¡†é€‰èŒƒå›´ã€‚<br>ä½¿ç”¨äº† hooks çš„å†™æ³•ï¼Œåœ¨å¼¹æ¡†å‡ºç°ååœ°å›¾æ­£å¸¸æ˜¾ç¤ºï¼Œç‚¹å‡»ç”»åœˆæˆ–å…¶ä»–ç»˜å›¾åŠŸèƒ½åï¼Œç»˜å›¾çš„ canvas åªæœ‰çº¦ä¸€åŠå¤§å°ã€‚<br>æ€è€ƒåè®¤ä¸ºåº”è¯¥æ˜¯åœ¨<code>new DrawControl()</code>æ—¶ï¼ŒuseState è¿˜æ²¡æ‰§è¡Œèµ‹å€¼ï¼Œé”™è¯¯èŒƒä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> handleDrawCircle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  setShowModal(<span class="literal">true</span>)</span><br><span class="line">  scene = <span class="keyword">new</span> Scene(&#123;</span><br><span class="line">    id: <span class="string">&#x27;drawCircleWrap&#x27;</span>,</span><br><span class="line">    map: <span class="keyword">new</span> GaodeMap(&#123;</span><br><span class="line">      style: <span class="string">&#x27;dark&#x27;</span>,</span><br><span class="line">      center: [<span class="number">120.190494</span>, <span class="number">30.189643</span>],</span><br><span class="line">      pitch: <span class="number">0</span>,</span><br><span class="line">      zoom: <span class="number">4</span>,</span><br><span class="line">      token: GAODE_TOKEN,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;)</span><br><span class="line">  scene.on(<span class="string">&#x27;loaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    drawControl = <span class="keyword">new</span> DrawControl(scene, &#123;</span><br><span class="line">      position: <span class="string">&#x27;topright&#x27;</span>,</span><br><span class="line">      layout: <span class="string">&#x27;horizontal&#x27;</span>,</span><br><span class="line">      controls: &#123;</span><br><span class="line">        point: <span class="literal">false</span>,</span><br><span class="line">        line: <span class="literal">false</span>,</span><br><span class="line">        polygon: <span class="literal">false</span>,</span><br><span class="line">        circle: <span class="literal">true</span>,</span><br><span class="line">        rect: <span class="literal">false</span>,</span><br><span class="line">        <span class="keyword">delete</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    scene.addControl(drawControl)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§ä»¥å‰å†™Vueçš„ç»éªŒï¼Œåªè¦ç”¨nextTickå°±èƒ½è§£å†³äº†ï¼Œä½†æ˜¯æœäº†ä¸€ä¸‹ï¼ŒReactä¸­æ²¡æœ‰nextTickï¼Œä½†æ˜¯æœ‰ä¸¤ç§æ›¿ä»£æ–¹å¼</p><ol><li><code>setTimeout(() =&gt; &#123;&#125;, 0)</code></li><li><code>useEffect(() =&gt; &#123;&#125;, [showModal])</code><br>ä¸¤ç§æ–¹å¼åœ¨æˆ‘çœ‹æ¥éƒ½ä¸æ˜¯å¾ˆå¥½çœ‹â€¦â€¦æœ€åè¿˜æ˜¯å†³å®šç”¨<code>setTimeout</code>ï¼Œå› ä¸ºç”¨<code>useEffect</code>è¿˜éœ€è¦åˆ¤æ–­ä¸‹showModalæ˜¯å¦ä¸ºtrue</li></ol><p>å¦‚æœç”¨Classçš„å†™æ³•ï¼Œä¹Ÿå¯ä»¥è¿™æ ·<code>setState(&#123;&#125;,() =&gt; &#123;&#125;)</code></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> AntV </tag>
            
            <tag> nextTick </tag>
            
            <tag> hooks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueå’ŒReactè®¾è®¡æ€è·¯</title>
      <link href="2021/03/29/Vue%E5%92%8CReact%E6%AF%94%E8%BE%83/"/>
      <url>2021/03/29/Vue%E5%92%8CReact%E6%AF%94%E8%BE%83/</url>
      
        <content type="html"><![CDATA[<h4 id="å‘å±•å†ç¨‹"><a href="#å‘å±•å†ç¨‹" class="headerlink" title="å‘å±•å†ç¨‹"></a>å‘å±•å†ç¨‹</h4><ul><li>Vue1<br>åªæœ‰å“åº”å¼ï¼Œæ²¡æœ‰vdomï¼Œæ‰€æœ‰çš„éƒ½æ˜¯é€šçŸ¥çš„æœºåˆ¶</li><li>React15<br>Class Component</li><li>Vue2<br>å¼•å…¥äº†vdom</li><li>React16<br>å¼•å…¥äº†Fiberå’ŒHooks</li><li>Vue3 &amp; React17</li></ul><h4 id="Vue3-amp-React17"><a href="#Vue3-amp-React17" class="headerlink" title="Vue3 &amp; React17"></a>Vue3 &amp; React17</h4><ul><li>Vue OptionApi<ol><li>ä¼˜ç‚¹ï¼šç»“æ„æ¸…æ™°ï¼Œå¥½ç†è§£ï¼Œæ•°æ®å»dataï¼Œæ–¹æ³•å»methodsç­‰ï¼Œæ˜“å­¦ã€‚</li><li>ç¼ºç‚¹ï¼šå°±æ˜¯åå¤æ¨ªè·³ï¼Œåœ¨å¤„ç†ä¸€ä¸ªé€»è¾‘æ—¶ï¼Œéœ€è¦åœ¨templateã€dataã€methodsç­‰åå¤æ“ä½œã€‚mixinsæœ‰ä¸ªé—®é¢˜ï¼Œå¯èƒ½å‘½åå†²çªï¼ŒåŒæ—¶mixinsæ—¶thisæ˜¯ä¸ªé»‘ç›’ï¼Œé‡Œé¢æœ‰ä»€ä¹ˆæ˜¯ä¸çŸ¥é“çš„ï¼Œtsæ”¯æŒå·®</li></ol></li><li>Vue CompositionApi<ol><li>ç¼ºç‚¹ï¼šéš¾çœ‹ï¼Œä¸å¦‚Optionç®€å•ã€‚returnå¾ˆè›‹ç–¼ï¼Œreturnä¹Ÿè¦åå¤æ¨ªè·³</li><li>ä¼˜ç‚¹ï¼š</li></ol><ul><li>å¯ä»¥åštree-shakingï¼Œæ¯”å¦‚æ²¡æœ‰ç”¨åˆ°computedï¼Œä»£ç buildçš„æ—¶å€™å°±ä¼šåˆ æ‰Vue3é‡Œé¢çš„computedçš„ä»£ç </li><li>ç»„ä»¶å¯ä»¥ä»»æ„æ‹†åˆ† æ–¹ä¾¿ç»„åˆ é€»è¾‘éƒ½æ˜¯å‡½æ•°ï¼Œç»„åˆä¼˜äºç»§æ‰¿</li><li>å‘½åå†²çªäº†åªè¦:èµ·ä¸ªåˆ«åå°±è¡Œäº†</li></ul></li><li>æ¸è¿›å¼æ›´æ–°ref api<ul><li>setupå†™åœ¨scriptï¼Œè§£å†³returnç­‰å†—ä½™</li><li>æ–¹è¨€ï¼š<code>let x = ref(0)</code> =&gt; <code>ref: x = 1</code>ä½¿ç”¨æ—¶å¯ä»¥ä¸ç”¨å†™<code>x.value</code></li></ul></li><li>compositionå’Œhooksçš„åŒºåˆ«<ul><li>è¯­æ³•ä¸Šæ¯”è¾ƒåƒï¼Œä½†åº•å±‚è®¾è®¡ä¸ŠåŒºåˆ«å¾ˆå¤§</li><li>hooksä¸­ä¾‹å¦‚useStateæ¯æ¬¡renderéƒ½ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æœ‰ä¸¥æ ¼çš„é¡ºåºè¦æ±‚ï¼Œä¸èƒ½å†™åœ¨ifé‡Œé¢</li><li>compositionåç»­é çš„æ˜¯å“åº”å¼é€šçŸ¥</li><li>éƒ½é‡‡ç”¨ç»„åˆçš„å½¢å¼ï¼Œå‡½æ•°å¼çš„ç»„ä»¶æ˜¯æœªæ¥</li></ul></li><li>vue å“åº”å¼ + vdom<ul><li>å“åº”å¼ï¼š æ•°æ®å˜äº†é€šçŸ¥ä½ </li><li>vdomï¼š æ•°æ®å˜äº†ä½ ä¸çŸ¥é“å“ªé‡Œå˜äº†ï¼Œéœ€è¦ç®—ä¸€æ¬¡diffï¼Œæ‰çŸ¥é“å˜åŒ–</li><li>vue1åªæœ‰å“åº”å¼ï¼Œé¡¹ç›®å¤§äº†ä¹‹åï¼Œå“åº”å¼å¯¹è±¡å¤ªå¤šï¼Œå¯¼è‡´å¡é¡¿</li></ul></li><li>reactçº¯vdom<ul><li>vdomæ ‘å¤ªå¤§ï¼Œdiffæ—¶é—´è¶…è¿‡16.6msï¼Œä¼šå¯¼è‡´å¡é¡¿</li></ul></li><li>React Class =&gt; hooks</li></ul><h4 id="JSX-å’Œ-Template"><a href="#JSX-å’Œ-Template" class="headerlink" title="JSX å’Œ Template"></a>JSX å’Œ Template</h4><p>æœªå®Œå¾…ç»­</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è®¾ç½®iTerm2å…å¯†ç™»é™†sshè¿œç¨‹æœåŠ¡å™¨</title>
      <link href="2021/03/27/%E8%AE%BE%E7%BD%AEiTerm2%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>2021/03/27/%E8%AE%BE%E7%BD%AEiTerm2%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>è½¬è½½è‡ª<a href="https://zhuanlan.zhihu.com/p/180500618">https://zhuanlan.zhihu.com/p/180500618</a></p><p>åŸæ–‡ä¸­ä»£ç å­˜åœ¨bugï¼Œå·²ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/expect -f</span></span><br><span class="line"><span class="comment">#trap sigwinch spawned</span></span><br><span class="line">  <span class="built_in">trap</span> &#123;</span><br><span class="line">    <span class="built_in">set</span> rows [stty rows]</span><br><span class="line">    <span class="built_in">set</span> cols [stty columns]</span><br><span class="line">    stty rows <span class="variable">$rows</span> columns <span class="variable">$cols</span> &lt; <span class="variable">$spawn_out</span>(slave,name)</span><br><span class="line">   &#125; WINCH</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> user username</span><br><span class="line"><span class="built_in">set</span> host 0.0.0.0</span><br><span class="line"><span class="built_in">set</span> password keys</span><br><span class="line"><span class="built_in">set</span> timeout -1</span><br><span class="line">spawn ssh -XY <span class="variable">$user</span>@<span class="variable">$host</span></span><br><span class="line">expect <span class="string">&quot;*password:*&quot;</span></span><br><span class="line">send <span class="string">&quot;<span class="variable">$password</span>\r&quot;</span></span><br><span class="line">interact</span><br><span class="line">expect eof</span><br></pre></td></tr></table></figure><p>ç®€è¿°ä¸‹é€»è¾‘å°±æ˜¯ï¼Œ</p><ol><li>åœ¨æœ¬åœ°ä½ æƒ³å­˜åœ¨å‘½ä»¤çš„åœ°æ–¹å»ºä¸ªæ–‡ä»¶å¤¹</li><li>æŠŠä¸Šé¢çš„ä»£ç å†™å¥½ï¼Œä¿å­˜è¿›å»</li><li>ç„¶ååœ¨iterm2é‡Œé…ç½®å¥½</li><li>ä¹‹åiterm2å°±å¯ä»¥ä¸€é”®æ‰§è¡Œä»£ç äº†ï¼Œç”¨æ¥ç™»å½•æœåŠ¡å™¨ï¼Œå¹¶çª—å£å¯ä»¥è‡ªé€‚åº”<br>å…·ä½“å¯ä»¥çœ‹åŸæ–‡</li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iTerm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reacté€’å½’æ¸²æŸ“AntDèœå•</title>
      <link href="2021/03/25/React%E9%80%92%E5%BD%92%E6%B8%B2%E6%9F%93AntD%E8%8F%9C%E5%8D%95/"/>
      <url>2021/03/25/React%E9%80%92%E5%BD%92%E6%B8%B2%E6%9F%93AntD%E8%8F%9C%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h3 id="layoutsçš„å†™æ³•"><a href="#layoutsçš„å†™æ³•" class="headerlink" title="layoutsçš„å†™æ³•"></a>layoutsçš„å†™æ³•</h3><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> renderMenu = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> data.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.routes &amp;&amp; item.routes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;SubMenu</span><br><span class="line">          key=&#123;item.name&#125;</span><br><span class="line">          title=&#123;item.name&#125;</span><br><span class="line">          icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;renderMenu(item.routes)&#125;</span><br><span class="line">        &lt;/SubMenu&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (item.other) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Menu.Item key=&#123;item.path&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">        &#123;item.name&#125;</span><br><span class="line">      &lt;/Menu.Item&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> handleMenu = <span class="function">(<span class="params">&#123; key &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  history.push(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  ...</span><br><span class="line">  &lt;Menu</span><br><span class="line">    defaultSelectedKeys=&#123;[location.pathname]&#125;</span><br><span class="line">    mode=<span class="string">&quot;inline&quot;</span></span><br><span class="line">    inlineCollapsed=&#123;collapsed&#125;</span><br><span class="line">    className=&#123;style.menu&#125;</span><br><span class="line">    onClick=&#123;handleMenu&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;renderMenu(routes)&#125;</span><br><span class="line">  &lt;/Menu&gt;</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="routesçš„å†™æ³•"><a href="#routesçš„å†™æ³•" class="headerlink" title="routesçš„å†™æ³•"></a>routesçš„å†™æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  path: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">  component: <span class="string">&#x27;@/pages/foo&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  path: <span class="string">&#x27;/foobar&#x27;</span>,</span><br><span class="line">  component: <span class="string">&#x27;@/pages/foobar&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Foobar&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;foobar&#x27;</span>,</span><br><span class="line">  other: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  name: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      exact: <span class="literal">true</span>,</span><br><span class="line">      path: <span class="string">&#x27;/baz&#x27;</span>,</span><br><span class="line">      component: <span class="string">&#x27;@/pages/baz&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;Baz&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">exact</span>: <span class="literal">true</span>, </span><br><span class="line">      path: <span class="string">&#x27;/qux&#x27;</span>, </span><br><span class="line">      component: <span class="string">&#x27;@/pages/qux&#x27;</span>, </span><br><span class="line">      name: <span class="string">&#x27;Qux&#x27;</span> </span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AntD </tag>
            
            <tag> React </tag>
            
            <tag> Menu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¸­å›¾ç‰‡ç»„ä»¶hexo-asset-imageçš„ä½¿ç”¨</title>
      <link href="2021/03/16/hexo%E4%B8%AD%E5%9B%BE%E7%89%87%E7%BB%84%E4%BB%B6hexo-asset-image%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>2021/03/16/hexo%E4%B8%AD%E5%9B%BE%E7%89%87%E7%BB%84%E4%BB%B6hexo-asset-image%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>hexoä¸­ç›´æ¥é€šè¿‡<code>npm i hexo-asset-image</code>ä¸‹è½½çš„ç»„ä»¶ç”±äºæ²¡äººç»´æŠ¤ï¼Œç›®å‰æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚<br>æ ¹æ®<a href="https://blog.csdn.net/xjm850552586/article/details/84101345">https://blog.csdn.net/xjm850552586/article/details/84101345</a>çš„ä»£ç .<br>æˆ‘forkäº†åŸ<code>hexo-asset-image</code>é¡¹ç›®ï¼Œåœ¨npmä¸Šå‘å¸ƒäº†<code>hexo-assets-images</code>ç»„ä»¶ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-<span class="built_in">image</span> --<span class="built_in">save</span></span><br></pre></td></tr></table></figure><p><code>hexo new post [title]</code>åï¼Œä¼šåœ¨_postsæ–‡ä»¶å¤¹ä¸‹ç”ŸæˆåŒåæ–‡ä»¶å¤¹<br>åœ¨éœ€è¦æ’å…¥å›¾ç‰‡çš„åœ°æ–¹å†™<code>![logo](logo.jpg)</code>ï¼Œå°†æ’å…¥<code>[title]</code>æ–‡ä»¶å¤¹ä¸‹logo.jpg.</p>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨ç«¯100VHæ—¶é«˜åº¦ä¸æ»¡</title>
      <link href="2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/"/>
      <url>2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒè‡ª<a href="https://blog.csdn.net/lgno2/article/details/109446447">ç§»åŠ¨ç«¯é¿å…ä½¿ç”¨100vh</a></p><h4 id="å¤ç°ï¼š"><a href="#å¤ç°ï¼š" class="headerlink" title="å¤ç°ï¼š"></a>å¤ç°ï¼š</h4><p>é’‰é’‰H5å¼€å‘ï¼Œä½¿ç”¨<code>dd_full_screen=true&amp;showmenu=false</code>è®¾ç½®ä¸ºå…¨å±ï¼Œåœ¨iphoneXä¸Šï¼Œé«˜åº¦ä¸è¶³ï¼Œåº•éƒ¨ç¼ºå¤±éƒ¨åˆ†</p><span id="more"></span><p><img src="/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/image.png"></p><h4 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h4><p>æ ¸å¿ƒé—®é¢˜æ˜¯ç§»åŠ¨æµè§ˆå™¨ï¼ˆæˆ‘æ­£åœ¨ä¸ºæ‚¨æµè§ˆï¼ŒChromeå’ŒSafariï¼‰å…·æœ‰â€œå¸®åŠ©â€åŠŸèƒ½ï¼Œå…¶ä¸­åœ°å€æ æœ‰æ—¶å¯è§ï¼Œæœ‰æ—¶éšè—ï¼Œä»è€Œæ”¹å˜äº†è§†å£çš„å¯è§å¤§å°ã€‚è¿™äº›æµè§ˆå™¨æ²¡æœ‰å°†100vhé«˜åº¦è°ƒæ•´ä¸ºè§†å£é«˜åº¦å˜åŒ–æ—¶å±å¹•çš„å¯è§éƒ¨åˆ†ï¼Œè€Œæ˜¯å°†100vhè®¾ç½®ä¸ºæµè§ˆå™¨çš„é«˜åº¦ï¼Œå¹¶éšè—äº†åœ°å€æ ã€‚ç»“æœæ˜¯ï¼Œå½“åœ°å€æ å¯è§æ—¶ï¼Œå±å¹•çš„åº•éƒ¨å°†è¢«åˆ‡é™¤ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/image2.jpg"></p><p>å½“æ˜¾ç¤ºåœ°å€æ æ—¶ï¼Œç”±äºç§»åŠ¨æµè§ˆå™¨é”™è¯¯åœ°å°†100vhè®¾ç½®ä¸ºå±å¹•é«˜åº¦è€Œæ²¡æœ‰æ˜¾ç¤ºåœ°å€æ ï¼Œå› æ­¤å±å¹•åº•éƒ¨è¢«åˆ‡æ–­ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œåº”éšè—åœ¨å±å¹•åº•éƒ¨çš„æŒ‰é’®ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå½“ç”¨æˆ·é¦–æ¬¡è®¿é—®ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç½‘ç«™æ—¶ï¼Œåœ°å€æ å°†åœ¨é¡¶éƒ¨å¯è§ï¼Œå› æ­¤é»˜è®¤çš„ä½“éªŒæ˜¯ç ´ç¢çš„ä½“éªŒã€‚</p><h4 id="è§£å†³ï¼š"><a href="#è§£å†³ï¼š" class="headerlink" title="è§£å†³ï¼š"></a>è§£å†³ï¼š</h4><p>ä½¿ç”¨window.innerHeightåŠ¨æ€è®¾ç½®é«˜åº¦</p>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§»åŠ¨ç«¯é€‚é… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AntDä¸­menuåŠ¨æ€ç”Ÿæˆï¼ŒåŠåŠ¨æ€ç”ŸæˆIcon</title>
      <link href="2021/03/09/AntD%E4%B8%ADmenu%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%EF%BC%8C%E5%8F%8A%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90Icon/"/>
      <url>2021/03/09/AntD%E4%B8%ADmenu%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%EF%BC%8C%E5%8F%8A%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90Icon/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ routes.ts é‡Œé¢é…ç½®è·¯ç”±ï¼Œmenu æ ¹æ® routes åŠ¨æ€ç”Ÿæˆ</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    exact: <span class="literal">false</span>,</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    component: <span class="string">&#x27;@/layouts/index&#x27;</span>,</span><br><span class="line">    routes: [</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/overview&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Overview&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;æ€»è§ˆ&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;RadarChartOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/events&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Events&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;äº‹ä»¶åˆ—è¡¨&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;BarsOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/feedback&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Feedback&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;æƒ…æŠ¥åé¦ˆ&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;AlertOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/contacts&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Contacts&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;è”ç³»äºº&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;DeploymentUnitOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        name: <span class="string">&#x27;åå°ç®¡ç†&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;SlidersOutlined&#x27;</span>,</span><br><span class="line">        routes: [</span><br><span class="line">          &#123;</span><br><span class="line">            exact: <span class="literal">true</span>,</span><br><span class="line">            path: <span class="string">&#x27;/classifications&#x27;</span>,</span><br><span class="line">            component: <span class="string">&#x27;@/pages/Classifications&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;åˆ†ç±»ç®¡ç†&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            exact: <span class="literal">true</span>,</span><br><span class="line">            path: <span class="string">&#x27;/records&#x27;</span>,</span><br><span class="line">            component: <span class="string">&#x27;@/pages/Records&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;æ“ä½œæ—¥å¿—&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆ menu</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Icon <span class="keyword">from</span> <span class="string">&#x27;@alipay/bigfish/icons&#x27;</span>;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">// ç”¨React.createElementåŠ¨æ€åˆ›å»ºå…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> createIcon = <span class="function">(<span class="params">name: string</span>) =&gt;</span></span><br><span class="line">  React.createElement(Icon &amp;&amp; (Icon <span class="keyword">as</span> any)[name], &#123;</span><br><span class="line">    style: &#123; <span class="attr">fontSize</span>: <span class="string">&#x27;16px&#x27;</span> &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="keyword">const</span> renderMenu = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> data.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.routes &amp;&amp; item.routes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;SubMenu key=&#123;item.name&#125; title=&#123;item.name&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">          &#123;renderMenu(item.routes)&#125;</span><br><span class="line">        &lt;/SubMenu&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Menu.Item key=&#123;item.path&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">        &#123;item.name&#125;</span><br><span class="line">      &lt;/Menu.Item&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  ...</span><br><span class="line">    &lt;Menu</span><br><span class="line">      defaultSelectedKeys=&#123;[location.pathname]&#125;</span><br><span class="line">      <span class="comment">// defaultOpenKeys=&#123;[&#x27;sub1&#x27;]&#125;</span></span><br><span class="line">      mode=<span class="string">&quot;inline&quot;</span></span><br><span class="line">      inlineCollapsed=&#123;collapsed&#125;</span><br><span class="line">      className=&#123;style.menu&#125;</span><br><span class="line">      onClick=&#123;handleMenu&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123; renderMenu(routes) &#125;</span><br><span class="line">    &lt;/Menu&gt;</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AntD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨macä¸Šä½¿ç”¨androidæ¨¡æ‹Ÿå™¨é€šè¿‡chromeè°ƒè¯•webviewå†…é¡µé¢</title>
      <link href="2021/02/09/%E5%9C%A8mac%E4%B8%8A%E4%BD%BF%E7%94%A8android%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%80%9A%E8%BF%87chrome%E8%B0%83%E8%AF%95webview%E5%86%85%E9%A1%B5%E9%9D%A2/"/>
      <url>2021/02/09/%E5%9C%A8mac%E4%B8%8A%E4%BD%BF%E7%94%A8android%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%80%9A%E8%BF%87chrome%E8%B0%83%E8%AF%95webview%E5%86%85%E9%A1%B5%E9%9D%A2/</url>
      
        <content type="html"><![CDATA[<h4 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h4><ol><li>é’‰é’‰dev App <a href="http://download.alicdn.com/wireless/dingtalk/latest/rimet_10006337.apk?spm=ding_open_doc.document.0.0.4f077391n1eV6r&file=rimet_10006337.apk">ä¸‹è½½åœ°å€</a></li><li>ç½‘æ˜“mumuæ¨¡æ‹Ÿå™¨ï¼ˆä¸ä½¿ç”¨VirtualBoxç­‰è¿è§„è½¯ä»¶ï¼‰</li><li>adbå·¥å…·åŒ…<br>â€¢ æ£€æŸ¥æ˜¯å¦å®‰è£…è¿‡ <code>adb devices</code><br>â€¢ é€šè¿‡brewå®‰è£… <code>brew cask install android-platform-tools</code><br>â€¢ æ£€æŸ¥ä¸é€šè¿‡çš„è¯ï¼Œé‡å¯ä¸€ä¸‹ <code>adb kill-server &amp;&amp; adb server &amp;&amp; adb shell</code></li><li>androidå¼€å‘å·¥å…·(åªä¸ºäº†androidçš„é©±åŠ¨ï¼Œå¦‚æœå¯ä»¥è¿æ¥ï¼Œé‚£å°±ä¸ç”¨è£…äº†) <a href="https://developer.android.com/">ä¸‹è½½åœ°å€</a></li><li>chromeæµè§ˆå™¨<h4 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h4></li><li>åœ¨mumuä¸­å®‰é’‰é’‰dev.apkï¼Œæ‹–è¿›å»å°±è¡Œ</li><li>åœ¨mumuä¸­æ‰“å¼€<code>å¼€å‘è€…æ¨¡å¼</code>ï¼Œå¹¶å¯ç”¨<code>usbè°ƒè¯•</code></li><li>åœ¨mumuæ–‡ä»¶ç®¡ç†ä¸­ç‚¹å‡»å·¦ä¸Šè§’å›¾æ ‡ï¼Œå†ç‚¹å‡»å·¦ä¸‹è§’è®¾ç½®å›¾æ ‡ï¼Œé€‰æ‹©å¸¸è§„è®¾ç½®-è®¿é—®æ¨¡å¼ï¼Œé€‰æ‹©è¶…çº§ç”¨æˆ·è®¿é—®æ¨¡å¼</li><li>åœ¨mumuæ–‡ä»¶ç®¡ç†ä¸­æœç´¢hostsï¼Œæ·»åŠ macçš„ipåœ°å€å’Œlocal.alipay.net å¦‚ï¼š<code>30.38.33.35       local.alipay.net</code></li><li>æ‰“å¼€é’‰é’‰devï¼Œå‰å¾€è¦è°ƒè¯•çš„é¡µé¢</li><li>æ‰“å¼€chromeï¼Œè¾“å…¥<code>chrome://inspect</code></li><li>é€‰æ‹©å¯¹åº”é¡µé¢è°ƒè¯•<h4 id="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"><a href="#å¯èƒ½å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"></a>å¯èƒ½å­˜åœ¨çš„é—®é¢˜</h4></li><li>å¦‚æœæ‰‹æœºæ‰“å¼€é¡µé¢åï¼Œinspectä¸­ä»ç„¶çœ‹ä¸åˆ°ï¼Œå°±é‡å¯adb  <code>adb kill-server &amp;&amp; adb server &amp;&amp; adb shell</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> androidæ¨¡æ‹Ÿå™¨ </tag>
            
            <tag> webview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨JSè·å–translate3dä¸­çš„æ•°å€¼</title>
      <link href="2021/02/09/%E7%94%A8JS%E8%8E%B7%E5%8F%96translate3d%E4%B8%AD%E7%9A%84%E6%95%B0%E5%80%BC/"/>
      <url>2021/02/09/%E7%94%A8JS%E8%8E%B7%E5%8F%96translate3d%E4%B8%AD%E7%9A%84%E6%95%B0%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<p>ä»£ç å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–DOM</span></span><br><span class="line"><span class="keyword">const</span> scrollContainer = <span class="built_in">document</span>.getElementsByClassName(</span><br><span class="line">  <span class="string">&#x27;viewer-container__viewer-image-container&#x27;</span></span><br><span class="line">)[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> imgDom = scrollContainer.childNodes[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// è·å–transform</span></span><br><span class="line"><span class="keyword">const</span> translates = <span class="built_in">document</span>.defaultView.getComputedStyle(imgDom, <span class="literal">null</span>).transform <span class="comment">//  matrix(a,b,c,d,e,f)</span></span><br><span class="line"><span class="comment">// åˆ†å‰²matrixçŸ©é˜µï¼Œéœ€è¦å…ˆæ¸…é™¤å¤šå‡ºæ¥çš„ä¸€ä¸ª)</span></span><br><span class="line"><span class="keyword">const</span> split = translates.replace(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å–yè½´å€¼</span></span><br><span class="line"><span class="keyword">const</span> y = <span class="built_in">Number</span>(split[split.length - <span class="number">1</span>])</span><br><span class="line"><span class="comment">// è·å–xè½´å€¼</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="built_in">Number</span>(split[split.length - <span class="number">2</span>])</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> translate3d </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSåå¤§ç»å…¸æ’åº</title>
      <link href="2021/01/05/JS%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F/"/>
      <url>2021/01/05/JS%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/yinhao-jack/p/10838401.html">https://www.cnblogs.com/yinhao-jack/p/10838401.html</a></p><h4 id="1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰"><a href="#1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰" class="headerlink" title="1. å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰"></a>1. å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</h4><p>å†’æ³¡æ’åºé¡»çŸ¥ï¼š<br>ä½œä¸ºæœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå†’æ³¡æ’åºç»™æˆ‘çš„æ„Ÿè§‰å°±åƒ Abandon åœ¨å•è¯ä¹¦é‡Œå‡ºç°çš„æ„Ÿè§‰ä¸€æ ·ï¼Œæ¯æ¬¡éƒ½åœ¨ç¬¬ä¸€é¡µç¬¬ä¸€ä½ï¼Œæ‰€ä»¥æœ€ç†Ÿæ‚‰ã€‚ã€‚ã€‚å†’æ³¡æ’åºè¿˜æœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå°±æ˜¯ç«‹ä¸€ä¸ª flagï¼Œå½“åœ¨ä¸€è¶Ÿåºåˆ—éå†ä¸­å…ƒç´ æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯æ˜è¯¥åºåˆ—å·²ç»æœ‰åºã€‚ä½†è¿™ç§æ”¹è¿›å¯¹äºæå‡æ€§èƒ½æ¥è¯´å¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§ä½œç”¨ã€‚ã€‚ã€‚</p><p>ä»€ä¹ˆæ—¶å€™æœ€å¿«ï¼ˆBest Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®å·²ç»æ˜¯æ­£åºæ—¶ï¼ˆéƒ½å·²ç»æ˜¯æ­£åºäº†ï¼Œæˆ‘è¿˜è¦ä½ å†’æ³¡æ’åºæœ‰ä½•ç”¨å•Šã€‚ã€‚ã€‚ã€‚ï¼‰</p><p>ä»€ä¹ˆæ—¶å€™æœ€æ…¢ï¼ˆWorst Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®æ˜¯ååºæ—¶ï¼ˆå†™ä¸€ä¸ª for å¾ªç¯ååºè¾“å‡ºæ•°æ®ä¸å°±è¡Œäº†ï¼Œå¹²å˜›è¦ç”¨ä½ å†’æ³¡æ’åºå‘¢ï¼Œæˆ‘æ˜¯é—²çš„å—ã€‚ã€‚ã€‚ï¼‰</p><p>å†’æ³¡æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="comment">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span></span><br><span class="line">        <span class="keyword">var</span> temp = arr[j + <span class="number">1</span>] <span class="comment">//å…ƒç´ äº¤æ¢</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = arr[j]</span><br><span class="line">        arr[j] = temp</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰"><a href="#2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰" class="headerlink" title="2. é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰"></a>2. é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</h4><p>é€‰æ‹©æ’åºé¡»çŸ¥ï¼š<br>åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šè¡¨ç°æœ€ç¨³å®šçš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ O(nÂ²)çš„æ—¶é—´å¤æ‚åº¦ã€‚ã€‚ã€‚æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚</p><p>é€‰æ‹©æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">var</span> minIndex, temp</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    minIndex = i</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;</span><br><span class="line">        <span class="comment">//å¯»æ‰¾æœ€å°çš„æ•°</span></span><br><span class="line">        minIndex = j <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = arr[i]</span><br><span class="line">    arr[i] = arr[minIndex]</span><br><span class="line">    arr[minIndex] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰" class="headerlink" title="3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰"></a>3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</h4><p>æ’å…¥æ’åºé¡»çŸ¥ï¼š<br>æ’å…¥æ’åºçš„ä»£ç å®ç°è™½ç„¶æ²¡æœ‰å†’æ³¡æ’åºå’Œé€‰æ‹©æ’åºé‚£ä¹ˆç®€å•ç²—æš´ï¼Œä½†å®ƒçš„åŸç†åº”è¯¥æ˜¯æœ€å®¹æ˜“ç†è§£çš„äº†ï¼Œå› ä¸ºåªè¦æ‰“è¿‡æ‰‘å…‹ç‰Œçš„äººéƒ½åº”è¯¥èƒ½å¤Ÿç§’æ‡‚ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¯´ä½ æ‰“æ‰‘å…‹ç‰Œæ‘¸ç‰Œçš„æ—¶å€™ä»æ¥ä¸æŒ‰ç‰Œçš„å¤§å°æ•´ç†ç‰Œï¼Œé‚£ä¼°è®¡è¿™è¾ˆå­ä½ å¯¹æ’å…¥æ’åºçš„ç®—æ³•éƒ½ä¸ä¼šäº§ç”Ÿä»»ä½•å…´è¶£äº†ã€‚ã€‚ã€‚<br>æ’å…¥æ’åºå’Œå†’æ³¡æ’åºä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå«åšæ‹†åŠæ’å…¥ã€‚å¯¹äºè¿™ç§ç®—æ³•ï¼Œå¾—äº†æ‡’ç™Œçš„æˆ‘å°±å¥—ç”¨æ•™ç§‘ä¹¦ä¸Šçš„ä¸€å¥ç»å…¸çš„è¯å§ï¼šæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥åœ¨è¯¾åè‡ªè¡Œç ”ç©¶ã€‚ã€‚ã€‚</p><p>æ’å…¥æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">var</span> preIndex, current</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">    preIndex = i - <span class="number">1</span></span><br><span class="line">    current = arr[i]</span><br><span class="line">    <span class="keyword">while</span> (preIndex &gt;= <span class="number">0</span> &amp;&amp; arr[preIndex] &gt; current) &#123;</span><br><span class="line">      arr[preIndex + <span class="number">1</span>] = arr[preIndex]</span><br><span class="line">      preIndex--</span><br><span class="line">    &#125;</span><br><span class="line">    arr[preIndex + <span class="number">1</span>] = current</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰"><a href="#4-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰" class="headerlink" title="4. å¸Œå°”æ’åºï¼ˆShell Sortï¼‰"></a>4. å¸Œå°”æ’åºï¼ˆShell Sortï¼‰</h5><p>å¸Œå°”æ’åºé¡»çŸ¥ï¼š<br>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ›´é«˜æ•ˆç‡çš„å®ç°ã€‚å®ƒä¸æ’å…¥æ’åºçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šä¼˜å…ˆæ¯”è¾ƒè·ç¦»è¾ƒè¿œçš„å…ƒç´ ã€‚å¸Œå°”æ’åºçš„æ ¸å¿ƒåœ¨äºé—´éš”åºåˆ—çš„è®¾å®šã€‚æ—¢å¯ä»¥æå‰è®¾å®šå¥½é—´éš”åºåˆ—ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€çš„å®šä¹‰é—´éš”åºåˆ—ã€‚åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—çš„ç®—æ³•æ˜¯ã€Šç®—æ³•ï¼ˆç¬¬ 4 ç‰ˆã€‹çš„åˆè‘—è€… Robert Sedgewick æå‡ºçš„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°±ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ã€‚</p><p>å¸Œå°”æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length,</span><br><span class="line">    temp,</span><br><span class="line">    gap = <span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span> (gap &lt; len / <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">//åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—</span></span><br><span class="line">    gap = gap * <span class="number">3</span> + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (gap; gap &gt; <span class="number">0</span>; gap = <span class="built_in">Math</span>.floor(gap / <span class="number">3</span>)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = gap; i &lt; len; i++) &#123;</span><br><span class="line">      temp = arr[i]</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = i - gap; j &gt; <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j -= gap) &#123;</span><br><span class="line">        arr[j + gap] = arr[j]</span><br><span class="line">      &#125;</span><br><span class="line">      arr[j + gap] = temp</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰"><a href="#5-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰" class="headerlink" title="5. å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰"></a>5. å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</h4><p>å½’å¹¶æ’åºé¡»çŸ¥ï¼š<br>ä½œä¸ºä¸€ç§å…¸å‹çš„åˆ†è€Œæ²»ä¹‹æ€æƒ³çš„ç®—æ³•åº”ç”¨ï¼Œå½’å¹¶æ’åºçš„å®ç°ç”±ä¸¤ç§æ–¹æ³•ï¼š</p><p>è‡ªä¸Šè€Œä¸‹çš„é€’å½’ï¼ˆæ‰€æœ‰é€’å½’çš„æ–¹æ³•éƒ½å¯ä»¥ç”¨è¿­ä»£é‡å†™ï¼Œæ‰€ä»¥å°±æœ‰äº†ç¬¬ 2 ç§æ–¹æ³•ï¼‰<br>è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£<br>åœ¨ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³• JavaScript æè¿°ã€‹ä¸­ï¼Œä½œè€…ç»™å‡ºäº†è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£æ–¹æ³•ã€‚ä½†æ˜¯å¯¹äºé€’å½’æ³•ï¼Œä½œè€…å´è®¤ä¸ºï¼š</p><blockquote><p>However, it is not possible to do so in JavaScript, as the recursion goes too deep for the language to handle.<br>ç„¶è€Œ,åœ¨ JavaScript ä¸­è¿™ç§æ–¹å¼ä¸å¤ªå¯è¡Œ,å› ä¸ºè¿™ä¸ªç®—æ³•çš„é€’å½’æ·±åº¦å¯¹å®ƒæ¥è®²å¤ªæ·±äº†ã€‚</p></blockquote><p>è¯´å®è¯ï¼Œæˆ‘ä¸å¤ªç†è§£è¿™å¥è¯ã€‚æ„æ€æ˜¯ JavaScript ç¼–è¯‘å™¨å†…å­˜å¤ªå°ï¼Œé€’å½’å¤ªæ·±å®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºå—ï¼Ÿè¿˜æœ›æœ‰å¤§ç¥èƒ½å¤ŸæŒ‡æ•™ã€‚<br>æ›´æ–°ï¼š<br>åœ¨ã€ŠJavaScript è¯­è¨€ç²¾ç²¹ã€‹çš„ç¬¬å››ç« é‡Œæåˆ°äº†é€’å½’é—®é¢˜ã€‚å¯¹æˆ‘ä¹‹å‰çš„ç–‘é—®è¿›è¡Œäº†è§£ç­”ï¼š</p><blockquote><p>Some languages offer the tail recursion optimization. This means that if a function returns the result of invoking itself recursively, then the invocation is replaced with a loop, which can significantly speed things up. Unfortunately, JavaScript does not currently provide tail recursion optimization. Functions that recurse very deeply can fail by exhausting the return stack.<br>ä¸€äº›è¯­è¨€æä¾›äº†å°¾é€’å½’ä¼˜åŒ–ã€‚è¿™æ„å‘³ç€å¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›è‡ªèº«é€’å½’è°ƒç”¨çš„ç»“æœï¼Œé‚£ä¹ˆè°ƒç”¨çš„è¿‡ç¨‹ä¼šè¢«æ›¿æ¢ä¸ºä¸€ä¸ªå¾ªç¯ï¼Œå®ƒå¯ä»¥æ˜¾è‘—æé«˜é€Ÿåº¦ã€‚é—æ†¾çš„æ˜¯ï¼ŒJavaScript å½“å‰å¹¶æ²¡æœ‰æä¾›å°¾é€’å½’ä¼˜åŒ–ã€‚æ·±åº¦é€’å½’çš„å‡½æ•°å¯èƒ½ä¼šå› ä¸ºå †æ ˆæº¢å‡ºè€Œè¿è¡Œå¤±è´¥ã€‚</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ JavaScript æ²¡æœ‰å¯¹é€’å½’è¿›è¡Œä¼˜åŒ–ã€‚è¿ç”¨é€’å½’å‡½æ•°ä¸ä»…æ²¡æœ‰è¿è¡Œé€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿ï¼Œè¿˜å¯èƒ½é€ æˆç¨‹åºè¿è¡Œå¤±è´¥ã€‚å› æ­¤ä¸å»ºè®®ä½¿ç”¨é€’å½’ã€‚</p><p>å’Œé€‰æ‹©æ’åºä¸€æ ·ï¼Œå½’å¹¶æ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨ç°æ¯”é€‰æ‹©æ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯ O(n log nï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚</p><p>å½’å¹¶æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">if</span> (len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> middle = <span class="built_in">Math</span>.floor(len / <span class="number">2</span>),</span><br><span class="line">    left = arr.slice(<span class="number">0</span>, middle),</span><br><span class="line">    right = arr.slice(middle)</span><br><span class="line">  <span class="keyword">return</span> merge(mergeSort(left), mergeSort(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left.length &gt; <span class="number">0</span> &amp;&amp; right.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (left[<span class="number">0</span>] &lt;= right[<span class="number">0</span>]) &#123;</span><br><span class="line">      result.push(left.shift())</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result.push(right.shift())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left.length) result.push(left.shift())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (right.length) result.push(right.shift())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰"><a href="#6-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰" class="headerlink" title="6. å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰"></a>6. å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</h4><p>å¿«é€Ÿæ’åºé¡»çŸ¥ï¼š<br>åˆæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹æ€æƒ³åœ¨æ’åºç®—æ³•ä¸Šçš„å…¸å‹åº”ç”¨ã€‚æœ¬è´¨ä¸Šæ¥çœ‹ï¼Œå¿«é€Ÿæ’åºåº”è¯¥ç®—æ˜¯åœ¨å†’æ³¡æ’åºåŸºç¡€ä¸Šçš„é€’å½’åˆ†æ²»æ³•ã€‚<br>å¿«é€Ÿæ’åºçš„åå­—èµ·çš„æ˜¯ç®€å•ç²—æš´ï¼Œå› ä¸ºä¸€å¬åˆ°è¿™ä¸ªåå­—ä½ å°±çŸ¥é“å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯å¿«ï¼Œè€Œä¸”æ•ˆç‡é«˜! å®ƒæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ã€‚è™½ç„¶ Worst Case çš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† O(nÂ²)ï¼Œä½†æ˜¯äººå®¶å°±æ˜¯ä¼˜ç§€ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¯”å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n) çš„æ’åºç®—æ³•è¡¨ç°è¦æ›´å¥½ï¼Œå¯æ˜¯è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚ã€‚ã€‚å¥½åœ¨æˆ‘çš„å¼ºè¿«ç—‡åˆçŠ¯äº†ï¼ŒæŸ¥äº† N å¤šèµ„æ–™ç»ˆäºåœ¨ã€Šç®—æ³•è‰ºæœ¯ä¸ä¿¡æ¯å­¦ç«èµ›ã€‹ä¸Šæ‰¾åˆ°äº†æ»¡æ„çš„ç­”æ¡ˆï¼š</p><p>å¿«é€Ÿæ’åºçš„æœ€åè¿è¡Œæƒ…å†µæ˜¯ O(nÂ²)ï¼Œæ¯”å¦‚è¯´é¡ºåºæ•°åˆ—çš„å¿«æ’ã€‚ä½†å®ƒçš„å¹³æ‘ŠæœŸæœ›æ—¶é—´æ˜¯ O(n log n) ï¼Œä¸” O(n log n)è®°å·ä¸­éšå«çš„å¸¸æ•°å› å­å¾ˆå°ï¼Œæ¯”å¤æ‚åº¦ç¨³å®šç­‰äº O(n log n)çš„å½’å¹¶æ’åºè¦å°å¾ˆå¤šã€‚æ‰€ä»¥ï¼Œå¯¹ç»å¤§å¤šæ•°é¡ºåºæ€§è¾ƒå¼±çš„éšæœºæ•°åˆ—è€Œè¨€ï¼Œå¿«é€Ÿæ’åºæ€»æ˜¯ä¼˜äºå½’å¹¶æ’åºã€‚</p><p>æ›´æ–°ï¼š<br>ã€Šç®—æ³• ç¬¬å››ç‰ˆã€‹é‡Œå¯¹äºå¿«é€Ÿæ’åºçš„ä¼˜ç¼ºç‚¹è¿›è¡Œäº†æ›´åŠ æ˜ç¡®çš„è§£é‡Šï¼š</p><p>å¿«é€Ÿæ’åºçš„å†…å¾ªç¯æ¯”å¤§å¤šæ•°æ’åºç®—æ³•éƒ½è¦çŸ­å°ï¼Œè¿™æ„å‘³ç€å®ƒæ— è®ºæ˜¯åœ¨ç†è®ºä¸Šè¿˜æ˜¯åœ¨å®é™…ä¸­éƒ½è¦æ›´å¿«ã€‚å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯éå¸¸è„†å¼±ï¼Œåœ¨å®ç°æ—¶è¦éå¸¸å°å¿ƒæ‰èƒ½é¿å…ä½åŠ£çš„æ€§èƒ½ã€‚</p><p>å¿«é€Ÿæ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr, left, right</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length,</span><br><span class="line">    partitionIndex,</span><br><span class="line">    left = <span class="keyword">typeof</span> left != <span class="string">&#x27;number&#x27;</span> ? <span class="number">0</span> : left,</span><br><span class="line">    right = <span class="keyword">typeof</span> right != <span class="string">&#x27;number&#x27;</span> ? len - <span class="number">1</span> : right</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">    partitionIndex = partition(arr, left, right)</span><br><span class="line">    quickSort(arr, left, partitionIndex - <span class="number">1</span>)</span><br><span class="line">    quickSort(arr, partitionIndex + <span class="number">1</span>, right)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">arr, left, right</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//åˆ†åŒºæ“ä½œ</span></span><br><span class="line">  <span class="keyword">var</span> pivot = left, <span class="comment">//è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰</span></span><br><span class="line">    index = pivot + <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i &lt;= right; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; arr[pivot]) &#123;</span><br><span class="line">      swap(arr, i, index)</span><br><span class="line">      index++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap(arr, pivot, index - <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> index - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, i, j</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> temp = arr[i]</span><br><span class="line">  arr[i] = arr[j]</span><br><span class="line">  arr[j] = temp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-å †æ’åºï¼ˆHeap-Sortï¼‰"><a href="#7-å †æ’åºï¼ˆHeap-Sortï¼‰" class="headerlink" title="7. å †æ’åºï¼ˆHeap Sortï¼‰"></a>7. å †æ’åºï¼ˆHeap Sortï¼‰</h4><p>å †æ’åºé¡»çŸ¥ï¼š<br>å †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š</p><pre><code>å¤§é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºå‡åºæ’åˆ—å°é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºé™åºæ’åˆ—</code></pre><p>å †æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> len;    <span class="comment">//å› ä¸ºå£°æ˜çš„å¤šä¸ªå‡½æ•°éƒ½éœ€è¦æ•°æ®é•¿åº¦ï¼Œæ‰€ä»¥æŠŠlenè®¾ç½®æˆä¸ºå…¨å±€å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildMaxHeap</span>(<span class="params">arr</span>) </span>&#123;   <span class="comment">//å»ºç«‹å¤§é¡¶å †</span></span><br><span class="line">     len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="built_in">Math</span>.floor(len/<span class="number">2</span>); i &amp;gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        heapify(arr, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">heapify</span>(<span class="params">arr, i</span>) </span>&#123;     <span class="comment">//å †è°ƒæ•´</span></span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">2</span> * i + <span class="number">1</span>,</span><br><span class="line">         right = <span class="number">2</span> * i + <span class="number">2</span>,</span><br><span class="line">         largest = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class="line">         largest = right;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (largest != i) &#123;</span><br><span class="line">         swap(arr, i, largest);</span><br><span class="line">        heapify(arr, largest);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, i, j</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp = arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = temp;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">heapSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">     buildMaxHeap(arr);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = arr.length-<span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">         swap(arr, <span class="number">0</span>, i);</span><br><span class="line">        len--;</span><br><span class="line">        heapify(arr, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰"><a href="#8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰" class="headerlink" title="8. è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰"></a>8. è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</h4><p>è®¡æ•°æ’åºé¡»çŸ¥ï¼š<br>è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚<br>ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚</p><p>è®¡æ•°æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countingSort</span>(<span class="params">arr, maxValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bucket = <span class="keyword">new</span> <span class="built_in">Array</span>(maxValue + <span class="number">1</span>),</span><br><span class="line">    sortedIndex = <span class="number">0</span></span><br><span class="line">  ;(arrLen = arr.length), (bucketLen = maxValue + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrLen; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!bucket[arr[i]]) &#123;</span><br><span class="line">      bucket[arr[i]] = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    bucket[arr[i]]++</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; bucketLen; j++) &#123;</span><br><span class="line">    <span class="keyword">while</span> (bucket[j] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      arr[sortedIndex++] = j</span><br><span class="line">      bucket[j]--</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="9-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰"><a href="#9-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰" class="headerlink" title="9. æ¡¶æ’åºï¼ˆBucket Sortï¼‰"></a>9. æ¡¶æ’åºï¼ˆBucket Sortï¼‰</h4><p>æ¡¶æ’åºé¡»çŸ¥ï¼š<br>æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚<br>ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°è¿™ä¸¤ç‚¹ï¼š</p><p>åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡<br>ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­<br>åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚</p><p>ä»€ä¹ˆæ—¶å€™æœ€å¿«ï¼ˆBest Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­</p><p>ä»€ä¹ˆæ—¶å€™æœ€æ…¢ï¼ˆWorst Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®è¢«åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­</p><p>æ¡¶æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bucketSort</span>(<span class="params">arr, bucketSize</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> i</span><br><span class="line">  <span class="keyword">var</span> minValue = arr[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">var</span> maxValue = arr[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; minValue) &#123;</span><br><span class="line">      minValue = arr[i] <span class="comment">//è¾“å…¥æ•°æ®çš„æœ€å°å€¼</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &gt; maxValue) &#123;</span><br><span class="line">      maxValue = arr[i] <span class="comment">//è¾“å…¥æ•°æ®çš„æœ€å¤§å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ¡¶çš„åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">var</span> DEFAULT_BUCKET_SIZE = <span class="number">5</span> <span class="comment">//è®¾ç½®æ¡¶çš„é»˜è®¤æ•°é‡ä¸º5</span></span><br><span class="line">  bucketSize = bucketSize || DEFAULT_BUCKET_SIZE</span><br><span class="line">  <span class="keyword">var</span> bucketCount = <span class="built_in">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class="number">1</span></span><br><span class="line">  <span class="keyword">var</span> buckets = <span class="keyword">new</span> <span class="built_in">Array</span>(bucketCount)</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class="line">    buckets[i] = []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//åˆ©ç”¨æ˜ å°„å‡½æ•°å°†æ•°æ®åˆ†é…åˆ°å„ä¸ªæ¡¶ä¸­</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    buckets[<span class="built_in">Math</span>.floor((arr[i] - minValue) / bucketSize)].push(arr[i])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class="line">    insertionSort(buckets[i]) <span class="comment">//å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œæ’åºï¼Œè¿™é‡Œä½¿ç”¨äº†æ’å…¥æ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; buckets[i].length; j++) &#123;</span><br><span class="line">      arr.push(buckets[i][j])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰"><a href="#10-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰" class="headerlink" title="10. åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰"></a>10. åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</h4><p>åŸºæ•°æ’åºé¡»çŸ¥ï¼š<br>åŸºæ•°æ’åºæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><p>MSD ä»é«˜ä½å¼€å§‹è¿›è¡Œæ’åº<br>LSD ä»ä½ä½å¼€å§‹è¿›è¡Œæ’åº<br>åŸºæ•°æ’åº vs è®¡æ•°æ’åº vs æ¡¶æ’åº<br>è¿™ä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š<br>åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶<br>è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼<br>æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼</p><p>åŸºæ•°æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LSD Radix Sort</span></span><br><span class="line"><span class="keyword">var</span> counter = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">radixSort</span>(<span class="params">arr, maxDigit</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> mod = <span class="number">10</span></span><br><span class="line">  <span class="keyword">var</span> dev = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxDigit; i++, dev *= <span class="number">10</span>, mod *= <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> bucket = <span class="built_in">parseInt</span>((arr[j] % mod) / dev)</span><br><span class="line">      <span class="keyword">if</span> (counter[bucket] == <span class="literal">null</span>) &#123;</span><br><span class="line">        counter[bucket] = []</span><br><span class="line">      &#125;</span><br><span class="line">      counter[bucket].push(arr[j])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; counter.length; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> value = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">if</span> (counter[j] != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> ((value = counter[j].shift()) != <span class="literal">null</span>) &#123;</span><br><span class="line">          arr[pos++] = value</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ€ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>thisæŒ‡å‘çš„4ç§æƒ…å†µ</title>
      <link href="2021/01/05/this%E6%8C%87%E5%90%91%E7%9A%844%E7%A7%8D%E6%83%85%E5%86%B5/"/>
      <url>2021/01/05/this%E6%8C%87%E5%90%91%E7%9A%844%E7%A7%8D%E6%83%85%E5%86%B5/</url>
      
        <content type="html"><![CDATA[<h4 id="1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this"><a href="#1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this" class="headerlink" title="1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this"></a>1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this</h4><p>å¯¹è±¡çš„å±æ€§æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°ä¸­çš„ this æŒ‡å‘å¯¹è±¡æœ¬èº«</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  x: <span class="number">123</span>,</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// &#123;x: 123, fn: Æ’&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.x) <span class="comment">// 123</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.fn()</span><br></pre></td></tr></table></figure><p>å¯¹è±¡çš„å±æ€§æ˜¯å‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆäºŒçº§ï¼ˆåŠä»¥ä¸Šï¼‰å‡½æ•°çš„ this éƒ½æŒ‡å‘ window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  x: <span class="number">456</span>,</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;x: 456, fn: Æ’&#125;</span></span><br><span class="line">    <span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;fn.f1&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.x) <span class="comment">// undefined</span></span><br><span class="line">      <span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;fn.f2&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">      f2()</span><br><span class="line">    &#125;</span><br><span class="line">    f1()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.fn()</span><br></pre></td></tr></table></figure><h4 id="2-æ„é€ å‡½æ•°ä¸­çš„-this"><a href="#2-æ„é€ å‡½æ•°ä¸­çš„-this" class="headerlink" title="2. æ„é€ å‡½æ•°ä¸­çš„ this"></a>2. æ„é€ å‡½æ•°ä¸­çš„ this</h4><p>æ„é€ å‡½æ•°ä¸­çš„ä¸€çº§å‡½æ•°ï¼Œthis æŒ‡å‘é€šè¿‡æ„é€ å‡½æ•° new å‡ºæ¥çš„å®ä¾‹ï¼ˆä¾‹å­ä¸­çš„ personï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&#x27;linlif&#x27;</span></span><br><span class="line">  <span class="built_in">this</span>.fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;linlif&quot;, fn: Æ’&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">person.fn()</span><br></pre></td></tr></table></figure><p>æ„é€ å‡½æ•°ä¸­çš„äºŒçº§(åŠä»¥ä¸Š)å‡½æ•°ï¼Œthis æŒ‡å‘çš„æ˜¯ window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&#x27;linlif&#x27;</span></span><br><span class="line">  <span class="built_in">this</span>.fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;linlif&quot;, fn: Æ’&#125;</span></span><br><span class="line">    <span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;f2&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      <span class="keyword">var</span> f3 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;f3&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">      f3()</span><br><span class="line">    &#125;</span><br><span class="line">    f2()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">person.fn()</span><br></pre></td></tr></table></figure><h4 id="3-å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­-this"><a href="#3-å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­-this" class="headerlink" title="3. å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ this"></a>3. å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ this</h4><p>å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œthis æŒ‡å‘æµè§ˆå™¨çš„ window å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€çš„this</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span> === <span class="built_in">window</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€çš„æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">global</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">global</span>()</span><br></pre></td></tr></table></figure><h4 id="4-call-å’Œ-apply-å¯¹-this-æŒ‡å‘çš„å½±å“"><a href="#4-call-å’Œ-apply-å¯¹-this-æŒ‡å‘çš„å½±å“" class="headerlink" title="4. call()å’Œ apply()å¯¹ this æŒ‡å‘çš„å½±å“"></a>4. call()å’Œ apply()å¯¹ this æŒ‡å‘çš„å½±å“</h4><p>ä½¿ç”¨ call()æ–¹æ³•åï¼Œthis æŒ‡å‘ call()æ–¹æ³•çš„å‚æ•°ã€‚ä½¿ç”¨ apply()çš„ç»“æœå’Œ call()æ˜¯ä¸€è‡´çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹å˜è°ƒç”¨å¯¹è±¡ä¸ºgObj</span></span><br><span class="line"><span class="keyword">var</span> gObj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;gName&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> aaa = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;gName&quot;&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name) <span class="comment">// gName</span></span><br><span class="line">&#125;</span><br><span class="line">aaa.call(gObj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å˜è°ƒç”¨å¯¹è±¡ä¸ºwindow</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;global&#x27;</span></span><br><span class="line"><span class="keyword">var</span> bbb = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name) <span class="comment">// global</span></span><br><span class="line">&#125;</span><br><span class="line">bbb.call(<span class="built_in">this</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> this </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼</title>
      <link href="2021/01/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>2021/01/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h4><p>1ã€å•ä¾‹æ¨¡å¼<br>è¿™ç§è®¾è®¡æ¨¡å¼çš„æ€æƒ³æ˜¯ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰å”¯ä¸€å®ä¾‹ï¼Œä¸€èˆ¬ç”¨äºå…¨å±€ç¼“å­˜ï¼Œæ¯”å¦‚å…¨å±€windowï¼Œå”¯ä¸€ç™»å½•æµ®çª—ç­‰ã€‚é‡‡ç”¨é—­åŒ…çš„æ–¹å¼å®ç°å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> single = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="comment">// å¦‚æœè¯¥å®ä¾‹å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™å°±å¯¹å…¶å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="keyword">if</span>( instance=== <span class="literal">undefined</span> )&#123;</span><br><span class="line">            instance= <span class="keyword">new</span> Construct();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// ... ç”Ÿæˆå•ä¾‹çš„æ„é€ å‡½æ•°çš„ä»£ç </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getInstance : getInstance</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>2ã€å·¥å‚æ¨¡å¼<br>å·¥å‚æ¨¡å¼æ˜¯åˆ›å»ºå¯¹è±¡çš„å¸¸ç”¨è®¾è®¡æ¨¡å¼ï¼Œä¸ºäº†ä¸æš´éœ²åˆ›å»ºå¯¹è±¡çš„å…·ä½“é€»è¾‘ï¼Œå°†é€»è¾‘å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºä¸€ä¸ªå·¥å‚ã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè´Ÿè´£ç”Ÿäº§å¯¹è±¡å®ä¾‹çš„å·¥å‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®‰å…¨æ¨¡å¼åˆ›å»ºçš„å·¥å‚æ–¹æ³•å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> UserFactory = <span class="function"><span class="keyword">function</span>(<span class="params">role</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> UserFactory) &#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">this</span>[role]();</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserFactory(role);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å·¥å‚æ–¹æ³•å‡½æ•°çš„åŸå‹ä¸­è®¾ç½®æ‰€æœ‰å¯¹è±¡çš„æ„é€ å‡½æ•°</span></span><br><span class="line">UserFactory.prototype = &#123;</span><br><span class="line">  SuperAdmin: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&quot;è¶…çº§ç®¡ç†å‘˜&quot;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>, <span class="string">&#x27;åº”ç”¨æ•°æ®&#x27;</span>, <span class="string">&#x27;æƒé™ç®¡ç†&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  Admin: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&quot;ç®¡ç†å‘˜&quot;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>, <span class="string">&#x27;åº”ç”¨æ•°æ®&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  NormalUser: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;æ™®é€šç”¨æˆ·&#x27;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> superAdmin = UserFactory(<span class="string">&#x27;SuperAdmin&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> admin = UserFactory(<span class="string">&#x27;Admin&#x27;</span>) </span><br><span class="line"><span class="keyword">let</span> normalUser = UserFactory(<span class="string">&#x27;NormalUser&#x27;</span>)</span><br></pre></td></tr></table></figure><p>3ã€ç­–ç•¥æ¨¡å¼<br>ç­–ç•¥æ¨¡å¼çš„æœ¬æ„å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ï¼Œé¿å…å¤šé‡åˆ¤æ–­è°ƒç”¨å“ªäº›ç®—æ³•ã€‚é€‚ç”¨äºæœ‰å¤šä¸ªåˆ¤æ–­åˆ†æ”¯çš„åœºæ™¯ï¼Œå¦‚è§£å†³è¡¨å•éªŒè¯çš„é—®é¢˜ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªvalidatorå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªvalidate()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ä¸ç”¨åŒºåˆ†å…·ä½“çš„è¡¨å•ç±»å‹ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›åŒæ ·çš„ç»“æœâ€”â€”ä¸€ä¸ªæ²¡æœ‰é€šè¿‡éªŒè¯çš„åˆ—è¡¨å’Œé”™è¯¯ä¿¡æ¯ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºvipå®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vipPrice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">vipPrice.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">return</span> price * <span class="built_in">this</span>.discount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹äºè€å®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">oldPrice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">0.3</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">oldPrice.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> price * <span class="built_in">this</span>.discount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹äºæ™®é€šå®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Price</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Price.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> price ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¸‹æ–‡ï¼Œå¯¹äºå®¢æˆ·ç«¯çš„ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Context</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.strategy = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.price = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Context.prototype.set = <span class="function"><span class="keyword">function</span>(<span class="params">name, strategy, price</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.strategy = strategy;</span><br><span class="line">    <span class="built_in">this</span>.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Context.prototype.getResult = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&#x27; çš„ç»“è´¦ä»·ä¸º: &#x27;</span> + <span class="built_in">this</span>.strategy.getPrice(<span class="built_in">this</span>.price));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> context = <span class="keyword">new</span> Context();</span><br><span class="line"><span class="keyword">var</span> vip = <span class="keyword">new</span> vipPrice();</span><br><span class="line">context.set (<span class="string">&#x27;vipå®¢æˆ·&#x27;</span>, vip, <span class="number">200</span>);</span><br><span class="line">context.getResult();   <span class="comment">// vipå®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> old = <span class="keyword">new</span> oldPrice();</span><br><span class="line">context.set (<span class="string">&#x27;è€å®¢æˆ·&#x27;</span>, old, <span class="number">200</span>);</span><br><span class="line">context.getResult();  <span class="comment">// è€å®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 60</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Price = <span class="keyword">new</span> Price();</span><br><span class="line">context.set (<span class="string">&#x27;æ™®é€šå®¢æˆ·&#x27;</span>, Price, <span class="number">200</span>);</span><br><span class="line">context.getResult();  <span class="comment">// æ™®é€šå®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 200</span></span><br></pre></td></tr></table></figure><p>4ã€ä»£ç†æ¨¡å¼<br>ä»£ç†æ¨¡å¼æ˜¯ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ï¼Œä¹Ÿå°±æ˜¯å½“å…¶ä»–å¯¹è±¡ç›´æ¥è®¿é—®è¯¥å¯¹è±¡æ—¶ï¼Œå¦‚æœå¼€é”€è¾ƒå¤§ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªä»£ç†å±‚æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¸¸è§çš„ä½¿ç”¨åœºæ™¯ä¸ºæ‡’åŠ è½½ï¼Œåˆå¹¶httpè¯·æ±‚å’Œç¼“å­˜ã€‚ä»£ç†æ¨¡å¼çš„å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç›®æ ‡å¯¹è±¡ï¼Œæ˜¯çœŸæ­£è¢«ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    Subject.prototype.request = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Proxy</span>(<span class="params">realSubject</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.realSubject = realSubject;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Proxy</span>.prototype.request = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.realSubject.request();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><p>5ã€è§‚å¯Ÿè€…æ¨¡å¼<br>ä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªè®¢é˜…è€…è®¢é˜…å‘å¸ƒè€…ï¼Œå½“ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œå‘å¸ƒè€…ä¼šé€šçŸ¥ï¼ˆè°ƒç”¨ï¼‰æ‰€æœ‰çš„è®¢é˜…è€…ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventCenter = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> events = &#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">on</span>(<span class="params">event, handler</span>)</span>&#123;</span><br><span class="line">        events[event] = events[event] || [];</span><br><span class="line">        events[event].push(&#123;</span><br><span class="line">            handler: handler</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fire</span>(<span class="params">event, args</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!events[event]) &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; events[event].length; i++) &#123;</span><br><span class="line">            events[event][i].handler(args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">off</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">delete</span> events[event];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        on: on,</span><br><span class="line">        fire: fire,</span><br><span class="line">        off: off</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">EventCenter.on(<span class="string">&#x27;event&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;event received...&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>6ã€æ¨¡å—æ¨¡å¼<br>æ¨¡å—æ¨¡å¼å¯ä»¥æŒ‡å®šç±»æƒ³æš´éœ²çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”ä¸ä¼šæ±¡æŸ“å…¨å±€ã€‚é‡‡ç”¨é—­åŒ…çš„å½¢å¼ï¼Œå®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        name: name,</span><br><span class="line">        sayName: sayName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>7ã€æ„é€ å‡½æ•°æ¨¡å¼å’Œæ··åˆæ¨¡å¼<br>æ„é€ å‡½æ•°å’Œæ··åˆæ¨¡å¼å°±æ˜¯jsä¸­ç»§æ‰¿çš„ä¸¤ç§å®ç°æ–¹å¼ï¼Œå‰è€…é€šè¿‡æ„é€ å‡½æ•°çš„å½¢å¼å®šä¹‰ç±»ï¼Œé€šè¿‡newæ–°å¢å®ä¾‹ã€‚è€Œåè€…æ˜¯å°†æ„é€ å‡½æ•°çš„å¼•ç”¨å±æ€§å’Œæ–¹æ³•æ”¾åˆ°å…¶åŸå‹ä¸Šï¼Œå­ç±»æ˜¯çˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ€ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VueCliä¸­ä»£ç†websocket</title>
      <link href="2020/09/29/VueCli%E4%B8%AD%E4%BB%A3%E7%90%86websocket/"/>
      <url>2020/09/29/VueCli%E4%B8%AD%E4%BB%A3%E7%90%86websocket/</url>
      
        <content type="html"><![CDATA[<p>vue.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    host: <span class="string">&#x27;0.0.0.0&#x27;</span>,</span><br><span class="line">    port: <span class="string">&#x27;9007&#x27;</span>,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">        <span class="string">&#x27;/socket&#x27;</span>: &#123;</span><br><span class="line">            target: <span class="string">`ws://<span class="subst">$&#123;baseUrl&#125;</span>`</span>,</span><br><span class="line">            ws: <span class="literal">true</span>,</span><br><span class="line">            pathRewrite: &#123; <span class="string">&#x27;^/socket&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">            changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> socket = <span class="keyword">new</span> WebSocket(</span><br><span class="line">  <span class="string">&#x27;ws://&#x27;</span> + location.host + <span class="string">&#x27;/socket/wx-cyberspace/websocket/attack&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>nginx å…³é”®é…ç½®</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line"><span class="keyword">map</span> $http_upgrade $connection_upgrade &#123;</span><br><span class="line">default upgrade;</span><br><span class="line"><span class="string">&#x27;&#x27;</span>      <span class="keyword">close</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        <span class="keyword">listen</span>       <span class="number">8083</span>;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">location ^~ /<span class="keyword">socket</span> &#123;</span><br><span class="line">            proxy_pass http:<span class="regexp">//l</span>ocalhost:<span class="number">8080</span>/;</span><br><span class="line">            proxy_http_version <span class="number">1.1</span>;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            proxy_read_timeout <span class="number">120</span>s;</span><br><span class="line">            proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">            proxy_set_header Connection $connection_upgrade;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> websocket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3ä¸­app.config.globalPropertiesåœ¨buildåæŒ‡å‘é”™è¯¯</title>
      <link href="2020/09/29/Vue3%E4%B8%ADapp.config.globalProperties%E5%9C%A8build%E5%90%8E%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF/"/>
      <url>2020/09/29/Vue3%E4%B8%ADapp.config.globalProperties%E5%9C%A8build%E5%90%8E%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ Vue2 ä¸­ï¼Œæˆ‘ä»¬è¿™æ ·åœ¨å…¨å±€æŒ‚è½½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line">Vue.prototype.$moment = moment</span><br></pre></td></tr></table></figure><p>åœ¨ Vue3 ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·æŒ‚è½½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dayjs <span class="keyword">from</span> <span class="string">&#x27;dayjs&#x27;</span></span><br><span class="line">app.config.globalProperties.$dayjs = dayjs</span><br></pre></td></tr></table></figure><p>åœ¨å¼•ç”¨æ—¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; ctx &#125; = getCurrentInstance()</span><br><span class="line">    ctx.$dayjs()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ–¹å¼åœ¨ dev ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ build ä¹‹åå°±ä¼šæŠ¥é”™<br>åº”è¯¥æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; proxy &#125; = getCurrentInstance()</span><br><span class="line">    proxy.$dayjs()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…yarn create nuxt-app xxxæ—¶æŠ¥é”™</title>
      <link href="2020/08/30/%E5%AE%89%E8%A3%85yarn%20create%20nuxt-app%20xxx%E6%97%B6%E6%8A%A5%E9%94%99/"/>
      <url>2020/08/30/%E5%AE%89%E8%A3%85yarn%20create%20nuxt-app%20xxx%E6%97%B6%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<p>å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/Users/jimmy/.config/yarn/global/node_modules/sao/lib/installPackages.js:108</span><br><span class="line">throw new SAOError(Failed to install <span class="variable">$&#123;packageName&#125;</span> <span class="keyword">in</span> <span class="variable">$&#123;cwd&#125;</span>)</span><br><span class="line">^</span><br><span class="line">SAOError: Failed to install packages <span class="keyword">in</span> /Users/jimmy/work/tuliang/cross-border-pc-ssr-ts</span><br><span class="line">at ChildProcess. (/Users/jimmy/.config/yarn/global/node_modules/sao/lib/installPackages.js:108:15)</span><br><span class="line">at ChildProcess.emit (events.js:315:20)</span><br><span class="line">at maybeClose (internal/child_process.js:1021:16)</span><br><span class="line">at Socket. (internal/child_process.js:443:11)</span><br><span class="line">at Socket.emit (events.js:315:20)</span><br><span class="line">at Pipe. (net.js:674:12) &#123;</span><br><span class="line">__sao: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">error Command failed.</span><br><span class="line">Exit code: 1</span><br><span class="line">Command: /usr/<span class="built_in">local</span>/bin/create-nuxt-app</span><br><span class="line">Arguments: cross-border-pc-ssr-ts</span><br><span class="line">Directory: /Users/jimmy/work/tuliang</span><br><span class="line">Output:</span><br><span class="line">info Visit https://yarnpkg.com/en/docs/cli/create <span class="keyword">for</span> documentation about this <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>å‡çº§ yarn åˆ° 1.22.4 ç‰ˆæœ¬åè§£å†³</p>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssè£åˆ‡ä¸è§„åˆ™å›¾å½¢</title>
      <link href="2020/08/28/css%E8%A3%81%E5%88%87%E4%B8%8D%E8%A7%84%E5%88%99%E5%9B%BE%E5%BD%A2/"/>
      <url>2020/08/28/css%E8%A3%81%E5%88%87%E4%B8%8D%E8%A7%84%E5%88%99%E5%9B%BE%E5%BD%A2/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨ clip-path å±æ€§ï¼Œç®€å•çš„å¯ä»¥ç”¨ polygon å±æ€§ç”»ä¸è§„åˆ™å¤šè¾¹å½¢ï¼Œå¤æ‚çš„å¯ä»¥ç”¨ svg çš„ path å¤„ç†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">height</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;0&quot;</span> <span class="attr">preserveAspectRatio</span>=<span class="string">&quot;xMinYMin meet&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">clipPath</span> <span class="attr">id</span>=<span class="string">&quot;svgPath&quot;</span>&gt;</span></span><br><span class="line">      &lt;path</span><br><span class="line">        d=&quot;M215,100.3c97.8-32.6,90.5-71.9,336-77.6</span><br><span class="line">          c92.4-2.1,98.1,81.6,121.8,116.4c101.7,149.9,53.5,155.9,14.7,178c-96.4,54.9,5.4,269-257,115.1c-57-33.5-203,46.3-263.7,20.1</span><br><span class="line">          c-33.5-14.5-132.5-45.5-95-111.1C125.9,246.6,98.6,139.1,215,100.3z&quot;</span><br><span class="line">      &gt;<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">clipPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="comment">/* clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); */</span></span><br><span class="line">  <span class="attribute">clip-path</span>: <span class="built_in">url</span>(<span class="string">&#x27;#svgPath&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cesiumç›¸æœºé«˜åº¦è‡ªé€‚åº”å¤šä¸ªåæ ‡</title>
      <link href="2020/08/26/Cesium%E7%9B%B8%E6%9C%BA%E9%AB%98%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94%E5%A4%9A%E4%B8%AA%E5%9D%90%E6%A0%87/"/>
      <url>2020/08/26/Cesium%E7%9B%B8%E6%9C%BA%E9%AB%98%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94%E5%A4%9A%E4%B8%AA%E5%9D%90%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<p>è·å–ä¸œå—è¥¿åŒ—ç»çº¬åº¦ï¼Œä½¿ç”¨ Rectangle.fromDegrees æ„å»ºçŸ©å½¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> west, south, east, north</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> item = arr[i]</span><br><span class="line">  <span class="keyword">if</span> (!west || item.assetIpLng &lt; west) west = item.assetIpLng</span><br><span class="line">  <span class="keyword">if</span> (!south || item.assetIpLat &lt; south) south = item.assetIpLat</span><br><span class="line">  <span class="keyword">if</span> (!east || item.assetIpLng &gt; east) east = item.assetIpLng</span><br><span class="line">  <span class="keyword">if</span> (!north || item.assetIpLat &gt; north) north = item.assetIpLat</span><br><span class="line">  _this.$emit(</span><br><span class="line">    <span class="string">&#x27;addPoint&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      lon: item.assetIpLng,</span><br><span class="line">      lat: item.assetIpLat,</span><br><span class="line">    &#125;,</span><br><span class="line">    []</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å† flyTo</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>._viewer.scene.camera.flyTo(&#123;</span><br><span class="line">  destination: Cesium.Rectangle.fromDegrees(west, south, east, north),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cesium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flex-directionä¸ºcolumnæ—¶ï¼Œå­å…ƒç´ å®½åº¦è‡ªåŠ¨æ’‘æ»¡</title>
      <link href="2020/08/11/flex-direction%E4%B8%BAcolumn%E6%97%B6%EF%BC%8C%E5%AD%90%E5%85%83%E7%B4%A0%E5%AE%BD%E5%BA%A6%E8%87%AA%E5%8A%A8%E6%92%91%E6%BB%A1/"/>
      <url>2020/08/11/flex-direction%E4%B8%BAcolumn%E6%97%B6%EF%BC%8C%E5%AD%90%E5%85%83%E7%B4%A0%E5%AE%BD%E5%BA%A6%E8%87%AA%E5%8A%A8%E6%92%91%E6%BB%A1/</url>
      
        <content type="html"><![CDATA[<p>çˆ¶å…ƒç´ æ·»åŠ <code>align-content: flex-start;</code></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>throw new _ValidationError2.default(ajv.errors, name)</title>
      <link href="2020/08/11/throw%20new%20_ValidationError2.default(ajv.errors,%20name)/"/>
      <url>2020/08/11/throw%20new%20_ValidationError2.default(ajv.errors,%20name)/</url>
      
        <content type="html"><![CDATA[<h3 id="é”™è¯¯å¦‚å›¾"><a href="#é”™è¯¯å¦‚å›¾" class="headerlink" title="é”™è¯¯å¦‚å›¾"></a>é”™è¯¯å¦‚å›¾</h3><p><img src="http://okmneu7zl.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-12-11%20%E4%B8%8B%E5%8D%887.43.40.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tc-travel-frontend-activity@ build /Users/jimmy/work/tc-flight/project/tc-travel-frontend-activity</span><br><span class="line">&gt; rimraf dist &amp;&amp; npm run build:client &amp;&amp; npm run build:server</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; tc-travel-frontend-activity@ build:client /Users/jimmy/work/tc-flight/project/tc-travel-frontend-activity</span><br><span class="line">&gt; cross-env NODE_ENV=product webpack --config build/webpack.client.config.js --progress --hide-modules</span><br><span class="line"></span><br><span class="line">/Users/jimmy/work/tc-flight/project/tc-travel-frontend-activity/node_modules/schema-utils/dist/validateOptions.js:40</span><br><span class="line">    throw new _ValidationError2.default(ajv.errors, name);</span><br><span class="line">    ^</span><br><span class="line"></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>webpack ç‰ˆæœ¬å‡çº§å¯¼è‡´</p><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>ä¿®æ”¹<code>webpack.client.config.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vueConfig.loaders = &#123;</span><br><span class="line">  <span class="comment">// stylus: ExtractTextPlugin.extract(&#123;</span></span><br><span class="line">  <span class="comment">//   loader: &#x27;css-loader!stylus-loader&#x27;,</span></span><br><span class="line">  <span class="comment">//   fallbackLoader: &#x27;vue-style-loader&#x27; // &lt;- this is a dep of vue-loader</span></span><br><span class="line">  <span class="comment">// &#125;),</span></span><br><span class="line">  less: ExtractTextPlugin.extract(&#123;</span><br><span class="line">    loader: <span class="string">&#x27;css-loader!less-loader&#x27;</span>,</span><br><span class="line">    fallbackLoader: <span class="string">&#x27;vue-style-loader&#x27;</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸º</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vueConfig.loaders = &#123;</span><br><span class="line">    <span class="regexp">//</span> stylus: ExtractTextPlugin.extract(&#123;</span><br><span class="line">    <span class="regexp">//</span>   loader: <span class="string">&#x27;css-loader!stylus-loader&#x27;</span>,</span><br><span class="line">    <span class="regexp">//</span>   fallbackLoader: <span class="string">&#x27;vue-style-loader&#x27;</span> <span class="regexp">//</span> &lt;- this is a dep of vue-loader</span><br><span class="line">    <span class="regexp">//</span> &#125;),</span><br><span class="line">    less: ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: <span class="string">&quot;css-loader!less-loader&quot;</span>,</span><br><span class="line">        fallback: <span class="string">&quot;vue-style-loader&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NUXTç¬¬ä¸‰æ–¹ç»„ä»¶åªåœ¨å®¢æˆ·ç«¯è¿è¡Œ</title>
      <link href="2020/08/11/NUXT%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6%E5%8F%AA%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%90%E8%A1%8C/"/>
      <url>2020/08/11/NUXT%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BB%84%E4%BB%B6%E5%8F%AA%E5%9C%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%90%E8%A1%8C/</url>
      
        <content type="html"><![CDATA[<p>æŠ¥é”™ï¼š<code>navigator is no defined</code><br>åŸå› ï¼š<code>navigator</code>åªåœ¨å®¢æˆ·ç«¯å­˜åœ¨<br>è§£å†³ï¼š<code>plugins</code>ä¸‹æ–°å»º<code>vue-range-component.js</code>ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;vue-range-component/dist/vue-range-slider.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRangeSlider <span class="keyword">from</span> <span class="string">&#x27;vue-range-component&#x27;</span></span><br><span class="line">Vue.use(VueRangeSlider)</span><br><span class="line">nuxt.config.jså†…æ–°å¢</span><br><span class="line">  plugins: [</span><br><span class="line">    &#123; <span class="attr">src</span>: <span class="string">&quot;@/plugins/vue-range-component&quot;</span>, <span class="attr">ssr</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure><p>ssr è®¾ä¸º false å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpacké¡¹ç›®æç¤ºInvalid Host header</title>
      <link href="2018/06/24/webpack%E9%A1%B9%E7%9B%AE%E6%8F%90%E7%A4%BAInvalid%20Host%20header/"/>
      <url>2018/06/24/webpack%E9%A1%B9%E7%9B%AE%E6%8F%90%E7%A4%BAInvalid%20Host%20header/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/bodhiye/article/details/78523333">åŸæ–‡åœ°å€</a></p><p>åœ¨buildç›®å½•ä¸­çš„webpack.base.config.jsä¸­æ·»åŠ å¦‚ä¸‹webpack-dev-serveré…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer:</span> &#123;</span><br><span class="line">    <span class="attr">disableHostCheck:</span> <span class="literal">true</span>,</span><br><span class="line">&#125;<span class="string">,</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSå¼€æœºå¯åŠ¨egg.js</title>
      <link href="2018/04/01/CentOS%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8egg.js/"/>
      <url>2018/04/01/CentOS%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8egg.js/</url>
      
        <content type="html"><![CDATA[<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>rc.d/rc.local</span><br></pre></td></tr></table></figure><p>æ·»åŠ </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/xdx/</span>xdx-api &amp;&amp; npm run start</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> egg.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSè®¾ç½®rediså¼€æœºå¯åŠ¨</title>
      <link href="2018/04/01/CentOS%E8%AE%BE%E7%BD%AEredis%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/"/>
      <url>2018/04/01/CentOS%E8%AE%BE%E7%BD%AEredis%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>rc.d/rc.local</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/redis-3.0.3/</span>src<span class="regexp">/redis-server /u</span>sr<span class="regexp">/local/</span>redis-<span class="number">3.0</span>.<span class="number">3</span>/redis.conf</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/lishirong/article/details/53101513">åŸæ–‡</a></p><p><a href="https://blog.csdn.net/wzq793957419/article/details/55102783">å‚è€ƒ</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSå®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·</title>
      <link href="2018/04/01/css%E5%85%81%E8%AE%B8%E7%82%B9%E5%87%BB%E7%A9%BF%E9%80%8F/"/>
      <url>2018/04/01/css%E5%85%81%E8%AE%B8%E7%82%B9%E5%87%BB%E7%A9%BF%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<p>CSS æ–°å±æ€§ pointer-eventsï¼šå­—é¢ç†è§£æ˜¯ç‚¹å‡»é¼ æ ‡äº‹ä»¶ï¼Œå€¼åˆ†åˆ«æ˜¯ auto å’Œ noneã€‚</p><p>å½“ä½¿ç”¨ pointer-events:none,è¡¨ç¤ºå®ƒå°†æ•è·ä¸åˆ°ä»»ä½•ç‚¹å‡»ï¼Œè€Œåªæ˜¯è®©äº‹ä»¶ç©¿é€åˆ°å®ƒçš„ä¸‹é¢ã€‚ä»£ç å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span> &#123;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹host</title>
      <link href="2017/12/14/%E4%BF%AE%E6%94%B9host/"/>
      <url>2017/12/14/%E4%BF%AE%E6%94%B9host/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /etc</span><br><span class="line">sudo vim hosts</span><br></pre></td></tr></table></figure><p>æœ€ä¸‹é¢æ·»åŠ ä¸€è¡Œï¼šå¦‚ 61.155.197.246 travelbusinessapi.17u.cn</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="comment"># Host Database</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># localhost is used to configure the loopback interface</span></span><br><span class="line"><span class="comment"># when the system is booting.  Do not change this entry.</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line">127.0.0.1       localhost</span><br><span class="line">255.255.255.255 broadcasthost</span><br><span class="line">::1             localhost</span><br><span class="line"></span><br><span class="line"><span class="comment"># Block Adobe Activation</span></span><br><span class="line">127.0.0.1       activate.adobe.com</span><br><span class="line">127.0.0.1       practivate.adobe.com</span><br><span class="line">127.0.0.1       ereg.adobe.com</span><br><span class="line">127.0.0.1       activate.wip3.adobe.com</span><br><span class="line">127.0.0.1       wip3.adobe.com</span><br><span class="line">127.0.0.1       3dns-3.adobe.com</span><br><span class="line">127.0.0.1       3dns-2.adobe.com</span><br><span class="line">127.0.0.1       adobe-dns.adobe.com</span><br><span class="line">127.0.0.1       adobe-dns-2.adobe.com</span><br><span class="line">127.0.0.1       adobe-dns-3.adobe.com</span><br><span class="line">127.0.0.1       ereg.wip3.adobe.com</span><br><span class="line">127.0.0.1       activate-sea.adobe.com</span><br><span class="line">127.0.0.1       wwis-dubc1-vip60.adobe.com</span><br><span class="line">127.0.0.1       activate-sjc0.adobe.com</span><br><span class="line">127.0.0.1       hl2rcv.adobe.com</span><br><span class="line">61.155.197.246 travelbusinessapi.17u.cn</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> host </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iOS9 ä½¿ç”¨Universal Linksåœ¨å¾®ä¿¡ä¸­æ‰“å¼€App</title>
      <link href="2017/12/13/iOS9%20%E4%BD%BF%E7%94%A8Universal%20Links%E5%9C%A8%E5%BE%AE%E4%BF%A1%E4%B8%AD%E6%89%93%E5%BC%80App/"/>
      <url>2017/12/13/iOS9%20%E4%BD%BF%E7%94%A8Universal%20Links%E5%9C%A8%E5%BE%AE%E4%BF%A1%E4%B8%AD%E6%89%93%E5%BC%80App/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒåœ°å€<a href="http://www.jianshu.com/p/738ac2b8865d">http://www.jianshu.com/p/738ac2b8865d</a></p><p>ä¸‹è½½éƒ¨åˆ†ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  &lt;div</span><br><span class="line">    :class=&quot;[&#x27;fixed&#x27;,isIphonex &amp;&amp; !fringeDirection ? &#x27;isX&#x27; : &#x27;&#x27;]&quot;</span><br><span class="line">    v-iphonex</span><br><span class="line">    v-show=&quot;show&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;img</span><br><span class="line">      src=&quot;../../images/cancel.png&quot;</span><br><span class="line">      alt=&quot;å…³é—­&quot;</span><br><span class="line">      class=&quot;close&quot;</span><br><span class="line">      @click=&quot;show = false&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../../images/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;logo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slogan&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>å·®æ—…æ— å¿§<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>è®©å¿™ç¢Œçš„ç”Ÿæ´»æ›´ç¾å¥½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;download&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toDownload&quot;</span>&gt;</span>ç«‹å³ä¸‹è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> utils <span class="keyword">from</span> <span class="string">&#x27;@/common/utils.js&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">        isIphonex: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">        fringeDirection: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        schemaUrl: <span class="string">&#x27;tcbiz://home/gotoHome&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        iphoneDownUrl: <span class="string">&#x27;https://itunes.apple.com/app/id1282893090&#x27;</span>,</span></span><br><span class="line">        txappcenterUrl:</span><br><span class="line"><span class="javascript">          <span class="string">&#x27;http://a.app.qq.com/o/simple.jsp?pkgname=com.businesstravel&amp;fromcase=40002&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        universalLinks: <span class="string">&#x27;http://travelbusinessapi.17u.cn/action&#x27;</span>,</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> _this = <span class="built_in">this</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$iphonex.$on(<span class="string">&#x27;init&#x27;</span>, <span class="function">(<span class="params">v</span>) =&gt;</span> &#123;</span></span><br><span class="line">        _this.isIphonex = v</span><br><span class="line">      &#125;)</span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.$iphonex.$on(<span class="string">&#x27;rotate&#x27;</span>, <span class="function">(<span class="params">v</span>) =&gt;</span> &#123;</span></span><br><span class="line">        _this.fringeDirection = v</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">isWeixin</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> ua = navigator.userAgent.toLowerCase()</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (ua.match(<span class="regexp">/MicroMessenger/i</span>) == <span class="string">&#x27;micromessenger&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">toDownload</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// å¾®ä¿¡æ— æ³•ç›´æ¥æ‰“å¼€App</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">this</span>.isWeixin()) &#123;</span></span><br><span class="line">          if (utils.isIOS9()) &#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location = <span class="built_in">this</span>.universalLinks</span></span><br><span class="line"><span class="javascript">          &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location = <span class="built_in">this</span>.txappcenterUrl <span class="comment">// åº”ç”¨å®åœ°å€</span></span></span><br><span class="line">          &#125;</span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">let</span> _this = <span class="built_in">this</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">// å¦‚æœæ˜¯iOSï¼Œ</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (navigator.userAgent.match(<span class="regexp">/(iPhone|iPod|iPad);?/i</span>)) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> loadDateTime = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="keyword">let</span> timeOutDateTime = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line">              if (timeOutDateTime - loadDateTime &lt; 5000) &#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location = _this.iphoneDownUrl <span class="comment">//AppStoreä¸‹è½½åœ°å€</span></span></span><br><span class="line"><span class="javascript">              &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.close()</span></span><br><span class="line">              &#125;</span><br><span class="line">            &#125;, 25)</span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location = _this.schemaUrl</span></span><br><span class="line"><span class="javascript">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (navigator.userAgent.match(<span class="regexp">/android/i</span>)) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">window</span>.location = _this.schemaUrl</span></span><br><span class="line"><span class="javascript">              <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.location = _this.txappcenterUrl <span class="comment">//åº”ç”¨å®åœ°å€</span></span></span><br><span class="line">              &#125;, 500)</span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">  ...;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>apple-app-site-association æ–‡ä»¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;applinks&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;apps&quot;</span>: [],</span><br><span class="line">    <span class="attr">&quot;details&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;appID&quot;</span>: <span class="string">&quot;********&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;paths&quot;</span>: [<span class="string">&quot;/action&quot;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>å¿…é¡»è·¨åŸŸï¼å¿…é¡»è·¨åŸŸï¼å¿…é¡»è·¨åŸŸï¼iOS9.2+å¿…é¡»è·¨åŸŸæ‰èƒ½è·³è½¬ï¼Œæ‰€ä»¥åœ¨å®é™…å¼€å‘ä¸­ï¼Œä½¿ç”¨<code>https://travelbusinessapi.17u.cn/apple-app-site-association</code>æ”¾ apple-app-site-association æ–‡ä»¶ï¼Œé¡µé¢ä½¿ç”¨<code>http://travelbusiness.17u.cn/</code></li><li>apple-app-site-association æ‰€åœ¨åŸŸåå¿…é¡»æ˜¯ https çš„</li><li>paths ä¸å¯ä¸º*</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSå®ç°å•è¡Œã€å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·</title>
      <link href="2017/12/13/CSS%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%8C%E3%80%81%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7/"/>
      <url>2017/12/13/CSS%E5%AE%9E%E7%8E%B0%E5%8D%95%E8%A1%8C%E3%80%81%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%BA%A2%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<p>å•è¡Œï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br></pre></td></tr></table></figure><p>å¤šè¡Œï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: -webkit-box;</span><br><span class="line">-webkit-box-orient: vertical;</span><br><span class="line">-webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>inputè°ƒå‡ºåªæœ‰æ•°å­—çš„é”®ç›˜</title>
      <link href="2017/12/08/input%E8%B0%83%E5%87%BA%E5%8F%AA%E6%9C%89%E6%95%B0%E5%AD%97%E7%9A%84%E9%94%AE%E7%9B%98/"/>
      <url>2017/12/08/input%E8%B0%83%E5%87%BA%E5%8F%AA%E6%9C%89%E6%95%B0%E5%AD%97%E7%9A%84%E9%94%AE%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;[0-9]*&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é”®ç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-loaderå‡çº§v13.0.0å¯¼è‡´æŠ¥é”™</title>
      <link href="2017/12/07/vue-loader%E5%8D%87%E7%BA%A7v13.0.0%E5%AF%BC%E8%87%B4%E6%8A%A5%E9%94%99/"/>
      <url>2017/12/07/vue-loader%E5%8D%87%E7%BA%A7v13.0.0%E5%AF%BC%E8%87%B4%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<p>æŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Error: </span>render function or template not defined in component: anonymous</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š<br>ä¿®æ”¹ vue-loader.config.jsï¼Œæ·»åŠ  esModule: false</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.<span class="built_in">exports</span> = &#123;</span><br><span class="line">    preserveWhitespace: <span class="literal">false</span>,</span><br><span class="line">    postcss: [</span><br><span class="line">        <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)(&#123;</span><br><span class="line">            browsers: [<span class="string">&#x27;&gt; 5%&#x27;</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    esModule: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="esModule"><a href="#esModule" class="headerlink" title="esModule"></a>esModule</h4><ul><li>ç±»å‹: Boolean</li><li>é»˜è®¤å€¼: undefined</li></ul><p>æ˜¯å¦å¯¼å‡ºå…¼å®¹ esModule çš„ä»£ç ï¼Œé»˜è®¤æƒ…å†µä¸‹ vue-loader ä¼šå¯¼å‡º commonjs æ ¼å¼ï¼Œåƒ module.exports = â€¦.ã€‚å½“ esModule è®¾ç½®ä¸º true çš„æƒ…å†µä¸‹ï¼Œå¯¼å‡ºä¼šå˜ä¸º exports.__esModule = true; exports = â€¦ã€‚é€‚ç”¨äºä¸ Babel ä»¥å¤–çš„ transpiler äº’æ“ä½œï¼Œæ¯”å¦‚ TypeScriptã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ¥é”™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ¥é”™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Eslintè§„åˆ™è¯´æ˜</title>
      <link href="2017/11/16/Eslint%E8%A7%84%E5%88%99%E8%AF%B4%E6%98%8E/"/>
      <url>2017/11/16/Eslint%E8%A7%84%E5%88%99%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<p>å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;no-alert&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨alert confirm prompt</span></span><br><span class="line">    <span class="string">&quot;no-array-constructor&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨æ•°ç»„æ„é€ å™¨</span></span><br><span class="line">    <span class="string">&quot;no-bitwise&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨æŒ‰ä½è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-caller&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨arguments.calleræˆ–arguments.callee</span></span><br><span class="line">    <span class="string">&quot;no-catch-shadow&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢catchå­å¥å‚æ•°ä¸å¤–éƒ¨ä½œç”¨åŸŸå˜é‡åŒå</span></span><br><span class="line">    <span class="string">&quot;no-class-assign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ç»™ç±»èµ‹å€¼</span></span><br><span class="line">    <span class="string">&quot;no-cond-assign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ä½¿ç”¨èµ‹å€¼è¯­å¥</span></span><br><span class="line">    <span class="string">&quot;no-console&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨console</span></span><br><span class="line">    <span class="string">&quot;no-const-assign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¿®æ”¹constå£°æ˜çš„å˜é‡</span></span><br><span class="line">    <span class="string">&quot;no-constant-condition&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢åœ¨æ¡ä»¶ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼ if(true) if(1)</span></span><br><span class="line">    <span class="string">&quot;no-continue&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨continue</span></span><br><span class="line">    <span class="string">&quot;no-control-regex&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ§åˆ¶å­—ç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-debugger&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨debugger</span></span><br><span class="line">    <span class="string">&quot;no-delete-var&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½å¯¹varå£°æ˜çš„å˜é‡ä½¿ç”¨deleteæ“ä½œç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-div-regex&quot;</span>: <span class="number">1</span>,<span class="comment">//ä¸èƒ½ä½¿ç”¨çœ‹èµ·æ¥åƒé™¤æ³•çš„æ­£åˆ™è¡¨è¾¾å¼/=foo/</span></span><br><span class="line">    <span class="string">&quot;no-dupe-keys&quot;</span>: <span class="number">2</span>,<span class="comment">//åœ¨åˆ›å»ºå¯¹è±¡å­—é¢é‡æ—¶ä¸å…è®¸é”®é‡å¤ &#123;a:1,a:1&#125;</span></span><br><span class="line">    <span class="string">&quot;no-dupe-args&quot;</span>: <span class="number">2</span>,<span class="comment">//å‡½æ•°å‚æ•°ä¸èƒ½é‡å¤</span></span><br><span class="line">    <span class="string">&quot;no-duplicate-case&quot;</span>: <span class="number">2</span>,<span class="comment">//switchä¸­çš„caseæ ‡ç­¾ä¸èƒ½é‡å¤</span></span><br><span class="line">    <span class="string">&quot;no-else-return&quot;</span>: <span class="number">2</span>,<span class="comment">//å¦‚æœifè¯­å¥é‡Œé¢æœ‰return,åé¢ä¸èƒ½è·Ÿelseè¯­å¥</span></span><br><span class="line">    <span class="string">&quot;no-empty&quot;</span>: <span class="number">2</span>,<span class="comment">//å—è¯­å¥ä¸­çš„å†…å®¹ä¸èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="string">&quot;no-empty-character-class&quot;</span>: <span class="number">2</span>,<span class="comment">//æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„[]å†…å®¹ä¸èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="string">&quot;no-empty-label&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨ç©ºlabel</span></span><br><span class="line">    <span class="string">&quot;no-eq-null&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢å¯¹nullä½¿ç”¨==æˆ–!=è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-eval&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨eval</span></span><br><span class="line">    <span class="string">&quot;no-ex-assign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ç»™catchè¯­å¥ä¸­çš„å¼‚å¸¸å‚æ•°èµ‹å€¼</span></span><br><span class="line">    <span class="string">&quot;no-extend-native&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ‰©å±•nativeå¯¹è±¡</span></span><br><span class="line">    <span class="string">&quot;no-extra-bind&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¸å¿…è¦çš„å‡½æ•°ç»‘å®š</span></span><br><span class="line">    <span class="string">&quot;no-extra-boolean-cast&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¸å¿…è¦çš„boolè½¬æ¢</span></span><br><span class="line">    <span class="string">&quot;no-extra-parens&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢éå¿…è¦çš„æ‹¬å·</span></span><br><span class="line">    <span class="string">&quot;no-extra-semi&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢å¤šä½™çš„å†’å·</span></span><br><span class="line">    <span class="string">&quot;no-fallthrough&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢switchç©¿é€</span></span><br><span class="line">    <span class="string">&quot;no-floating-decimal&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢çœç•¥æµ®ç‚¹æ•°ä¸­çš„0 .5 3.</span></span><br><span class="line">    <span class="string">&quot;no-func-assign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢é‡å¤çš„å‡½æ•°å£°æ˜</span></span><br><span class="line">    <span class="string">&quot;no-implicit-coercion&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢éšå¼è½¬æ¢</span></span><br><span class="line">    <span class="string">&quot;no-implied-eval&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨éšå¼eval</span></span><br><span class="line">    <span class="string">&quot;no-inline-comments&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢è¡Œå†…å¤‡æ³¨</span></span><br><span class="line">    <span class="string">&quot;no-inner-declarations&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;functions&quot;</span>],<span class="comment">//ç¦æ­¢åœ¨å—è¯­å¥ä¸­ä½¿ç”¨å£°æ˜ï¼ˆå˜é‡æˆ–å‡½æ•°ï¼‰</span></span><br><span class="line">    <span class="string">&quot;no-invalid-regexp&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="string">&quot;no-invalid-this&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ— æ•ˆçš„thisï¼Œåªèƒ½ç”¨åœ¨æ„é€ å™¨ï¼Œç±»ï¼Œå¯¹è±¡å­—é¢é‡</span></span><br><span class="line">    <span class="string">&quot;no-irregular-whitespace&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½æœ‰ä¸è§„åˆ™çš„ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;no-iterator&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨__iterator__ å±æ€§</span></span><br><span class="line">    <span class="string">&quot;no-label-var&quot;</span>: <span class="number">2</span>,<span class="comment">//labelåä¸èƒ½ä¸varå£°æ˜çš„å˜é‡åç›¸åŒ</span></span><br><span class="line">    <span class="string">&quot;no-labels&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ ‡ç­¾å£°æ˜</span></span><br><span class="line">    <span class="string">&quot;no-lone-blocks&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¸å¿…è¦çš„åµŒå¥—å—</span></span><br><span class="line">    <span class="string">&quot;no-lonely-if&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢elseè¯­å¥å†…åªæœ‰ifè¯­å¥</span></span><br><span class="line">    <span class="string">&quot;no-loop-func&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢åœ¨å¾ªç¯ä¸­ä½¿ç”¨å‡½æ•°ï¼ˆå¦‚æœæ²¡æœ‰å¼•ç”¨å¤–éƒ¨å˜é‡ä¸å½¢æˆé—­åŒ…å°±å¯ä»¥ï¼‰</span></span><br><span class="line">    <span class="string">&quot;no-mixed-requires&quot;</span>: [<span class="number">0</span>, <span class="literal">false</span>],<span class="comment">//å£°æ˜æ—¶ä¸èƒ½æ··ç”¨å£°æ˜ç±»å‹</span></span><br><span class="line">    <span class="string">&quot;no-mixed-spaces-and-tabs&quot;</span>: [<span class="number">2</span>, <span class="literal">false</span>],<span class="comment">//ç¦æ­¢æ··ç”¨tabå’Œç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;linebreak-style&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;windows&quot;</span>],<span class="comment">//æ¢è¡Œé£æ ¼</span></span><br><span class="line">    <span class="string">&quot;no-multi-spaces&quot;</span>: <span class="number">1</span>,<span class="comment">//ä¸èƒ½ç”¨å¤šä½™çš„ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;no-multi-str&quot;</span>: <span class="number">2</span>,<span class="comment">//å­—ç¬¦ä¸²ä¸èƒ½ç”¨\æ¢è¡Œ</span></span><br><span class="line">    <span class="string">&quot;no-multiple-empty-lines&quot;</span>: [<span class="number">1</span>, &#123;<span class="string">&quot;max&quot;</span>: <span class="number">2</span>&#125;],<span class="comment">//ç©ºè¡Œæœ€å¤šä¸èƒ½è¶…è¿‡2è¡Œ</span></span><br><span class="line">    <span class="string">&quot;no-native-reassign&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½é‡å†™nativeå¯¹è±¡</span></span><br><span class="line">    <span class="string">&quot;no-negated-in-lhs&quot;</span>: <span class="number">2</span>,<span class="comment">//in æ“ä½œç¬¦çš„å·¦è¾¹ä¸èƒ½æœ‰!</span></span><br><span class="line">    <span class="string">&quot;no-nested-ternary&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨åµŒå¥—çš„ä¸‰ç›®è¿ç®—</span></span><br><span class="line">    <span class="string">&quot;no-new&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢åœ¨ä½¿ç”¨newæ„é€ ä¸€ä¸ªå®ä¾‹åä¸èµ‹å€¼</span></span><br><span class="line">    <span class="string">&quot;no-new-func&quot;</span>: <span class="number">1</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨new Function</span></span><br><span class="line">    <span class="string">&quot;no-new-object&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨new Object()</span></span><br><span class="line">    <span class="string">&quot;no-new-require&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨new require</span></span><br><span class="line">    <span class="string">&quot;no-new-wrappers&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨newåˆ›å»ºåŒ…è£…å®ä¾‹ï¼Œnew String new Boolean new Number</span></span><br><span class="line">    <span class="string">&quot;no-obj-calls&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½è°ƒç”¨å†…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œæ¯”å¦‚Math() JSON()</span></span><br><span class="line">    <span class="string">&quot;no-octal&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨å…«è¿›åˆ¶æ•°å­—</span></span><br><span class="line">    <span class="string">&quot;no-octal-escape&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨å…«è¿›åˆ¶è½¬ä¹‰åºåˆ—</span></span><br><span class="line">    <span class="string">&quot;no-param-reassign&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ç»™å‚æ•°é‡æ–°èµ‹å€¼</span></span><br><span class="line">    <span class="string">&quot;no-path-concat&quot;</span>: <span class="number">0</span>,<span class="comment">//nodeä¸­ä¸èƒ½ä½¿ç”¨__dirnameæˆ–__filenameåšè·¯å¾„æ‹¼æ¥</span></span><br><span class="line">    <span class="string">&quot;no-plusplus&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨++ï¼Œ--</span></span><br><span class="line">    <span class="string">&quot;no-process-env&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨process.env</span></span><br><span class="line">    <span class="string">&quot;no-process-exit&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨process.exit()</span></span><br><span class="line">    <span class="string">&quot;no-proto&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨__proto__å±æ€§</span></span><br><span class="line">    <span class="string">&quot;no-redeclare&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢é‡å¤å£°æ˜å˜é‡</span></span><br><span class="line">    <span class="string">&quot;no-regex-spaces&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­ä½¿ç”¨å¤šä¸ªç©ºæ ¼ /foo bar/</span></span><br><span class="line">    <span class="string">&quot;no-restricted-modules&quot;</span>: <span class="number">0</span>,<span class="comment">//å¦‚æœç¦ç”¨äº†æŒ‡å®šæ¨¡å—ï¼Œä½¿ç”¨å°±ä¼šæŠ¥é”™</span></span><br><span class="line">    <span class="string">&quot;no-return-assign&quot;</span>: <span class="number">1</span>,<span class="comment">//return è¯­å¥ä¸­ä¸èƒ½æœ‰èµ‹å€¼è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="string">&quot;no-script-url&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨javascript:void(0)</span></span><br><span class="line">    <span class="string">&quot;no-self-compare&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½æ¯”è¾ƒè‡ªèº«</span></span><br><span class="line">    <span class="string">&quot;no-sequences&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨é€—å·è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-shadow&quot;</span>: <span class="number">2</span>,<span class="comment">//å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ä¸èƒ½ä¸å®ƒæ‰€åŒ…å«çš„ä½œç”¨åŸŸä¸­çš„å˜é‡æˆ–å‚æ•°åŒå</span></span><br><span class="line">    <span class="string">&quot;no-shadow-restricted-names&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸¥æ ¼æ¨¡å¼ä¸­è§„å®šçš„é™åˆ¶æ ‡è¯†ç¬¦ä¸èƒ½ä½œä¸ºå£°æ˜æ—¶çš„å˜é‡åä½¿ç”¨</span></span><br><span class="line">    <span class="string">&quot;no-spaced-func&quot;</span>: <span class="number">2</span>,<span class="comment">//å‡½æ•°è°ƒç”¨æ—¶ å‡½æ•°åä¸()ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;no-sparse-arrays&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ç¨€ç–æ•°ç»„ï¼Œ [1,,2]</span></span><br><span class="line">    <span class="string">&quot;no-sync&quot;</span>: <span class="number">0</span>,<span class="comment">//nodejs ç¦æ­¢åŒæ­¥æ–¹æ³•</span></span><br><span class="line">    <span class="string">&quot;no-ternary&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦æ­¢ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-trailing-spaces&quot;</span>: <span class="number">1</span>,<span class="comment">//ä¸€è¡Œç»“æŸåé¢ä¸è¦æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;no-this-before-super&quot;</span>: <span class="number">0</span>,<span class="comment">//åœ¨è°ƒç”¨super()ä¹‹å‰ä¸èƒ½ä½¿ç”¨thisæˆ–super</span></span><br><span class="line">    <span class="string">&quot;no-throw-literal&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æŠ›å‡ºå­—é¢é‡é”™è¯¯ throw &quot;error&quot;;</span></span><br><span class="line">    <span class="string">&quot;no-undef&quot;</span>: <span class="number">1</span>,<span class="comment">//ä¸èƒ½æœ‰æœªå®šä¹‰çš„å˜é‡</span></span><br><span class="line">    <span class="string">&quot;no-undef-init&quot;</span>: <span class="number">2</span>,<span class="comment">//å˜é‡åˆå§‹åŒ–æ—¶ä¸èƒ½ç›´æ¥ç»™å®ƒèµ‹å€¼ä¸ºundefined</span></span><br><span class="line">    <span class="string">&quot;no-undefined&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½ä½¿ç”¨undefined</span></span><br><span class="line">    <span class="string">&quot;no-unexpected-multiline&quot;</span>: <span class="number">2</span>,<span class="comment">//é¿å…å¤šè¡Œè¡¨è¾¾å¼</span></span><br><span class="line">    <span class="string">&quot;no-underscore-dangle&quot;</span>: <span class="number">1</span>,<span class="comment">//æ ‡è¯†ç¬¦ä¸èƒ½ä»¥_å¼€å¤´æˆ–ç»“å°¾</span></span><br><span class="line">    <span class="string">&quot;no-unneeded-ternary&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¸å¿…è¦çš„åµŒå¥— var isYes = answer === 1 ? true : false;</span></span><br><span class="line">    <span class="string">&quot;no-unreachable&quot;</span>: <span class="number">2</span>,<span class="comment">//ä¸èƒ½æœ‰æ— æ³•æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">    <span class="string">&quot;no-unused-expressions&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ— ç”¨çš„è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="string">&quot;no-unused-vars&quot;</span>: [<span class="number">2</span>, &#123;<span class="string">&quot;vars&quot;</span>: <span class="string">&quot;all&quot;</span>, <span class="string">&quot;args&quot;</span>: <span class="string">&quot;after-used&quot;</span>&#125;],<span class="comment">//ä¸èƒ½æœ‰å£°æ˜åæœªè¢«ä½¿ç”¨çš„å˜é‡æˆ–å‚æ•°</span></span><br><span class="line">    <span class="string">&quot;no-use-before-define&quot;</span>: <span class="number">2</span>,<span class="comment">//æœªå®šä¹‰å‰ä¸èƒ½ä½¿ç”¨</span></span><br><span class="line">    <span class="string">&quot;no-useless-call&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢ä¸å¿…è¦çš„callå’Œapply</span></span><br><span class="line">    <span class="string">&quot;no-void&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦ç”¨voidæ“ä½œç¬¦</span></span><br><span class="line">    <span class="string">&quot;no-var&quot;</span>: <span class="number">0</span>,<span class="comment">//ç¦ç”¨varï¼Œç”¨letå’Œconstä»£æ›¿</span></span><br><span class="line">    <span class="string">&quot;no-warning-comments&quot;</span>: [<span class="number">1</span>, &#123; <span class="string">&quot;terms&quot;</span>: [<span class="string">&quot;todo&quot;</span>, <span class="string">&quot;fixme&quot;</span>, <span class="string">&quot;xxx&quot;</span>], <span class="string">&quot;location&quot;</span>: <span class="string">&quot;start&quot;</span> &#125;],<span class="comment">//ä¸èƒ½æœ‰è­¦å‘Šå¤‡æ³¨</span></span><br><span class="line">    <span class="string">&quot;no-with&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦ç”¨with</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;array-bracket-spacing&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;never&quot;</span>],<span class="comment">//æ˜¯å¦å…è®¸éç©ºæ•°ç»„é‡Œé¢æœ‰å¤šä½™çš„ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;arrow-parens&quot;</span>: <span class="number">0</span>,<span class="comment">//ç®­å¤´å‡½æ•°ç”¨å°æ‹¬å·æ‹¬èµ·æ¥</span></span><br><span class="line">    <span class="string">&quot;arrow-spacing&quot;</span>: <span class="number">0</span>,<span class="comment">//=&gt;çš„å‰/åæ‹¬å·</span></span><br><span class="line">    <span class="string">&quot;accessor-pairs&quot;</span>: <span class="number">0</span>,<span class="comment">//åœ¨å¯¹è±¡ä¸­ä½¿ç”¨getter/setter</span></span><br><span class="line">    <span class="string">&quot;block-scoped-var&quot;</span>: <span class="number">0</span>,<span class="comment">//å—è¯­å¥ä¸­ä½¿ç”¨var</span></span><br><span class="line">    <span class="string">&quot;brace-style&quot;</span>: [<span class="number">1</span>, <span class="string">&quot;1tbs&quot;</span>],<span class="comment">//å¤§æ‹¬å·é£æ ¼</span></span><br><span class="line">    <span class="string">&quot;callback-return&quot;</span>: <span class="number">1</span>,<span class="comment">//é¿å…å¤šæ¬¡è°ƒç”¨å›è°ƒä»€ä¹ˆçš„</span></span><br><span class="line">    <span class="string">&quot;camelcase&quot;</span>: <span class="number">2</span>,<span class="comment">//å¼ºåˆ¶é©¼å³°æ³•å‘½å</span></span><br><span class="line">    <span class="string">&quot;comma-dangle&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;never&quot;</span>],<span class="comment">//å¯¹è±¡å­—é¢é‡é¡¹å°¾ä¸èƒ½æœ‰é€—å·</span></span><br><span class="line">    <span class="string">&quot;comma-spacing&quot;</span>: <span class="number">0</span>,<span class="comment">//é€—å·å‰åçš„ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;comma-style&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;last&quot;</span>],<span class="comment">//é€—å·é£æ ¼ï¼Œæ¢è¡Œæ—¶åœ¨è¡Œé¦–è¿˜æ˜¯è¡Œå°¾</span></span><br><span class="line">    <span class="string">&quot;complexity&quot;</span>: [<span class="number">0</span>, <span class="number">11</span>],<span class="comment">//å¾ªç¯å¤æ‚åº¦</span></span><br><span class="line">    <span class="string">&quot;computed-property-spacing&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;never&quot;</span>],<span class="comment">//æ˜¯å¦å…è®¸è®¡ç®—åçš„é”®åä»€ä¹ˆçš„</span></span><br><span class="line">    <span class="string">&quot;consistent-return&quot;</span>: <span class="number">0</span>,<span class="comment">//return åé¢æ˜¯å¦å…è®¸çœç•¥</span></span><br><span class="line">    <span class="string">&quot;consistent-this&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;that&quot;</span>],<span class="comment">//thisåˆ«å</span></span><br><span class="line">    <span class="string">&quot;constructor-super&quot;</span>: <span class="number">0</span>,<span class="comment">//éæ´¾ç”Ÿç±»ä¸èƒ½è°ƒç”¨superï¼Œæ´¾ç”Ÿç±»å¿…é¡»è°ƒç”¨super</span></span><br><span class="line">    <span class="string">&quot;curly&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;all&quot;</span>],<span class="comment">//å¿…é¡»ä½¿ç”¨ if()&#123;&#125; ä¸­çš„&#123;&#125;</span></span><br><span class="line">    <span class="string">&quot;default-case&quot;</span>: <span class="number">2</span>,<span class="comment">//switchè¯­å¥æœ€åå¿…é¡»æœ‰default</span></span><br><span class="line">    <span class="string">&quot;dot-location&quot;</span>: <span class="number">0</span>,<span class="comment">//å¯¹è±¡è®¿é—®ç¬¦çš„ä½ç½®ï¼Œæ¢è¡Œçš„æ—¶å€™åœ¨è¡Œé¦–è¿˜æ˜¯è¡Œå°¾</span></span><br><span class="line">    <span class="string">&quot;dot-notation&quot;</span>: [<span class="number">0</span>, &#123; <span class="string">&quot;allowKeywords&quot;</span>: <span class="literal">true</span> &#125;],<span class="comment">//é¿å…ä¸å¿…è¦çš„æ–¹æ‹¬å·</span></span><br><span class="line">    <span class="string">&quot;eol-last&quot;</span>: <span class="number">0</span>,<span class="comment">//æ–‡ä»¶ä»¥å•ä¸€çš„æ¢è¡Œç¬¦ç»“æŸ</span></span><br><span class="line">    <span class="string">&quot;eqeqeq&quot;</span>: <span class="number">2</span>,<span class="comment">//å¿…é¡»ä½¿ç”¨å…¨ç­‰</span></span><br><span class="line">    <span class="string">&quot;func-names&quot;</span>: <span class="number">0</span>,<span class="comment">//å‡½æ•°è¡¨è¾¾å¼å¿…é¡»æœ‰åå­—</span></span><br><span class="line">    <span class="string">&quot;func-style&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;declaration&quot;</span>],<span class="comment">//å‡½æ•°é£æ ¼ï¼Œè§„å®šåªèƒ½ä½¿ç”¨å‡½æ•°å£°æ˜/å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="string">&quot;generator-star-spacing&quot;</span>: <span class="number">0</span>,<span class="comment">//ç”Ÿæˆå™¨å‡½æ•°*çš„å‰åç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;guard-for-in&quot;</span>: <span class="number">0</span>,<span class="comment">//for inå¾ªç¯è¦ç”¨ifè¯­å¥è¿‡æ»¤</span></span><br><span class="line">    <span class="string">&quot;handle-callback-err&quot;</span>: <span class="number">0</span>,<span class="comment">//nodejs å¤„ç†é”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;id-length&quot;</span>: <span class="number">0</span>,<span class="comment">//å˜é‡åé•¿åº¦</span></span><br><span class="line">    <span class="string">&quot;indent&quot;</span>: [<span class="number">2</span>, <span class="number">4</span>],<span class="comment">//ç¼©è¿›é£æ ¼</span></span><br><span class="line">    <span class="string">&quot;init-declarations&quot;</span>: <span class="number">0</span>,<span class="comment">//å£°æ˜æ—¶å¿…é¡»èµ‹åˆå€¼</span></span><br><span class="line">    <span class="string">&quot;key-spacing&quot;</span>: [<span class="number">0</span>, &#123; <span class="string">&quot;beforeColon&quot;</span>: <span class="literal">false</span>, <span class="string">&quot;afterColon&quot;</span>: <span class="literal">true</span> &#125;],<span class="comment">//å¯¹è±¡å­—é¢é‡ä¸­å†’å·çš„å‰åç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;lines-around-comment&quot;</span>: <span class="number">0</span>,<span class="comment">//è¡Œå‰/è¡Œåå¤‡æ³¨</span></span><br><span class="line">    <span class="string">&quot;max-depth&quot;</span>: [<span class="number">0</span>, <span class="number">4</span>],<span class="comment">//åµŒå¥—å—æ·±åº¦</span></span><br><span class="line">    <span class="string">&quot;max-len&quot;</span>: [<span class="number">0</span>, <span class="number">80</span>, <span class="number">4</span>],<span class="comment">//å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦</span></span><br><span class="line">    <span class="string">&quot;max-nested-callbacks&quot;</span>: [<span class="number">0</span>, <span class="number">2</span>],<span class="comment">//å›è°ƒåµŒå¥—æ·±åº¦</span></span><br><span class="line">    <span class="string">&quot;max-params&quot;</span>: [<span class="number">0</span>, <span class="number">3</span>],<span class="comment">//å‡½æ•°æœ€å¤šåªèƒ½æœ‰3ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="string">&quot;max-statements&quot;</span>: [<span class="number">0</span>, <span class="number">10</span>],<span class="comment">//å‡½æ•°å†…æœ€å¤šæœ‰å‡ ä¸ªå£°æ˜</span></span><br><span class="line">    <span class="string">&quot;new-cap&quot;</span>: <span class="number">2</span>,<span class="comment">//å‡½æ•°åé¦–è¡Œå¤§å†™å¿…é¡»ä½¿ç”¨newæ–¹å¼è°ƒç”¨ï¼Œé¦–è¡Œå°å†™å¿…é¡»ç”¨ä¸å¸¦newæ–¹å¼è°ƒç”¨</span></span><br><span class="line">    <span class="string">&quot;new-parens&quot;</span>: <span class="number">2</span>,<span class="comment">//newæ—¶å¿…é¡»åŠ å°æ‹¬å·</span></span><br><span class="line">    <span class="string">&quot;newline-after-var&quot;</span>: <span class="number">2</span>,<span class="comment">//å˜é‡å£°æ˜åæ˜¯å¦éœ€è¦ç©ºä¸€è¡Œ</span></span><br><span class="line">    <span class="string">&quot;object-curly-spacing&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;never&quot;</span>],<span class="comment">//å¤§æ‹¬å·å†…æ˜¯å¦å…è®¸ä¸å¿…è¦çš„ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;object-shorthand&quot;</span>: <span class="number">0</span>,<span class="comment">//å¼ºåˆ¶å¯¹è±¡å­—é¢é‡ç¼©å†™è¯­æ³•</span></span><br><span class="line">    <span class="string">&quot;one-var&quot;</span>: <span class="number">1</span>,<span class="comment">//è¿ç»­å£°æ˜</span></span><br><span class="line">    <span class="string">&quot;operator-assignment&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//èµ‹å€¼è¿ç®—ç¬¦ += -=ä»€ä¹ˆçš„</span></span><br><span class="line">    <span class="string">&quot;operator-linebreak&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;after&quot;</span>],<span class="comment">//æ¢è¡Œæ—¶è¿ç®—ç¬¦åœ¨è¡Œå°¾è¿˜æ˜¯è¡Œé¦–</span></span><br><span class="line">    <span class="string">&quot;padded-blocks&quot;</span>: <span class="number">0</span>,<span class="comment">//å—è¯­å¥å†…è¡Œé¦–è¡Œå°¾æ˜¯å¦è¦ç©ºè¡Œ</span></span><br><span class="line">    <span class="string">&quot;prefer-const&quot;</span>: <span class="number">0</span>,<span class="comment">//é¦–é€‰const</span></span><br><span class="line">    <span class="string">&quot;prefer-spread&quot;</span>: <span class="number">0</span>,<span class="comment">//é¦–é€‰å±•å¼€è¿ç®—</span></span><br><span class="line">    <span class="string">&quot;prefer-reflect&quot;</span>: <span class="number">0</span>,<span class="comment">//é¦–é€‰Reflectçš„æ–¹æ³•</span></span><br><span class="line">    <span class="string">&quot;quotes&quot;</span>: [<span class="number">1</span>, <span class="string">&quot;single&quot;</span>],<span class="comment">//å¼•å·ç±»å‹ `` &quot;&quot; &#x27;&#x27;</span></span><br><span class="line">    <span class="string">&quot;quote-props&quot;</span>:[<span class="number">2</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//å¯¹è±¡å­—é¢é‡ä¸­çš„å±æ€§åæ˜¯å¦å¼ºåˆ¶åŒå¼•å·</span></span><br><span class="line">    <span class="string">&quot;radix&quot;</span>: <span class="number">2</span>,<span class="comment">//parseIntå¿…é¡»æŒ‡å®šç¬¬äºŒä¸ªå‚æ•°</span></span><br><span class="line">    <span class="string">&quot;id-match&quot;</span>: <span class="number">0</span>,<span class="comment">//å‘½åæ£€æµ‹</span></span><br><span class="line">    <span class="string">&quot;require-yield&quot;</span>: <span class="number">0</span>,<span class="comment">//ç”Ÿæˆå™¨å‡½æ•°å¿…é¡»æœ‰yield</span></span><br><span class="line">    <span class="string">&quot;semi&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//è¯­å¥å¼ºåˆ¶åˆ†å·ç»“å°¾</span></span><br><span class="line">    <span class="string">&quot;semi-spacing&quot;</span>: [<span class="number">0</span>, &#123;<span class="string">&quot;before&quot;</span>: <span class="literal">false</span>, <span class="string">&quot;after&quot;</span>: <span class="literal">true</span>&#125;],<span class="comment">//åˆ†å·å‰åç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;sort-vars&quot;</span>: <span class="number">0</span>,<span class="comment">//å˜é‡å£°æ˜æ—¶æ’åº</span></span><br><span class="line">    <span class="string">&quot;space-after-keywords&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//å…³é”®å­—åé¢æ˜¯å¦è¦ç©ºä¸€æ ¼</span></span><br><span class="line">    <span class="string">&quot;space-before-blocks&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//ä¸ä»¥æ–°è¡Œå¼€å§‹çš„å—&#123;å‰é¢è¦ä¸è¦æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;space-before-function-paren&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;always&quot;</span>],<span class="comment">//å‡½æ•°å®šä¹‰æ—¶æ‹¬å·å‰é¢è¦ä¸è¦æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;space-in-parens&quot;</span>: [<span class="number">0</span>, <span class="string">&quot;never&quot;</span>],<span class="comment">//å°æ‹¬å·é‡Œé¢è¦ä¸è¦æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;space-infix-ops&quot;</span>: <span class="number">0</span>,<span class="comment">//ä¸­ç¼€æ“ä½œç¬¦å‘¨å›´è¦ä¸è¦æœ‰ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;space-return-throw-case&quot;</span>: <span class="number">2</span>,<span class="comment">//return throw caseåé¢è¦ä¸è¦åŠ ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;space-unary-ops&quot;</span>: [<span class="number">0</span>, &#123; <span class="string">&quot;words&quot;</span>: <span class="literal">true</span>, <span class="string">&quot;nonwords&quot;</span>: <span class="literal">false</span> &#125;],<span class="comment">//ä¸€å…ƒè¿ç®—ç¬¦çš„å‰/åè¦ä¸è¦åŠ ç©ºæ ¼</span></span><br><span class="line">    <span class="string">&quot;spaced-comment&quot;</span>: <span class="number">0</span>,<span class="comment">//æ³¨é‡Šé£æ ¼è¦ä¸è¦æœ‰ç©ºæ ¼ä»€ä¹ˆçš„</span></span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: <span class="number">2</span>,<span class="comment">//ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</span></span><br><span class="line">    <span class="string">&quot;use-isnan&quot;</span>: <span class="number">2</span>,<span class="comment">//ç¦æ­¢æ¯”è¾ƒæ—¶ä½¿ç”¨NaNï¼Œåªèƒ½ç”¨isNaN()</span></span><br><span class="line">    <span class="string">&quot;valid-jsdoc&quot;</span>: <span class="number">0</span>,<span class="comment">//jsdocè§„åˆ™</span></span><br><span class="line">    <span class="string">&quot;valid-typeof&quot;</span>: <span class="number">2</span>,<span class="comment">//å¿…é¡»ä½¿ç”¨åˆæ³•çš„typeofçš„å€¼</span></span><br><span class="line">    <span class="string">&quot;vars-on-top&quot;</span>: <span class="number">2</span>,<span class="comment">//varå¿…é¡»æ”¾åœ¨ä½œç”¨åŸŸé¡¶éƒ¨</span></span><br><span class="line">    <span class="string">&quot;wrap-iife&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;inside&quot;</span>],<span class="comment">//ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼çš„å°æ‹¬å·é£æ ¼</span></span><br><span class="line">    <span class="string">&quot;wrap-regex&quot;</span>: <span class="number">0</span>,<span class="comment">//æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ç”¨å°æ‹¬å·åŒ…èµ·æ¥</span></span><br><span class="line">    <span class="string">&quot;yoda&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;never&quot;</span>]<span class="comment">//ç¦æ­¢å°¤è¾¾æ¡ä»¶</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESlint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue-router ä¹‹ keep-alive</title>
      <link href="2017/11/15/vue-router%20%E4%B9%8B%20keep-alive/"/>
      <url>2017/11/15/vue-router%20%E4%B9%8B%20keep-alive/</url>
      
        <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/zgrkaka/article/details/73480947?locationNum=1&fps=1">åŸæ–‡åœ°å€</a></p><h4 id="keep-alive-ç®€ä»‹"><a href="#keep-alive-ç®€ä»‹" class="headerlink" title="keep-alive ç®€ä»‹"></a>keep-alive ç®€ä»‹</h4><p>keep-alive æ˜¯ Vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œæˆ–é¿å…é‡æ–°æ¸²æŸ“ã€‚<br>ç”¨æ³•ä¹Ÿå¾ˆç®€å•ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¯¥ç»„ä»¶å°†è¢«ç¼“å­˜ï¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>props</p><p>include - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾ï¼Œåªæœ‰åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜<br>exclude - å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»»ä½•åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ a</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- name ä¸º a çš„ç»„ä»¶å°†è¢«ç¼“å­˜ï¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span>å¯ä»¥ä¿ç•™å®ƒçš„çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">exclude</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é™¤äº† name ä¸º a çš„ç»„ä»¶éƒ½å°†è¢«ç¼“å­˜ï¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span>å¯ä»¥ä¿ç•™å®ƒçš„çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“</span><br></pre></td></tr></table></figure><h4 id="é‡è§-vue-router"><a href="#é‡è§-vue-router" class="headerlink" title="é‡è§ vue-router"></a>é‡è§ vue-router</h4><p>è¥¿æ¹–é›¨å¥½å¤§ï¼Œå€ŸæŠŠä¼èº²èº²é›¨â€¦<br>router-view ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æœç›´æ¥è¢«åŒ…åœ¨ keep-alive é‡Œé¢ï¼Œæ‰€æœ‰è·¯å¾„åŒ¹é…åˆ°çš„è§†å›¾ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ‰€æœ‰è·¯å¾„åŒ¹é…åˆ°çš„è§†å›¾ç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ï¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶è€Œäº§å“æ±ªæ€»æ˜¯è¦æ”¹éœ€æ±‚ï¼Œæ‹¦éƒ½æ‹¦ä¸ä½â€¦</p><h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>å¦‚æœåªæƒ³ router-view é‡Œé¢æŸä¸ªç»„ä»¶è¢«ç¼“å­˜ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><p>ä½¿ç”¨ include/exclude<br>å¢åŠ  router.meta å±æ€§<br>ä½¿ç”¨ include/exclude</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ a</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- åªæœ‰è·¯å¾„åŒ¹é…åˆ°çš„è§†å›¾ a ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="exclude-ä¾‹å­ç±»ä¼¼ã€‚"><a href="#exclude-ä¾‹å­ç±»ä¼¼ã€‚" class="headerlink" title="exclude ä¾‹å­ç±»ä¼¼ã€‚"></a>exclude ä¾‹å­ç±»ä¼¼ã€‚</h4><p>ç¼ºç‚¹ï¼šéœ€è¦çŸ¥é“ç»„ä»¶çš„ nameï¼Œé¡¹ç›®å¤æ‚çš„æ—¶å€™ä¸æ˜¯å¾ˆå¥½çš„é€‰æ‹©<br>å¢åŠ  router.meta å±æ€§</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// routes é…ç½®</span></span><br><span class="line">export default [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="keyword">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      keepAlive: <span class="literal">true</span> <span class="comment">// éœ€è¦è¢«ç¼“å­˜</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="built_in">path</span>: <span class="string">&#x27;/:id&#x27;</span>,</span><br><span class="line">    <span class="keyword">name</span>: <span class="string">&#x27;edit&#x27;</span>,</span><br><span class="line">    component: Edit,</span><br><span class="line">    meta: &#123;</span><br><span class="line">      keepAlive: <span class="literal">false</span> <span class="comment">// ä¸éœ€è¦è¢«ç¼“å­˜</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;$route.meta.keepAlive&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- è¿™é‡Œæ˜¯ä¼šè¢«ç¼“å­˜çš„è§†å›¾ç»„ä»¶ï¼Œæ¯”å¦‚ Homeï¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;!$route.meta.keepAlive&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¿™é‡Œæ˜¯ä¸è¢«ç¼“å­˜çš„è§†å›¾ç»„ä»¶ï¼Œæ¯”å¦‚ Editï¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¼˜ç‚¹ï¼šä¸éœ€è¦ä¾‹ä¸¾å‡ºéœ€è¦è¢«ç¼“å­˜ç»„ä»¶åç§°"><a href="#ä¼˜ç‚¹ï¼šä¸éœ€è¦ä¾‹ä¸¾å‡ºéœ€è¦è¢«ç¼“å­˜ç»„ä»¶åç§°" class="headerlink" title="ä¼˜ç‚¹ï¼šä¸éœ€è¦ä¾‹ä¸¾å‡ºéœ€è¦è¢«ç¼“å­˜ç»„ä»¶åç§°"></a>ä¼˜ç‚¹ï¼šä¸éœ€è¦ä¾‹ä¸¾å‡ºéœ€è¦è¢«ç¼“å­˜ç»„ä»¶åç§°</h4><p>ã€åŠ ç›ã€‘ä½¿ç”¨ router.meta æ‹“å±•</p><p>å‡è®¾è¿™é‡Œæœ‰ 3 ä¸ªè·¯ç”±ï¼š Aã€Bã€Cã€‚</p><p>éœ€æ±‚ï¼š</p><p>é»˜è®¤æ˜¾ç¤º A<br>B è·³åˆ° Aï¼ŒA ä¸åˆ·æ–°<br>C è·³åˆ° Aï¼ŒA åˆ·æ–°<br>å®ç°æ–¹å¼</p><p>åœ¨ A è·¯ç”±é‡Œé¢è®¾ç½® meta å±æ€§ï¼š</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="symbol">    path:</span> <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line"><span class="symbol">    name:</span> <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line"><span class="symbol">    component:</span> A,</span><br><span class="line"><span class="symbol">    meta:</span> &#123;</span><br><span class="line"><span class="symbol">        keepAlive:</span> true <span class="comment">// éœ€è¦è¢«ç¼“å­˜</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ B ç»„ä»¶é‡Œé¢è®¾ç½® beforeRouteLeaveï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    <span class="function"><span class="title">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;</span><br><span class="line">         <span class="comment">// è®¾ç½®ä¸‹ä¸€ä¸ªè·¯ç”±çš„ meta</span></span><br><span class="line">        to.meta.keepAlive = <span class="literal">true</span>;  <span class="comment">// è®© A ç¼“å­˜ï¼Œå³ä¸åˆ·æ–°</span></span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ C ç»„ä»¶é‡Œé¢è®¾ç½® beforeRouteLeaveï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">    <span class="function"><span class="title">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®ä¸‹ä¸€ä¸ªè·¯ç”±çš„ meta</span></span><br><span class="line">        to.meta.keepAlive = <span class="literal">false</span>; <span class="comment">// è®© A ä¸ç¼“å­˜ï¼Œå³åˆ·æ–°</span></span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¾¿èƒ½å®ç° B å›åˆ° Aï¼ŒA ä¸åˆ·æ–°ï¼›è€Œ C å›åˆ° A åˆ™åˆ·æ–°ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>è·¯ç”±å¤§æ³•ä¸é”™ï¼Œä¸éœ€è¦å…³å¿ƒå“ªä¸ªé¡µé¢è·³è½¬è¿‡æ¥çš„ï¼Œåªè¦ router.go(-1) å°±èƒ½å›å»ï¼Œä¸éœ€è¦é¢å¤–å‚æ•°ã€‚</p><p>ç„¶è€Œåœ¨éå•é¡µåº”ç”¨çš„æ—¶å€™ï¼Œkeep-alive å¹¶ä¸èƒ½æœ‰æ•ˆçš„ç¼“å­˜äº†= =</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue-router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡åˆ‡æ¢webview</title>
      <link href="2017/11/14/%E5%BE%AE%E4%BF%A1%E5%88%87%E6%8D%A2webview/"/>
      <url>2017/11/14/%E5%BE%AE%E4%BF%A1%E5%88%87%E6%8D%A2webview/</url>
      
        <content type="html"><![CDATA[<p>æ·»åŠ æœ‹å‹ä¸­è¾“å…¥</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:switchweb</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å»é™¤è¡Œå†…å…ƒç´ ç©ºéš™</title>
      <link href="2017/10/11/%E5%8E%BB%E9%99%A4%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E7%A9%BA%E9%9A%99/"/>
      <url>2017/10/11/%E5%8E%BB%E9%99%A4%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E7%A9%BA%E9%9A%99/</url>
      
        <content type="html"><![CDATA[<h4 id="æœ€ç®€å•çš„åŠæ³•"><a href="#æœ€ç®€å•çš„åŠæ³•" class="headerlink" title="æœ€ç®€å•çš„åŠæ³•"></a>æœ€ç®€å•çš„åŠæ³•</h4><p>æ·»åŠ æ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">  -webkit-text-size-adjust: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸæ–‡åœ°å€ï¼š<a href="http://www.zhangxinxu.com/wordpress/2012/04/inline-block-space-remove-%E5%8E%BB%E9%99%A4%E9%97%B4%E8%B7%9D/">http://www.zhangxinxu.com/wordpress/2012/04/inline-block-space-remove-%E5%8E%BB%E9%99%A4%E9%97%B4%E8%B7%9D/</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeå¿«æ·é”®</title>
      <link href="2017/10/09/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>2017/10/09/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<h4 id="Mac-é”®ç›˜ç¬¦å·è¯´æ˜"><a href="#Mac-é”®ç›˜ç¬¦å·è¯´æ˜" class="headerlink" title="Mac é”®ç›˜ç¬¦å·è¯´æ˜"></a>Mac é”®ç›˜ç¬¦å·è¯´æ˜</h4><ul><li><code>âŒ˜</code> == <code>Command</code></li><li><code>â‡§</code> == <code>Shift</code></li><li><code>â‡ª</code> == <code>Caps Lock</code></li><li><code>âŒ¥</code> == <code>Option</code></li><li><code>âŒƒ</code> == <code>Control</code></li><li><code>â†©</code> == <code>Return/Enter</code></li></ul><h4 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>â‡§âŒ˜P, F1</td><td>æ˜¾ç¤ºå‘½ä»¤é¢æ¿</td></tr><tr><td>âŒ˜P</td><td>å¿«é€Ÿæ‰“å¼€</td></tr><tr><td>â‡§âŒ˜N</td><td>æ–°å»º çª—å£/å®ä¾‹</td></tr><tr><td>âŒ˜W</td><td>å…³é—­ çª—å£/å®ä¾‹</td></tr><tr><td>âŒ¥â†“ / âŒ¥â†‘</td><td>ç§»åŠ¨å½“å‰è¡Œå‘ ä¸‹/ä¸Š</td></tr><tr><td>â‡§âŒ¥â†“ / â‡§âŒ¥â†‘</td><td>å¤åˆ¶å½“å‰è¡Œå‘ ä¸‹/ä¸Š</td></tr><tr><td>â‡§âŒ˜K</td><td>åˆ é™¤å½“å‰è¡Œ</td></tr><tr><td>âŒ˜Enter / â‡§âŒ˜Enter</td><td>åœ¨ä¸‹/ä¸Š æ’å…¥ä¸€è¡Œ</td></tr><tr><td>â‡§âŒ˜\</td><td>è·³è½¬åˆ°åŒ¹é…çš„æ‹¬å·</td></tr><tr><td>âŒ˜/</td><td>åˆ‡æ¢è¡Œæ³¨é‡Š</td></tr><tr><td>âŒ¥âŒ˜â†‘</td><td>åœ¨ä¸Šé¢æ’å…¥å…‰æ ‡</td></tr><tr><td>âŒ¥âŒ˜â†“</td><td>åœ¨ä¸‹é¢æ’å…¥å…‰æ ‡</td></tr><tr><td>âŒ˜F</td><td>æŸ¥æ‰¾</td></tr><tr><td>âŒ¥âŒ˜F</td><td>æ›¿æ¢</td></tr><tr><td>â‡§âŒ¥F</td><td>æ ¼å¼åŒ–æ–‡æ¡£</td></tr><tr><td>âŒƒG</td><td>è½¬åˆ°è¡Œâ€¦</td></tr><tr><td>âŒ˜\</td><td>æ‹†åˆ†ç¼–è¾‘çª—å£</td></tr><tr><td>âŒ˜1 / âŒ˜2 / âŒ˜3</td><td>èšç„¦åˆ°ç¬¬ 1ï¼Œç¬¬ 2ï¼Œç¬¬ 3 ç¼–è¾‘å™¨ç»„ä¸­</td></tr><tr><td>âŒ˜= / â‡§âŒ˜-</td><td>æ”¾å¤§/ç¼©å°</td></tr><tr><td>âŒ˜B</td><td>åˆ‡æ¢ä¾§æ å¯è§æ€§</td></tr><tr><td>â‡§âŒ˜E</td><td>æ˜¾ç¤ºèµ„æºç®¡ç†å™¨/åˆ‡æ¢ç„¦ç‚¹</td></tr><tr><td>âŒƒ`</td><td>æ˜¾ç¤ºé›†æˆç»ˆç«¯</td></tr></tbody></table><h4 id="åŸºæœ¬ç¼–è¾‘"><a href="#åŸºæœ¬ç¼–è¾‘" class="headerlink" title="åŸºæœ¬ç¼–è¾‘"></a>åŸºæœ¬ç¼–è¾‘</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒ˜] / âŒ˜[</td><td>å‘å·¦/å‘å³ ç¼©è¿›å½“å‰è¡Œ</td></tr><tr><td>Home / End</td><td>è·³åˆ°å½“å‰è¡Œçš„å¤´éƒ¨ï¼Œå°¾éƒ¨</td></tr><tr><td>âŒ˜â†‘ / âŒ˜â†“</td><td>è·³åˆ°å½“å‰è¡Œçš„å¼€å§‹ï¼Œç»“æŸ</td></tr><tr><td>âŒƒPgUp</td><td>æ»šåŠ¨åˆ°</td></tr><tr><td>âŒƒPgDown</td><td>æ»šåŠ¨åˆ°è¡Œå¤´/è¡Œå°¾</td></tr><tr><td>âŒ˜PgUp /âŒ˜PgDown</td><td>æ»šåŠ¨åˆ°é¡µå¤´/é¡µå°¾</td></tr><tr><td>â‡§âŒ˜[ / â‡§âŒ˜]</td><td>æŠ˜å /å±•å¼€åŒºåŸŸ</td></tr><tr><td>âŒ˜K âŒ˜[ / âŒ˜K âŒ˜]</td><td>æŠ˜å /å±•å¼€æ‰€æœ‰å­åŒºåŸŸ</td></tr><tr><td>âŒ˜K âŒ˜0 / âŒ˜K âŒ˜J</td><td>æŠ˜å /å±•å¼€æ‰€æœ‰åŒºåŸŸ</td></tr><tr><td>âŒ˜K âŒ˜C</td><td>æ·»åŠ è¡Œæ³¨é‡Š</td></tr><tr><td>âŒ˜K âŒ˜U</td><td>åˆ é™¤è¡Œæ³¨é‡Š</td></tr><tr><td>â‡§âŒ¥A</td><td>åˆ‡æ¢å—æ³¨é‡Š</td></tr><tr><td>âŒ¥Z</td><td>åˆ‡æ¢æ–‡å­—æ¢è¡Œ</td></tr></tbody></table><h4 id="å¤šå…‰æ ‡å’Œé€‰æ‹©"><a href="#å¤šå…‰æ ‡å’Œé€‰æ‹©" class="headerlink" title="å¤šå…‰æ ‡å’Œé€‰æ‹©"></a>å¤šå…‰æ ‡å’Œé€‰æ‹©</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>Alt+Click</td><td>æ’å…¥å…‰æ ‡</td></tr><tr><td>âŒ˜U</td><td>æ’¤æ¶ˆä¸Šä¸€ä¸ªå…‰æ ‡æ“ä½œ</td></tr><tr><td>â‡§âŒ¥I</td><td>åœ¨æ‰€é€‰æ¯è¡Œçš„æœ«å°¾æ’å…¥å…‰æ ‡</td></tr><tr><td>âŒ˜I</td><td>é€‰æ‹©å½“å‰è¡Œ</td></tr><tr><td>â‡§âŒ˜L</td><td>é€‰æ‹©å½“å‰é€‰æ‹©çš„æ‰€æœ‰äº‹ä»¶</td></tr><tr><td>âŒ˜F2</td><td>é€‰æ‹©å½“å‰å•è¯çš„æ‰€æœ‰å‡ºç°</td></tr><tr><td>âŒƒâ‡§âŒ˜â†’</td><td>å±•å¼€é€‰æ‹©</td></tr><tr><td>âŒƒâ‡§âŒ˜â†</td><td>æ”¶ç¼©é€‰æ‹©</td></tr><tr><td>Shift+Alt + drag mouseï¼ˆæ‹–åŠ¨é¼ æ ‡ï¼‰</td><td>åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹©</td></tr><tr><td>â‡§âŒ¥âŒ˜â†‘</td><td>å‘ä¸Šåˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹©</td></tr><tr><td>â‡§âŒ¥âŒ˜â†“</td><td>å‘ä¸‹åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹©</td></tr><tr><td>â‡§âŒ¥âŒ˜â†</td><td>å‘å·¦åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹©</td></tr><tr><td>â‡§âŒ¥âŒ˜â†’</td><td>å‘å³åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹©</td></tr><tr><td>â‡§âŒ¥âŒ˜PgUp</td><td>åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹© å‘ä¸Šä¸€é¡µ</td></tr><tr><td>â‡§âŒ¥âŒ˜PgDown</td><td>åˆ—ï¼ˆæ¡†ï¼‰é€‰æ‹© å‘ä¸‹ä¸€é¡µ</td></tr></tbody></table><h4 id="æœç´¢å’Œæ›¿æ¢"><a href="#æœç´¢å’Œæ›¿æ¢" class="headerlink" title="æœç´¢å’Œæ›¿æ¢"></a>æœç´¢å’Œæ›¿æ¢</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒ˜G / â‡§âŒ˜G</td><td>æŸ¥æ‰¾ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ª</td></tr><tr><td>âŒ¥Enter</td><td>Ã</td></tr><tr><td>âŒ˜D</td><td>å°†é€‰æ‹©æ·»åŠ åˆ°ä¸‹ä¸€ä¸ªæŸ¥æ‰¾åŒ¹é…</td></tr><tr><td>âŒ˜K âŒ˜D</td><td>å°†æœ€åä¸€ä¸ªé€‰æ‹©ç§»è‡³ä¸‹ä¸€ä¸ªæŸ¥æ‰¾åŒ¹é…é¡¹</td></tr></tbody></table><h4 id="ä¸°å¯Œçš„è¯­è¨€ç¼–è¾‘"><a href="#ä¸°å¯Œçš„è¯­è¨€ç¼–è¾‘" class="headerlink" title="ä¸°å¯Œçš„è¯­è¨€ç¼–è¾‘"></a>ä¸°å¯Œçš„è¯­è¨€ç¼–è¾‘</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒƒSpace</td><td>è§¦å‘å»ºè®®</td></tr><tr><td>â‡§âŒ˜Space</td><td>è§¦å‘å‚æ•°æç¤º</td></tr><tr><td>Tab</td><td>Emmet æ‰©å±•ç¼©å†™</td></tr><tr><td>âŒ˜K âŒ˜F</td><td>æ ¼å¼é€‰æ‹©</td></tr><tr><td>F12</td><td>è½¬åˆ°å®šä¹‰</td></tr><tr><td>âŒ¥F12</td><td>Peek å®šä¹‰</td></tr><tr><td>âŒ˜K F12</td><td>æ‰“å¼€å®šä¹‰åˆ°ä¸€è¾¹</td></tr><tr><td>âŒ˜.</td><td>å¿«é€Ÿä¿®å¤</td></tr><tr><td>â‡§F12</td><td>æ˜¾ç¤ºå¼•ç”¨</td></tr><tr><td>F2</td><td>é‡å‘½åç¬¦å·</td></tr><tr><td>â‡§âŒ˜. / â‡§âŒ˜,</td><td>æ›¿æ¢ä¸ºä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªå€¼</td></tr><tr><td>âŒ˜K âŒ˜X</td><td>ä¿®å‰ªå°¾éšç©ºæ ¼</td></tr><tr><td>âŒ˜K M</td><td>æ›´æ”¹æ–‡ä»¶è¯­è¨€</td></tr></tbody></table><h4 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒ˜T</td><td>æ˜¾ç¤ºæ‰€æœ‰ç¬¦å·</td></tr><tr><td>âŒ˜P</td><td>è½¬åˆ°æ–‡ä»¶â€¦</td></tr><tr><td>â‡§âŒ˜O</td><td>è½¬åˆ°ç¬¦å·â€¦</td></tr><tr><td>â‡§âŒ˜M</td><td>æ˜¾ç¤ºé—®é¢˜â€œé¢æ¿â€</td></tr><tr><td>F8 / â‡§F8</td><td>è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Š</td></tr><tr><td>âŒƒâ‡§Tab</td><td>æµè§ˆç¼–è¾‘å™¨ç»„å†å²è®°å½•</td></tr><tr><td>âŒƒ- / âŒƒâ‡§-</td><td>åé€€/å‰è¿›</td></tr><tr><td>âŒƒâ‡§M</td><td>åˆ‡æ¢é€‰é¡¹å¡ç§»åŠ¨ç„¦ç‚¹</td></tr></tbody></table><h4 id="ç¼–è¾‘å™¨ç®¡ç†"><a href="#ç¼–è¾‘å™¨ç®¡ç†" class="headerlink" title="ç¼–è¾‘å™¨ç®¡ç†"></a>ç¼–è¾‘å™¨ç®¡ç†</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒ˜W</td><td>å…³é—­ç¼–è¾‘çª—å£</td></tr><tr><td>âŒ˜K F</td><td>å…³é—­æ–‡ä»¶</td></tr><tr><td>âŒ˜K âŒ˜â† / âŒ˜K âŒ˜â†’</td><td>èšç„¦åˆ°ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªç¼–è¾‘å™¨ç»„</td></tr><tr><td>âŒ˜K â‡§âŒ˜â† / âŒ˜K â‡§âŒ˜â†’</td><td>å‘å·¦/å‘å³ç§»åŠ¨ç¼–è¾‘å™¨</td></tr><tr><td>âŒ˜K â† / âŒ˜K â†’</td><td>ç§»åŠ¨æ´»åŠ¨ç¼–è¾‘å™¨ç»„</td></tr></tbody></table><h4 id="æ–‡ä»¶ç®¡ç†"><a href="#æ–‡ä»¶ç®¡ç†" class="headerlink" title="æ–‡ä»¶ç®¡ç†"></a>æ–‡ä»¶ç®¡ç†</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒ˜N</td><td>æ–°å»ºæ–‡ä»¶</td></tr><tr><td>âŒ˜O</td><td>æ‰“å¼€æ–‡ä»¶</td></tr><tr><td>âŒ˜S</td><td>ä¿å­˜</td></tr><tr><td>â‡§âŒ˜S</td><td>ä¿å­˜ä¸ºâ€¦</td></tr><tr><td>âŒ¥âŒ˜S</td><td>ä¿å­˜æ‰€æœ‰</td></tr><tr><td>âŒ˜W</td><td>å…³é—­</td></tr><tr><td>âŒ˜K âŒ˜W</td><td>å…³é—­æ‰€æœ‰</td></tr><tr><td>â‡§âŒ˜T</td><td>é‡æ–°æ‰“å¼€å·²å…³é—­çš„ç¼–è¾‘å™¨</td></tr><tr><td>âŒ˜K</td><td>è¾“å…¥ä¿æŒæ‰“å¼€</td></tr><tr><td>âŒƒTab / âŒƒâ‡§</td><td>é€‰é¡¹å¡æ‰“å¼€ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ª</td></tr><tr><td>âŒ˜K P</td><td>å¤åˆ¶æ´»åŠ¨æ–‡ä»¶çš„è·¯å¾„</td></tr><tr><td>âŒ˜K R</td><td>åœ¨èµ„æºç®¡ç†å™¨ä¸­æ˜¾ç¤ºæ´»åŠ¨æ–‡ä»¶</td></tr><tr><td>âŒ˜K O</td><td>åœ¨æ–°çª—å£/å®ä¾‹ä¸­æ˜¾ç¤ºæ´»åŠ¨æ–‡ä»¶</td></tr></tbody></table><h4 id="æ˜¾ç¤º"><a href="#æ˜¾ç¤º" class="headerlink" title="æ˜¾ç¤º"></a>æ˜¾ç¤º</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒƒâŒ˜F</td><td>åˆ‡æ¢å…¨å±</td></tr><tr><td>âŒ¥âŒ˜1</td><td>åˆ‡æ¢ç¼–è¾‘å™¨å¸ƒå±€</td></tr><tr><td>â‡§âŒ˜F</td><td>æ˜¾ç¤ºæœç´¢</td></tr><tr><td>âŒƒâ‡§G</td><td>æ˜¾ç¤º Git</td></tr><tr><td>â‡§âŒ˜D</td><td>æ˜¾ç¤º Debug</td></tr><tr><td>â‡§âŒ˜X</td><td>æ˜¾ç¤ºæ‰©å±•å</td></tr><tr><td>â‡§âŒ˜H</td><td>åœ¨æ–‡ä»¶ä¸­æ›¿æ¢</td></tr><tr><td>â‡§âŒ˜J</td><td>åˆ‡æ¢æœç´¢è¯¦ç»†ä¿¡æ¯</td></tr><tr><td>â‡§âŒ˜C</td><td>æ‰“å¼€æ–°å‘½ä»¤æç¤ºç¬¦/ç»ˆç«¯</td></tr><tr><td>â‡§âŒ˜U</td><td>æ˜¾ç¤ºè¾“å‡ºé¢æ¿</td></tr><tr><td>â‡§âŒ˜V</td><td>åˆ‡æ¢ Markdown é¢„è§ˆ</td></tr><tr><td>âŒ˜K V</td><td>æ‰“å¼€ Markdown é¢„è§ˆåˆ°ä¸€è¾¹</td></tr></tbody></table><h4 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>F9</td><td>åˆ‡æ¢æ–­ç‚¹</td></tr><tr><td>F5</td><td>å¼€å§‹/ç»§ç»­</td></tr><tr><td>F11 / â‡§F11</td><td>è·³è¿›/å‡º</td></tr><tr><td>F10</td><td>è·³è¿‡</td></tr><tr><td>â‡§F5</td><td>æš‚åœ</td></tr><tr><td>âŒ˜K âŒ˜I</td><td>æ˜¾ç¤ºæ‚¬åœ</td></tr></tbody></table><h4 id="é›†æˆç»ˆç«¯"><a href="#é›†æˆç»ˆç«¯" class="headerlink" title="é›†æˆç»ˆç«¯"></a>é›†æˆç»ˆç«¯</h4><table><thead><tr><th>Mac å¿«æ·é”®</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>âŒƒ`</td><td>æ˜¾ç¤ºé›†æˆç»ˆç«¯</td></tr><tr><td>âŒƒâ‡§`</td><td>åˆ›å»ºæ–°ç»ˆç«¯</td></tr><tr><td>unassignedï¼ˆæœ«åˆ†é…ï¼‰</td><td>å¤åˆ¶é€‰æ‹©</td></tr><tr><td>unassignedï¼ˆæœ«åˆ†é…ï¼‰</td><td>ç²˜è´´åˆ°æ´»åŠ¨ç»ˆç«¯</td></tr><tr><td>âŒ˜â†‘</td><td>å‘ä¸Šæ»‘åŠ¨</td></tr><tr><td>âŒ˜â†“</td><td>ä¸‹èº«æ»‘åŠ¨</td></tr><tr><td>PgUp</td><td>å‘ä¸Šæ»šåŠ¨é¡µé¢</td></tr><tr><td>PgDown</td><td>å‘ä¸‹æ»šåŠ¨é¡µé¢</td></tr><tr><td>âŒ˜Home</td><td>æ»šåŠ¨åˆ°é¡¶éƒ¨</td></tr><tr><td>âŒ˜End</td><td>æ»šåŠ¨åˆ°å°¾éƒ¨</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿï¼ˆCentosï¼‰ä¸‹å®‰è£…nodejså¹¶é…ç½®ç¯å¢ƒ</title>
      <link href="2017/08/30/Linux%E7%B3%BB%E7%BB%9F%EF%BC%88Centos%EF%BC%89%E4%B8%8B%E5%AE%89%E8%A3%85nodejs%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/"/>
      <url>2017/08/30/Linux%E7%B3%BB%E7%BB%9F%EF%BC%88Centos%EF%BC%89%E4%B8%8B%E5%AE%89%E8%A3%85nodejs%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/qq_21794603/article/details/68067821">åŸæ–‡åœ°å€</a></p><p>æ€»ç»“ Centos ä¸‹å®‰è£… nodejs å¹¶é…ç½®ç¯å¢ƒï¼Œè®°å½•æˆåŠŸå®‰è£…çš„æ–¹æ³•ã€‚æ¨èçš„å®‰è£…æ–¹æ³•æ˜¯åˆ©ç”¨å·²ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…ï¼Œä¸æ¨èä½¿ç”¨æºç çš„å½¢å¼å®‰è£…ï¼Œä¸€æ˜¯æºç å®‰è£…æ¯”è¾ƒéº»çƒ¦ï¼ŒäºŒæ˜¯éœ€è¦è‡ªè¡Œä¸‹è½½ç¼–è¯‘æµªè´¹æ—¶é—´ã€‚</p><h3 id="1-å®‰è£…-nodejs"><a href="#1-å®‰è£…-nodejs" class="headerlink" title="1.å®‰è£… nodejs"></a>1.å®‰è£… nodejs</h3><p>è®¿é—® nodejs çš„å®˜æ–¹ç½‘ç«™çš„ downdoladï¼Œç½‘å€ï¼š<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a>ï¼Œå¯ä»¥çœ‹åˆ°æœ€æ–°çš„ nodejs ä¸‹è½½ï¼ŒåŒ…æ‹¬ä¸åŒçš„ç‰ˆæœ¬ï¼Œæˆªå›¾å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="http://img.blog.csdn.net/20170329190539370?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjE3OTQ2MDM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p><p>æ ¹æ® Linux çš„ä¸åŒç‰ˆæœ¬é€‰æ‹© 32 ä½æˆ– 64 ä½ï¼Œå› ä¸ºæˆ‘çš„ linux çš„è™šæ‹Ÿæœºæ˜¯ 64 ä½çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©çš„æ˜¯ 64 ä½äºŒè¿›åˆ¶å®‰è£…æ–‡ä»¶ï¼ˆLinux Binariesx64),å¯ä»¥å³é”®é€‰æ‹©åœ¨æ–°çª—å£ä¸­æ‰“å¼€é“¾æ¥ï¼Œè®°ä¸‹è¿™ä¸ªåœ°å€ã€‚<a href="https://nodejs.org/dist/v6.10.1/node-v6.10.1-linux-x64.tar.xz">https://nodejs.org/dist/v6.10.1/node-v6.10.1-linux-x64.tar.xz</a></p><p>å›åˆ° linux è™šæ‹Ÿæœºï¼Œåœ¨æ§åˆ¶å°è¾“å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget https://nodejs.org/dist/v6.10.1/node-v6.10.1-linux-x64.tar.xz</span></span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿå°†ä¼šä¸‹è½½è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥é€‰æ‹©ä¸‹è½½åˆ°é»˜è®¤è·¯å¾„ã€‚æˆåŠŸä¸‹è½½ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="http://img.blog.csdn.net/20170329194814703?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjE3OTQ2MDM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p><p>æ ¹æ®ä¸‹è½½çš„æ–‡ä»¶å¯ä»¥çœ‹å‡ºå®ƒçš„å‹ç¼©æ–¹å¼æ˜¯.xz çš„æ–¹å¼ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ä½¿ç”¨ linux å‘½ä»¤ tar ç›´æ¥ä¸‹è½½ã€‚éœ€è¦ä¸‹è½½èƒ½å¤Ÿè§£å‹è¿™ç§æ ¼å¼çš„å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ yum æºæ¥å®‰è£…ï¼Œæ§åˆ¶å°å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum search xz</span><br><span class="line">yum install xz.i386</span><br><span class="line">xz -d node-v6.10.1-linux-x64.tar.xz</span><br><span class="line">tar -xf node-v6.10.1-linux-x64.tar</span><br><span class="line">mv node-v6.10.1-linux-x64 node-v6.10.1</span><br></pre></td></tr></table></figure><p>åœ¨æ§åˆ¶å°è¾“å…¥<code>yum search xz</code>,åœ¨æœç´¢åˆ°çš„åˆ—è¡¨ä¸­é€‰æ‹©å®‰è£…è½¯ä»¶ï¼Œå¦‚<code>yum install xz.i386</code>,è§£å‹å®Œæˆåæ–‡ä»¶å˜ä¸ºä»¥.tar åç¼€ï¼Œä½¿ç”¨<code>tar -xf node-v6.10.1-linux-x64.tar</code>è§£å‹æ–‡ä»¶ã€‚</p><p>å¯ä»¥æ›´æ”¹æ–‡ä»¶åæ–¹ä¾¿æ“ä½œï¼Œåœ¨å‘½ä»¤å°è¾“å…¥<code>mv node-v6.10.1-linux-x64 node-v6.10.1</code>ï¼Œæ›´æ”¹æ–‡ä»¶åä¸º node-v6.10.1ã€‚</p><p>ä¸ºäº†éªŒè¯æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨ nodeï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥<code>cd node-v6.10.1/bin</code>ï¼Œè¾“å…¥<code>./node -v</code>æŸ¥çœ‹ node ç‰ˆæœ¬ï¼Œå®‰è£…æˆåŠŸåˆ™èƒ½å¤ŸæˆåŠŸæ˜¾ç¤º node ç‰ˆæœ¬ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ï¼ˆæˆªå›¾ä¸­çš„ node -v åº”è¯¥ä¸º./node -vï¼Œå› ä¸ºæ˜¯åé¢æˆªå›¾çš„ï¼‰ã€‚</p><p><img src="http://img.blog.csdn.net/20170329193059346?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjE3OTQ2MDM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p><h3 id="2-é…ç½®-nodejs"><a href="#2-é…ç½®-nodejs" class="headerlink" title="2.é…ç½® nodejs"></a>2.é…ç½® nodejs</h3><p>è¦æƒ³ node èƒ½å¤Ÿåœ¨å…¨å±€èƒ½å¤Ÿä½¿ç”¨ï¼Œéœ€è¦æ·»åŠ è¿æ¥ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥ä¸‹é¢å‘½ä»¤èƒ½å¤Ÿå®ç°ã€‚å…¶ä¸­â€œ/root/node-v6.10.1/bin/nodeâ€ä¸ºäºŒè¿›åˆ¶ nodejs æ–‡ä»¶çš„ç›®å½•ï¼Œæ ¹æ®ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘è¿™é‡Œæ˜¯ç›´æ¥è§£å‹åˆ°äº† root ç›®å½•ä¸‹ï¼Œæ‰€ä»¥è·¯å¾„ä¸º/root/node-v6.10.1/bin/nodeã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /root/node-v6.10.1/bin/node /usr/<span class="built_in">local</span>/bin/node</span><br><span class="line">ln -s /root/node-v6.10.1/bin/npm /usr/<span class="built_in">local</span>/bin/npm</span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆåå³å¯åœ¨ä»»ä½•ç›®å½•ä¸‹ä½¿ç”¨ nodeã€‚</p><p><img src="http://img.blog.csdn.net/20170329194133691?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjE3OTQ2MDM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos7å®‰è£…mysqlåŠmacä½¿ç”¨navicatè¿æ¥</title>
      <link href="2017/08/29/centos7%E5%AE%89%E8%A3%85mysql%E5%8F%8Amac%E4%BD%BF%E7%94%A8navicat%E8%BF%9E%E6%8E%A5/"/>
      <url>2017/08/29/centos7%E5%AE%89%E8%A3%85mysql%E5%8F%8Amac%E4%BD%BF%E7%94%A8navicat%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…-mysql"><a href="#å®‰è£…-mysql" class="headerlink" title="å®‰è£… mysql"></a>å®‰è£… mysql</h3><p>å®‰è£…éƒ¨åˆ†åŸæ–‡åœ°å€ï¼š<a href="http://www.linuxidc.com/Linux/2016-09/135288.htm">http://www.linuxidc.com/Linux/2016-09/135288.htm</a></p><h4 id="é…ç½®-YUM-æº"><a href="#é…ç½®-YUM-æº" class="headerlink" title="é…ç½® YUM æº"></a>é…ç½® YUM æº</h4><p>åœ¨ MySQL å®˜ç½‘ä¸­ä¸‹è½½ YUM æº rpm å®‰è£…åŒ…ï¼š<a href="http://dev.mysql.com/downloads/repo/yum/">http://dev.mysql.com/downloads/repo/yum/</a></p><h5 id="ä¸‹è½½-mysql-æºå®‰è£…åŒ…"><a href="#ä¸‹è½½-mysql-æºå®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½ mysql æºå®‰è£…åŒ…"></a>ä¸‹è½½ mysql æºå®‰è£…åŒ…</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">yum localinstall mysql57-community-release-el7-11.noarch.rpm</span><br></pre></td></tr></table></figure><h5 id="æ£€æŸ¥-mysql-æºæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#æ£€æŸ¥-mysql-æºæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="æ£€æŸ¥ mysql æºæ˜¯å¦å®‰è£…æˆåŠŸ"></a>æ£€æŸ¥ mysql æºæ˜¯å¦å®‰è£…æˆåŠŸ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist enabled | grep &quot;mysql.*-community.*&quot;</span><br></pre></td></tr></table></figure><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758192.png"><br>çœ‹åˆ°ä¸Šå›¾æ‰€ç¤ºè¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p><p>å¯ä»¥ä¿®æ”¹ vim /etc/yum.repos.d/mysql-community.repo æºï¼Œæ”¹å˜é»˜è®¤å®‰è£…çš„ mysql ç‰ˆæœ¬ã€‚æ¯”å¦‚è¦å®‰è£… 5.6 ç‰ˆæœ¬ï¼Œå°† 5.7 æºçš„ enabled=1 æ”¹æˆ enabled=0ã€‚ç„¶åå†å°† 5.6 æºçš„ enabled=0 æ”¹æˆ enabled=1 å³å¯ã€‚æ”¹å®Œä¹‹åçš„æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758197.jpg"></p><h4 id="å®‰è£…-MySQL"><a href="#å®‰è£…-MySQL" class="headerlink" title="å®‰è£… MySQL"></a>å®‰è£… MySQL</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql-community-server</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨-MySQL-æœåŠ¡"><a href="#å¯åŠ¨-MySQL-æœåŠ¡" class="headerlink" title="å¯åŠ¨ MySQL æœåŠ¡"></a>å¯åŠ¨ MySQL æœåŠ¡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ MySQL çš„å¯åŠ¨çŠ¶æ€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºå¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; disabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since äº” 2016-06-24 04:37:37 CST; 35min ago</span><br><span class="line"> Main PID: 2888 (mysqld)</span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           â””â”€2888 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid</span><br><span class="line"></span><br><span class="line">6æœˆ 24 04:37:36 localhost.localdomain systemd[1]: Starting MySQL Server...</span><br><span class="line">6æœˆ 24 04:37:37 localhost.localdomain systemd[1]: Started MySQL Server.</span><br></pre></td></tr></table></figure><h4 id="å¼€æœºå¯åŠ¨"><a href="#å¼€æœºå¯åŠ¨" class="headerlink" title="å¼€æœºå¯åŠ¨"></a>å¼€æœºå¯åŠ¨</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable mysqld</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹-root-æœ¬åœ°ç™»å½•å¯†ç "><a href="#ä¿®æ”¹-root-æœ¬åœ°ç™»å½•å¯†ç " class="headerlink" title="ä¿®æ”¹ root æœ¬åœ°ç™»å½•å¯†ç "></a>ä¿®æ”¹ root æœ¬åœ°ç™»å½•å¯†ç </h4><p>mysql å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨/var/log/mysqld.log æ–‡ä»¶ä¸­ç»™ root ç”Ÿæˆäº†ä¸€ä¸ªé»˜è®¤å¯†ç ã€‚é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ‰¾åˆ° root é»˜è®¤å¯†ç ï¼Œç„¶åç™»å½• mysql è¿›è¡Œä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#x27;temporary password&#x27; /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758193.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;MyNewPass4!&#39;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set password for &#39;root&#39;@&#39;localhost&#39;&#x3D;password(&#39;MyNewPass4!&#39;);</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šmysql5.7 é»˜è®¤å®‰è£…äº†å¯†ç å®‰å…¨æ£€æŸ¥æ’ä»¶ï¼ˆvalidate_passwordï¼‰ï¼Œé»˜è®¤å¯†ç æ£€æŸ¥ç­–ç•¥è¦æ±‚å¯†ç å¿…é¡»åŒ…å«ï¼šå¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·ï¼Œå¹¶ä¸”é•¿åº¦ä¸èƒ½å°‘äº 8 ä½ã€‚å¦åˆ™ä¼šæç¤º ERROR 1819 (HY000): Your password does not satisfy the current policy requirements é”™è¯¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758194.png"></p><p>é€šè¿‡ msyql ç¯å¢ƒå˜é‡å¯ä»¥æŸ¥çœ‹å¯†ç ç­–ç•¥çš„ç›¸å…³ä¿¡æ¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &#39;%password%&#39;;</span><br></pre></td></tr></table></figure><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758195.png"></p><p>validate_password_policyï¼šå¯†ç ç­–ç•¥ï¼Œé»˜è®¤ä¸º MEDIUM ç­–ç•¥<br>validate_password_dictionary_fileï¼šå¯†ç ç­–ç•¥æ–‡ä»¶ï¼Œç­–ç•¥ä¸º STRONG æ‰éœ€è¦<br>validate_password_lengthï¼šå¯†ç æœ€å°‘é•¿åº¦<br>validate_password_mixed_case_countï¼šå¤§å°å†™å­—ç¬¦é•¿åº¦ï¼Œè‡³å°‘ 1 ä¸ª<br>validate_password_number_count ï¼šæ•°å­—è‡³å°‘ 1 ä¸ª<br>validate_password_special_char_countï¼šç‰¹æ®Šå­—ç¬¦è‡³å°‘ 1 ä¸ª<br>ä¸Šè¿°å‚æ•°æ˜¯é»˜è®¤ç­–ç•¥ MEDIUM çš„å¯†ç æ£€æŸ¥è§„åˆ™ã€‚</p><p>å…±æœ‰ä»¥ä¸‹å‡ ç§å¯†ç ç­–ç•¥ï¼š</p><table><thead><tr><th>ç­–ç•¥</th><th>æ£€æŸ¥è§„åˆ™</th></tr></thead><tbody><tr><td>0 or LOW</td><td>Length</td></tr><tr><td>1 or MEDIUM Length</td><td>numeric, lowercase/uppercase, and special characters</td></tr><tr><td>2 or STRONG Length</td><td>numeric, lowercase/uppercase, and special characters; dictionary file</td></tr></tbody></table><p>MySQL å®˜ç½‘å¯†ç ç­–ç•¥è¯¦ç»†è¯´æ˜ï¼š<a href="http://dev.mysql.com/doc/refman/5.7/en/validate-password-options-variables.html#sysvar_validate_password_policy">http://dev.mysql.com/doc/refman/5.7/en/validate-password-options-variables.html#sysvar_validate_password_policy</a></p><h5 id="ä¿®æ”¹å¯†ç ç­–ç•¥"><a href="#ä¿®æ”¹å¯†ç ç­–ç•¥" class="headerlink" title="ä¿®æ”¹å¯†ç ç­–ç•¥"></a>ä¿®æ”¹å¯†ç ç­–ç•¥</h5><p>åœ¨/etc/my.cnf æ–‡ä»¶æ·»åŠ  validate_password_policy é…ç½®ï¼ŒæŒ‡å®šå¯†ç ç­–ç•¥</p><p>é€‰æ‹© 0ï¼ˆLOWï¼‰ï¼Œ1ï¼ˆMEDIUMï¼‰ï¼Œ2ï¼ˆSTRONGï¼‰å…¶ä¸­ä¸€ç§ï¼Œé€‰æ‹© 2 éœ€è¦æä¾›å¯†ç å­—å…¸æ–‡ä»¶</p><p><code>validate_password_policy=0</code></p><p>å¦‚æœä¸éœ€è¦å¯†ç ç­–ç•¥ï¼Œæ·»åŠ  my.cnf æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ç¦ç”¨å³å¯ï¼š</p><p><code>validate_password = off</code></p><p>é‡æ–°å¯åŠ¨ mysql æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·"><a href="#æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·" class="headerlink" title="æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·"></a>æ·»åŠ è¿œç¨‹ç™»å½•ç”¨æˆ·</h4><p>é»˜è®¤åªå…è®¸ root å¸æˆ·åœ¨æœ¬åœ°ç™»å½•ï¼Œå¦‚æœè¦åœ¨å…¶å®ƒæœºå™¨ä¸Šè¿æ¥ mysqlï¼Œå¿…é¡»ä¿®æ”¹ root å…è®¸è¿œç¨‹è¿æ¥ï¼Œæˆ–è€…æ·»åŠ ä¸€ä¸ªå…è®¸è¿œç¨‹è¿æ¥çš„å¸æˆ·ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œæˆ‘æ·»åŠ ä¸€ä¸ªæ–°çš„å¸æˆ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39; WITH GRANT OPTION;</span><br></pre></td></tr></table></figure><h4 id="é…ç½®é»˜è®¤ç¼–ç ä¸º-utf8"><a href="#é…ç½®é»˜è®¤ç¼–ç ä¸º-utf8" class="headerlink" title="é…ç½®é»˜è®¤ç¼–ç ä¸º utf8"></a>é…ç½®é»˜è®¤ç¼–ç ä¸º utf8</h4><p>ä¿®æ”¹/etc/my.cnf é…ç½®æ–‡ä»¶ï¼Œåœ¨[mysqld]ä¸‹æ·»åŠ ç¼–ç é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">character_set_server=utf8</span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27;</span><br></pre></td></tr></table></figure><p>é‡æ–°å¯åŠ¨ mysql æœåŠ¡ï¼ŒæŸ¥çœ‹æ•°æ®åº“é»˜è®¤ç¼–ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &#39;%character%&#39;;</span><br></pre></td></tr></table></figure><p><img src="http://www.linuxidc.com/upload/2016_09/160918124758196.png"></p><p>é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„ï¼š<br>é…ç½®æ–‡ä»¶ï¼š/etc/my.cnf<br>æ—¥å¿—æ–‡ä»¶ï¼š/var/log//var/log/mysqld.log<br>æœåŠ¡å¯åŠ¨è„šæœ¬ï¼š/usr/lib/systemd/system/mysqld.service<br>socket æ–‡ä»¶ï¼š/var/run/mysqld/mysqld.pid</p><h3 id="navicat-è¿æ¥"><a href="#navicat-è¿æ¥" class="headerlink" title="navicat è¿æ¥"></a>navicat è¿æ¥</h3><p>åœ¨ä½¿ç”¨ navicat è¿æ¥æ—¶ï¼Œä¸€ç›´æŠ¥é”™</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2013</span> - Lost <span class="keyword">connection</span> <span class="keyword">to</span> MySQL <span class="keyword">server</span> at <span class="string">&#x27;reading</span></span><br><span class="line"><span class="string">authorization packet&#x27;</span>, <span class="keyword">system</span> error: <span class="number">54</span> &quot;Connection reset by peer&quot;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯é€šè¿‡å‘½ä»¤è¡Œæ˜¯å¯ä»¥è¿æ¥çš„</p><p>æœ€åå‘ç°éœ€è¦åœ¨ navicat ä¸­é…ç½® ssh é€šé“ï¼Œæ­¤å¤„çš„ç”¨æˆ·åå¯†ç æ˜¯ centos æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç </p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> mysql </tag>
            
            <tag> navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vimå¿«æ·é”®</title>
      <link href="2017/08/11/Vim%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
      <url>2017/08/11/Vim%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<h3 id="æ ‡è®°è¯´æ˜"><a href="#æ ‡è®°è¯´æ˜" class="headerlink" title="æ ‡è®°è¯´æ˜"></a>æ ‡è®°è¯´æ˜</h3><table><thead><tr><th>æ ‡è®°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>&lt;C - p&gt;</td><td>åŒæ—¶æŒ‰ Ctrl å’Œ p</td></tr><tr><td>f{char}</td><td>æŒ‰ f åé¢è·Ÿä»»æ„å­—ç¬¦</td></tr><tr><td>`{a - z}</td><td>æŒ‰`åé¢è·Ÿä»»æ„å°å†™å­—æ¯</td></tr><tr><td>m{a - zA - Z}</td><td>m åé¢è·Ÿä»»æ„å°å†™æˆ–å¤§å†™å­—æ¯</td></tr><tr><td>d{motion}</td><td>d åé¢è·Ÿä»»æ„åŠ¨ä½œå‘½ä»¤</td></tr><tr><td>&lt;C - r&gt;</td><td>åŒæ—¶æŒ‰ Ctrl å’Œ rï¼Œåé¢è·Ÿä¸€ä¸ªå¯„å­˜å™¨åœ°å€</td></tr><tr><td><Esc></Esc></td><td>æŒ‰ Esc é”®</td></tr><tr><td><CR></CR></td><td>æŒ‰å›è½¦é”®ï¼Œä¹Ÿå†™ä½œ<code>&lt;Enter&gt;</code></td></tr><tr><td><Ctrl></Ctrl></td><td>æŒ‰ Ctrl é”®</td></tr><tr><td><Tab></Tab></td><td>æŒ‰ Tab é”®</td></tr><tr><td><Shift></Shift></td><td>æŒ‰ Shift é”®</td></tr><tr><td>&lt;S - Tab&gt;</td><td>åŒæ—¶æŒ‰<code>&lt;Shift&gt;</code>å’Œ<code>&lt;Tab&gt;</code></td></tr><tr><td><Up></Up></td><td>ä¸Šå…‰æ ‡é”®</td></tr><tr><td><Down></Down></td><td>ä¸‹å…‰æ ‡å¥</td></tr><tr><td>ã„©</td><td>ç©ºæ ¼</td></tr></tbody></table><h3 id="æ¨¡å¼"><a href="#æ¨¡å¼" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h3><table><thead><tr><th>æ“ä½œç¬¦</th><th>æ¨¡å¼</th></tr></thead><tbody><tr><td>i</td><td>æ’å…¥æ¨¡å¼</td></tr><tr><td>R</td><td>æ›¿æ¢æ¨¡å¼</td></tr><tr><td>gR</td><td>è™šæ‹Ÿæ›¿æ¢æ¨¡å¼</td></tr><tr><td>r</td><td>å•æ¬¡æ›¿æ¢æ¨¡å¼</td></tr><tr><td>gr</td><td>å•æ¬¡è™šæ‹Ÿæ›¿æ¢æ¨¡å¼</td></tr><tr><td><Esc></Esc></td><td>æ™®é€šæ¨¡å¼</td></tr><tr><td>v</td><td>å­—ç¬¦å¯è§†æ¨¡å¼</td></tr><tr><td>V</td><td>è¡Œå¯è§†æ¨¡å¼</td></tr><tr><td>&lt;C + v&gt;</td><td>åˆ—å—å¯è§†æ¨¡å¼</td></tr></tbody></table><h3 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h3><table><thead><tr><th>æ“ä½œç¬¦</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>hjkl</td><td>å·¦ä¸‹ä¸Šå³</td></tr><tr><td>.</td><td>é‡å¤ä¸Šæ¬¡ä¿®æ”¹</td></tr><tr><td>x</td><td>åˆ é™¤å…‰æ ‡ä¸‹çš„å­—ç¬¦</td></tr><tr><td>dd</td><td>åˆ é™¤å½“å‰è¡Œ</td></tr><tr><td>&gt;G</td><td>å¢åŠ å½“å‰è¡Œåˆ°æ–‡æ¡£æœ«å°¾å¤„ç¼©è¿›</td></tr><tr><td>$</td><td>å…‰æ ‡ç§»è‡³è¡Œå°¾</td></tr><tr><td>a</td><td>å…‰æ ‡ä¹‹åæ·»åŠ å†…å®¹</td></tr><tr><td>A</td><td>åœ¨å½“å‰è¡Œç»“å°¾æ·»åŠ å†…å®¹ï¼Œç­‰åŒï¼š<code>$a</code></td></tr><tr><td>f{char} / t{char}</td><td>æŸ¥æ‰¾å½“å‰è¡Œä¸‹ä¸€å¤„æŒ‡å®šå­—ç¬¦ä½ç½®</td></tr><tr><td>s</td><td>åˆ é™¤å…‰æ ‡ä¸‹å­—ç¬¦å¹¶è¿›å…¥ç¼–è¾‘æ¨¡å¼</td></tr><tr><td>u</td><td>æ’¤é”€ä¸Šæ¬¡ä¿®æ”¹</td></tr><tr><td>/pattern</td><td>æŸ¥æ‰¾ä¸‹ä¸€å¤„åŒ¹é…é¡¹</td></tr><tr><td>?pattern</td><td>æŸ¥æ‰¾ä¸Šä¸€å¤„åŒ¹é…é¡¹</td></tr><tr><td>:s/target/replacement</td><td>æ‰§è¡Œæ›¿æ¢</td></tr><tr><td>:s/target/replacement/g</td><td>å…¨éƒ¨æ‰§è¡Œæ›¿æ¢</td></tr><tr><td>q{a - z0 - 9}q</td><td>å½•åˆ¶å®ï¼Œå¹¶ç”¨<code>@x</code>æ‰§è¡Œï¼Œx ä¸ºå®çš„åç§°</td></tr><tr><td>*</td><td>æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨å•è¯ <code>:set hls</code> å¯ä»¥è®¾ç½®é«˜äº®</td></tr><tr><td>n</td><td>è·³åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹</td></tr><tr><td>c</td><td>åˆ é™¤æ‰€é€‰</td></tr><tr><td>cw</td><td>åˆ é™¤å…‰æ ‡ä½ç½®åˆ°å•è¯ç»“æŸï¼Œä»åå¾€å‰</td></tr><tr><td>db</td><td>åˆ é™¤å…‰æ ‡åˆ°å•è¯å¼€å¤´çš„å†…å®¹ï¼Œä½†ä¿ç•™å…‰æ ‡å­—æ¯</td></tr><tr><td>b</td><td>æŠŠå…‰æ ‡ç§»åŠ¨åˆ°å•è¯å¼€å¤´</td></tr><tr><td>dw</td><td>åˆ é™¤ä»å…‰æ ‡ä½ç½®åˆ°å•è¯ç»“æŸï¼Œä»å‰å¾€å</td></tr><tr><td>daw</td><td>åˆ é™¤å•è¯</td></tr><tr><td>&lt;C - a&gt;</td><td>å¯¹æ•°å­—åŠ ï¼Œå¦‚æœå…‰æ ‡ä¸åœ¨æ•°å­—ä¸Šåˆ™ç§»åŠ¨åˆ°å½“å‰è¡Œæ•°å­—ä¸Š</td></tr><tr><td>&lt;C - x&gt;</td><td>å¯¹æ•°å­—å‡ï¼ŒåŠ å‡éƒ½å¯å¸¦å‰ç¼€å¦‚ï¼š<code>10&lt;C - a&gt;</code>ä¸ºåŠ  10</td></tr><tr><td>yyp</td><td>å¤åˆ¶å½“å‰è¡Œ</td></tr><tr><td>&lt;C + o&gt;</td><td>æ’å…¥ - æ™®é€šæ¨¡å¼ï¼Œä¸€æ¬¡å‘½ä»¤åç«‹åˆ»å›åˆ°æ’å…¥æ¨¡å¼</td></tr><tr><td>zz</td><td>é‡ç»˜å±å¹•ï¼Œä½¿å½“å‰è¡Œåœ¨ä¸­å¤®</td></tr><tr><td>&lt;C + r&gt;=6*35<CR></CR></td><td>è®¡ç®— 3*35</td></tr><tr><td>gv</td><td>é‡é€‰ä¸Šæ¬¡çš„é«˜äº®é€‰åŒº</td></tr><tr><td>o</td><td>åˆ‡æ¢æ´»åŠ¨ç«¯</td></tr><tr><td>vit</td><td>é«˜äº®æ ‡ç­¾å†…éƒ¨å†…å®¹ visually select inside the tag</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos7é…ç½®é˜²ç«å¢™ï¼Œå¼€å¯ç«¯å£</title>
      <link href="2017/08/10/centos7%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%8C%E5%BC%80%E5%90%AF%E7%AB%AF%E5%8F%A3/"/>
      <url>2017/08/10/centos7%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%8C%E5%BC%80%E5%90%AF%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒåœ°å€ï¼š</p><p><a href="http://blog.csdn.net/u013410747/article/details/61696178"> Centos7,é…ç½®é˜²ç«å¢™ï¼Œå¼€å¯ç«¯å£</a></p><p><a href="https://www.5yun.org/10074.html">Centos7ï¼ˆFirewallï¼‰é˜²ç«å¢™å¼€å¯å¸¸è§ç«¯å£å‘½ä»¤</a></p><p><a href="http://www.mamicode.com/info-detail-1539878.html">firewall-cmd çš„å¸¸ç”¨å‘½ä»¤ä½¿ç”¨</a></p><p><a href="http://blog.sina.com.cn/s/blog_43b39e250102v4zt.html">CentOS 7 ä¸­ firewall-cmd å‘½ä»¤</a></p><hr><h3 id="1-centos7-ç‰ˆæœ¬å¯¹é˜²ç«å¢™è¿›è¡Œ-åŠ å¼º-ä¸å†ä½¿ç”¨åŸæ¥çš„-iptables-å¯ç”¨-firewall"><a href="#1-centos7-ç‰ˆæœ¬å¯¹é˜²ç«å¢™è¿›è¡Œ-åŠ å¼º-ä¸å†ä½¿ç”¨åŸæ¥çš„-iptables-å¯ç”¨-firewall" class="headerlink" title="1.centos7 ç‰ˆæœ¬å¯¹é˜²ç«å¢™è¿›è¡Œ åŠ å¼º,ä¸å†ä½¿ç”¨åŸæ¥çš„ iptables,å¯ç”¨ firewall"></a>1.centos7 ç‰ˆæœ¬å¯¹é˜²ç«å¢™è¿›è¡Œ åŠ å¼º,ä¸å†ä½¿ç”¨åŸæ¥çš„ iptables,å¯ç”¨ firewall</h3><h4 id="1-1-æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£-é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£"><a href="#1-1-æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£-é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£" class="headerlink" title="1.1 æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£(é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£)"></a>1.1 æŸ¥çœ‹å·²å¼€æ”¾çš„ç«¯å£(é»˜è®¤ä¸å¼€æ”¾ä»»ä½•ç«¯å£)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --list-ports</span><br></pre></td></tr></table></figure><h4 id="1-2-å¼€å¯-80-ç«¯å£"><a href="#1-2-å¼€å¯-80-ç«¯å£" class="headerlink" title="1.2 å¼€å¯ 80 ç«¯å£"></a>1.2 å¼€å¯ 80 ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public(ä½œç”¨åŸŸ) --add-port=80/tcp(ç«¯å£å’Œè®¿é—®ç±»å‹) --permanent(æ°¸ä¹…ç”Ÿæ•ˆ)</span><br></pre></td></tr></table></figure><h4 id="1-3-é‡å¯é˜²ç«å¢™"><a href="#1-3-é‡å¯é˜²ç«å¢™" class="headerlink" title="1.3 é‡å¯é˜²ç«å¢™"></a>1.3 é‡å¯é˜²ç«å¢™</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h4 id="1-4-åœæ­¢é˜²ç«å¢™"><a href="#1-4-åœæ­¢é˜²ç«å¢™" class="headerlink" title="1.4 åœæ­¢é˜²ç«å¢™"></a>1.4 åœæ­¢é˜²ç«å¢™</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><h4 id="1-5-ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨"><a href="#1-5-ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨" class="headerlink" title="1.5 ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨"></a>1.5 ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br></pre></td></tr></table></figure><h4 id="1-6-åˆ é™¤ç«¯å£"><a href="#1-6-åˆ é™¤ç«¯å£" class="headerlink" title="1.6 åˆ é™¤ç«¯å£"></a>1.6 åˆ é™¤ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone= public --remove-port=80/tcp --permanent</span><br></pre></td></tr></table></figure><h3 id="2-centos7-ä»¥ä¸‹ç‰ˆæœ¬"><a href="#2-centos7-ä»¥ä¸‹ç‰ˆæœ¬" class="headerlink" title="2.centos7 ä»¥ä¸‹ç‰ˆæœ¬"></a>2.centos7 ä»¥ä¸‹ç‰ˆæœ¬</h3><h4 id="2-1-å¼€æ”¾-80ï¼Œ22ï¼Œ8080-ç«¯å£"><a href="#2-1-å¼€æ”¾-80ï¼Œ22ï¼Œ8080-ç«¯å£" class="headerlink" title="2.1 å¼€æ”¾ 80ï¼Œ22ï¼Œ8080 ç«¯å£"></a>2.1 å¼€æ”¾ 80ï¼Œ22ï¼Œ8080 ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/sbin/iptables -I INPUT -p tcp --dport 80 -j ACCEPT</span><br><span class="line">/sbin/iptables -I INPUT -p tcp --dport 22 -j ACCEPT</span><br><span class="line">/sbin/iptables -I INPUT -p tcp --dport 8080 -j ACCEPT</span><br></pre></td></tr></table></figure><h4 id="2-2-ä¿å­˜"><a href="#2-2-ä¿å­˜" class="headerlink" title="2.2 ä¿å­˜"></a>2.2 ä¿å­˜</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/rc.d/init.d/iptables save</span><br></pre></td></tr></table></figure><h4 id="2-3-æŸ¥çœ‹æ‰“å¼€çš„ç«¯å£"><a href="#2-3-æŸ¥çœ‹æ‰“å¼€çš„ç«¯å£" class="headerlink" title="2.3 æŸ¥çœ‹æ‰“å¼€çš„ç«¯å£"></a>2.3 æŸ¥çœ‹æ‰“å¼€çš„ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/iptables status</span><br></pre></td></tr></table></figure><h4 id="2-4-å…³é—­é˜²ç«å¢™"><a href="#2-4-å…³é—­é˜²ç«å¢™" class="headerlink" title="2.4 å…³é—­é˜²ç«å¢™"></a>2.4 å…³é—­é˜²ç«å¢™</h4><h5 id="2-4-1-æ°¸ä¹…æ€§ç”Ÿæ•ˆï¼Œé‡å¯åä¸ä¼šå¤åŸ"><a href="#2-4-1-æ°¸ä¹…æ€§ç”Ÿæ•ˆï¼Œé‡å¯åä¸ä¼šå¤åŸ" class="headerlink" title="2.4.1 æ°¸ä¹…æ€§ç”Ÿæ•ˆï¼Œé‡å¯åä¸ä¼šå¤åŸ"></a>2.4.1 æ°¸ä¹…æ€§ç”Ÿæ•ˆï¼Œé‡å¯åä¸ä¼šå¤åŸ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯ï¼š chkconfig iptables on</span><br><span class="line">å…³é—­ï¼š chkconfig iptables off</span><br></pre></td></tr></table></figure><h5 id="2-4-2-å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤åŸ"><a href="#2-4-2-å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤åŸ" class="headerlink" title="2.4.2 å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤åŸ"></a>2.4.2 å³æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤åŸ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯ï¼š service iptables start</span><br><span class="line">å…³é—­ï¼š service iptables stop</span><br></pre></td></tr></table></figure><h3 id="3-å¸¸ç”¨å‘½ä»¤"><a href="#3-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="3 å¸¸ç”¨å‘½ä»¤"></a>3 å¸¸ç”¨å‘½ä»¤</h3><h4 id="3-1-å®‰è£…-Firewall-å‘½ä»¤"><a href="#3-1-å®‰è£…-Firewall-å‘½ä»¤" class="headerlink" title="3.1 å®‰è£… Firewall å‘½ä»¤"></a>3.1 å®‰è£… Firewall å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install firewalld firewalld-config</span><br></pre></td></tr></table></figure><h4 id="3-2-Firewall-å¼€å¯å¸¸è§ç«¯å£å‘½ä»¤"><a href="#3-2-Firewall-å¼€å¯å¸¸è§ç«¯å£å‘½ä»¤" class="headerlink" title="3.2 Firewall å¼€å¯å¸¸è§ç«¯å£å‘½ä»¤"></a>3.2 Firewall å¼€å¯å¸¸è§ç«¯å£å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=443/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=21/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=53/udp --permanent</span><br></pre></td></tr></table></figure><h4 id="3-3-Firewall-å…³é—­å¸¸è§ç«¯å£å‘½ä»¤"><a href="#3-3-Firewall-å…³é—­å¸¸è§ç«¯å£å‘½ä»¤" class="headerlink" title="3.3 Firewall å…³é—­å¸¸è§ç«¯å£å‘½ä»¤"></a>3.3 Firewall å…³é—­å¸¸è§ç«¯å£å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --remove-port=80/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --remove-port=443/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --remove-port=22/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --remove-port=21/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --remove-port=53/udp --permanent</span><br></pre></td></tr></table></figure><h4 id="3-4-æ‰¹é‡æ·»åŠ åŒºé—´ç«¯å£"><a href="#3-4-æ‰¹é‡æ·»åŠ åŒºé—´ç«¯å£" class="headerlink" title="3.4 æ‰¹é‡æ·»åŠ åŒºé—´ç«¯å£"></a>3.4 æ‰¹é‡æ·»åŠ åŒºé—´ç«¯å£</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=4400-4600/udp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=4400-4600/tcp --permanent</span><br></pre></td></tr></table></figure><h4 id="3-5-å¼€å¯é˜²ç«å¢™å‘½ä»¤"><a href="#3-5-å¼€å¯é˜²ç«å¢™å‘½ä»¤" class="headerlink" title="3.5 å¼€å¯é˜²ç«å¢™å‘½ä»¤"></a>3.5 å¼€å¯é˜²ç«å¢™å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld.service</span><br></pre></td></tr></table></figure><h4 id="3-6-é‡å¯é˜²ç«å¢™å‘½ä»¤"><a href="#3-6-é‡å¯é˜²ç«å¢™å‘½ä»¤" class="headerlink" title="3.6 é‡å¯é˜²ç«å¢™å‘½ä»¤"></a>3.6 é‡å¯é˜²ç«å¢™å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload  æˆ–è€…   service firewalld restart</span><br></pre></td></tr></table></figure><h4 id="3-7-æŸ¥çœ‹ç«¯å£åˆ—è¡¨"><a href="#3-7-æŸ¥çœ‹ç«¯å£åˆ—è¡¨" class="headerlink" title="3.7 æŸ¥çœ‹ç«¯å£åˆ—è¡¨"></a>3.7 æŸ¥çœ‹ç«¯å£åˆ—è¡¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --list-port</span><br></pre></td></tr></table></figure><h4 id="3-8-ç¦ç”¨é˜²ç«å¢™"><a href="#3-8-ç¦ç”¨é˜²ç«å¢™" class="headerlink" title="3.8 ç¦ç”¨é˜²ç«å¢™"></a>3.8 ç¦ç”¨é˜²ç«å¢™</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><h4 id="3-9-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#3-9-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="3.9 è®¾ç½®å¼€æœºå¯åŠ¨"></a>3.9 è®¾ç½®å¼€æœºå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> firewalld</span><br></pre></td></tr></table></figure><h4 id="3-10-åœæ­¢å¹¶ç¦ç”¨å¼€æœºå¯åŠ¨"><a href="#3-10-åœæ­¢å¹¶ç¦ç”¨å¼€æœºå¯åŠ¨" class="headerlink" title="3.10 åœæ­¢å¹¶ç¦ç”¨å¼€æœºå¯åŠ¨"></a>3.10 åœæ­¢å¹¶ç¦ç”¨å¼€æœºå¯åŠ¨</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sytemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><h4 id="3-11-æŸ¥çœ‹çŠ¶æ€"><a href="#3-11-æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="3.11 æŸ¥çœ‹çŠ¶æ€"></a>3.11 æŸ¥çœ‹çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalldæˆ–è€… firewall-cmd --state</span><br></pre></td></tr></table></figure><h4 id="3-12-æ°¸ä¹…å¼€å¯-ftp-æœåŠ¡"><a href="#3-12-æ°¸ä¹…å¼€å¯-ftp-æœåŠ¡" class="headerlink" title="3.12 æ°¸ä¹…å¼€å¯ ftp æœåŠ¡"></a>3.12 æ°¸ä¹…å¼€å¯ ftp æœåŠ¡</h4><p>æš‚æ—¶å¼€å¯å»é™¤ â€“permanent</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --add-service=ftp --permanent</span><br></pre></td></tr></table></figure><h4 id="3-13-æ°¸ä¹…å…³é—­-ftp-æœåŠ¡"><a href="#3-13-æ°¸ä¹…å…³é—­-ftp-æœåŠ¡" class="headerlink" title="3.13 æ°¸ä¹…å…³é—­ ftp æœåŠ¡"></a>3.13 æ°¸ä¹…å…³é—­ ftp æœåŠ¡</h4><p>æš‚æ—¶å…³é—­å»é™¤ â€“permanent</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --remove-service=ftp --permanent</span><br></pre></td></tr></table></figure><h4 id="3-14-è®©è®¾ç½®ç”Ÿæ•ˆ"><a href="#3-14-è®©è®¾ç½®ç”Ÿæ•ˆ" class="headerlink" title="3.14 è®©è®¾ç½®ç”Ÿæ•ˆ"></a>3.14 è®©è®¾ç½®ç”Ÿæ•ˆ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart firewalld</span><br></pre></td></tr></table></figure><h4 id="3-15-æ£€æŸ¥è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"><a href="#3-15-æ£€æŸ¥è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="3.15 æ£€æŸ¥è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ"></a>3.15 æ£€æŸ¥è®¾ç½®æ˜¯å¦ç”Ÿæ•ˆ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L -n | grep 21</span><br></pre></td></tr></table></figure><h4 id="3-16-æŸ¥è¯¢æœåŠ¡å¯ç”¨çŠ¶æ€"><a href="#3-16-æŸ¥è¯¢æœåŠ¡å¯ç”¨çŠ¶æ€" class="headerlink" title="3.16 æŸ¥è¯¢æœåŠ¡å¯ç”¨çŠ¶æ€"></a>3.16 æŸ¥è¯¢æœåŠ¡å¯ç”¨çŠ¶æ€</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --query-service ftp</span><br><span class="line"></span><br><span class="line">firewall-cmd --query-service ssh</span><br><span class="line"></span><br><span class="line">firewall-cmd --query-service samba</span><br><span class="line"></span><br><span class="line">firewall-cmd --query-service http</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSä¸‹å®‰è£…Oh-My-ZSH</title>
      <link href="2017/08/09/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85Oh-My-ZSH/"/>
      <url>2017/08/09/CentOS%E4%B8%8B%E5%AE%89%E8%A3%85Oh-My-ZSH/</url>
      
        <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/w670328683/article/details/49782601">åŸæ–‡åœ°å€</a></p><p>ä½¿ç”¨ root ç”¨æˆ·ç™»å½•ï¼Œä¸‹é¢çš„æ“ä½œåŸºæœ¬éƒ½æ²¡æœ‰ root çš„å›°æ‰°ï¼Œå¦‚æœé root ç”¨æˆ·è¯·åˆ‡æ¢è‡³ root ç”¨æˆ·æ“ä½œã€‚</p><h4 id="1ã€æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„-shell"><a href="#1ã€æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„-shell" class="headerlink" title="1ã€æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„ shell"></a>1ã€æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„ shell</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash</span><br></pre></td></tr></table></figure><p>PS.é»˜è®¤çš„ shell ä¸€èˆ¬éƒ½æ˜¯ bash</p><h4 id="2ã€æŸ¥çœ‹-bin-ä¸‹æ˜¯å¦æœ‰-zsh-åŒ…"><a href="#2ã€æŸ¥çœ‹-bin-ä¸‹æ˜¯å¦æœ‰-zsh-åŒ…" class="headerlink" title="2ã€æŸ¥çœ‹ bin ä¸‹æ˜¯å¦æœ‰ zsh åŒ…"></a>2ã€æŸ¥çœ‹ bin ä¸‹æ˜¯å¦æœ‰ zsh åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br></pre></td></tr></table></figure><p>PS.é»˜è®¤æ²¡æœ‰å®‰è£… zsh</p><h4 id="3ã€å®‰è£…-zsh-åŒ…"><a href="#3ã€å®‰è£…-zsh-åŒ…" class="headerlink" title="3ã€å®‰è£… zsh åŒ…"></a>3ã€å®‰è£… zsh åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install zsh</span><br></pre></td></tr></table></figure><p>å®‰è£…å®ŒæˆåæŸ¥çœ‹ shell åˆ—è¡¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/dash</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/csh</span><br><span class="line">/bin/zsh</span><br></pre></td></tr></table></figure><p>ç°åœ¨ zsh å·²ç»å®‰è£…å®Œæˆäº†ï¼Œéœ€è¦æŠŠç³»ç»Ÿé»˜è®¤çš„ shell ç”± bash åˆ‡æ¢ä¸º zsh</p><h4 id="3ã€åˆ‡æ¢-shell-è‡³-zshï¼Œä»£ç å¦‚ä¸‹ï¼š"><a href="#3ã€åˆ‡æ¢-shell-è‡³-zshï¼Œä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="3ã€åˆ‡æ¢ shell è‡³ zshï¼Œä»£ç å¦‚ä¸‹ï¼š"></a>3ã€åˆ‡æ¢ shell è‡³ zshï¼Œä»£ç å¦‚ä¸‹ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>chsh ç”¨æ³•è¯·è‡ªè¡ŒæŸ¥æ‰¾ï¼Œè¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Changing shell <span class="keyword">for</span> root.</span><br><span class="line">Shell changed.</span><br></pre></td></tr></table></figure><p>æŒ‰æç¤ºæ‰€è¿°ï¼Œshell å·²ç»æ›´æ”¹ä¸º zsh äº†ï¼Œç°åœ¨æŸ¥çœ‹ä¸€ä¸‹ç³»ç»Ÿå½“å‰ä½¿ç”¨çš„ shellï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash</span><br></pre></td></tr></table></figure><p>çœ‹æ ·å­è¿˜æ²¡åˆ‡æ¢è¿‡æ¥ï¼Œéœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡å™¨ï¼Œæˆ‘çš„ä¹ æƒ¯åšæ³•æ˜¯åœ¨ ECS çš„ web ç®¡ç†å¹³å°é‡å¯ï¼Œreboot åˆ°åº•å¥½ä¸å¥½ä½¿è¿˜æ²¡è¯•è¿‡ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•</p><p>é‡å¯è¿‡åï¼Œä½¿ç”¨ä»£ç æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/zsh</span><br></pre></td></tr></table></figure><p>å¾—åˆ°å¦‚æ­¤ç»“æœï¼Œè¯æ˜ shell å·²ç»åˆ‡æ¢æˆåŠŸäº†ã€‚</p><hr><p>ä¸‹é¢å¼€å§‹å®‰è£… oh-my-zsh</p><p>oh-my-zsh æºç æ˜¯æ”¾åœ¨ github ä¸Šçš„ï¼Œæ‰€ä»¥å…ˆè¦å®‰è£… git</p><h4 id="4ã€å®‰è£…-gitï¼š"><a href="#4ã€å®‰è£…-gitï¼š" class="headerlink" title="4ã€å®‰è£… gitï¼š"></a>4ã€å®‰è£… gitï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install git</span><br></pre></td></tr></table></figure><h4 id="5ã€å®‰è£…-oh-my-zsh"><a href="#5ã€å®‰è£…-oh-my-zsh" class="headerlink" title="5ã€å®‰è£… oh-my-zsh:"></a>5ã€å®‰è£… oh-my-zsh:</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢è¡¨ç¤ºæˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">         __                                     __</span><br><span class="line">  ____  / /_     ____ ___  __  __   ____  _____/ /_</span><br><span class="line"> / __ \/ __ \   / __ `__ \/ / / /  /_  / / ___/ __ \</span><br><span class="line">/ /_/ / / / /  / / / / / / /_/ /    / /_(__  ) / / /</span><br><span class="line">\____/_/ /_/  /_/ /_/ /_/\__, /    /___/____/_/ /_/</span><br><span class="line">                        /____/                       ....is now installed!</span><br><span class="line">Please look over the ~/.zshrc file to select plugins, themes, and options.</span><br><span class="line"></span><br><span class="line">p.s. Follow us at https://twitter.com/ohmyzsh.</span><br><span class="line"></span><br><span class="line">p.p.s. Get stickers and t-shirts at http://shop.planetargon.com.</span><br></pre></td></tr></table></figure><p>å¦‚æœæ·»åŠ æ’ä»¶ã€æ›´æ”¹ themes è¯·ä¿®æ”¹~/.zshrc æˆ–è‡ªè¡ŒæŸ¥è¯¢å…¶å®ƒèµ„æ–™ã€‚</p><p>è‡³æ­¤ï¼Œzsh å®‰è£…å®Œæ¯•ï¼Œå¼€å§‹äº«å— oh-my-zsh å§ï¼Œå¦‚æœæ‰§è¡Œå‘½ä»¤æ—¶æç¤º warning: cannot set LC_CTYPE locale å¯ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š</p><p>ä¿®æ”¹ profileï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><p>åœ¨ profile æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=en_US.UTF-8</span><br><span class="line"><span class="built_in">export</span> LC_CTYPE=en_US.UTF-8</span><br></pre></td></tr></table></figure><p>å¼•ç”¨æ›´æ”¹åçš„ profileï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ bash å·²åˆ‡æ¢è‡³ zshã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Oh-My-ZSH </tag>
            
            <tag> CentOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ CentOS7 ä¸Šå®‰è£… MongoDB</title>
      <link href="2017/08/09/%E5%9C%A8%20CentOS7%20%E4%B8%8A%E5%AE%89%E8%A3%85%20MongoDB/"/>
      <url>2017/08/09/%E5%9C%A8%20CentOS7%20%E4%B8%8A%E5%AE%89%E8%A3%85%20MongoDB/</url>
      
        <content type="html"><![CDATA[<p><a href="http://www.linuxidc.com/Linux/2016-06/132675.htm">åŸæ–‡åœ°å€</a></p><h4 id="1-é€šè¿‡-SecureCRT-è¿æ¥è‡³-CentOS7-æœåŠ¡å™¨ï¼›"><a href="#1-é€šè¿‡-SecureCRT-è¿æ¥è‡³-CentOS7-æœåŠ¡å™¨ï¼›" class="headerlink" title="1 é€šè¿‡ SecureCRT è¿æ¥è‡³ CentOS7 æœåŠ¡å™¨ï¼›"></a>1 é€šè¿‡ SecureCRT è¿æ¥è‡³ CentOS7 æœåŠ¡å™¨ï¼›</h4><h4 id="2-è¿›å…¥åˆ°-usr-local-ç›®å½•ï¼š"><a href="#2-è¿›å…¥åˆ°-usr-local-ç›®å½•ï¼š" class="headerlink" title="2 è¿›å…¥åˆ° /usr/local/ ç›®å½•ï¼š"></a>2 è¿›å…¥åˆ° /usr/local/ ç›®å½•ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span></span><br></pre></td></tr></table></figure><h4 id="3-åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º-tools-ç›®å½•ï¼š"><a href="#3-åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º-tools-ç›®å½•ï¼š" class="headerlink" title="3 åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º tools ç›®å½•ï¼š"></a>3 åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º tools ç›®å½•ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p tools</span><br></pre></td></tr></table></figure><h4 id="4-è¿›å…¥åˆ°-tools-ç›®å½•ä¸­ï¼š"><a href="#4-è¿›å…¥åˆ°-tools-ç›®å½•ä¸­ï¼š" class="headerlink" title="4 è¿›å…¥åˆ° tools ç›®å½•ä¸­ï¼š"></a>4 è¿›å…¥åˆ° tools ç›®å½•ä¸­ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> tools</span><br></pre></td></tr></table></figure><h4 id="5-ä¸‹è½½ä¸-CentOS-ç³»ç»ŸåŒ¹é…çš„-mongodb-linux-x86-64-rhel70-3-2-4-tgz-æ–‡ä»¶ï¼š"><a href="#5-ä¸‹è½½ä¸-CentOS-ç³»ç»ŸåŒ¹é…çš„-mongodb-linux-x86-64-rhel70-3-2-4-tgz-æ–‡ä»¶ï¼š" class="headerlink" title="5 ä¸‹è½½ä¸ CentOS ç³»ç»ŸåŒ¹é…çš„ mongodb-linux-x86_64-rhel70-3.2.4.tgz æ–‡ä»¶ï¼š"></a>5 ä¸‹è½½ä¸ CentOS ç³»ç»ŸåŒ¹é…çš„ mongodb-linux-x86_64-rhel70-3.2.4.tgz æ–‡ä»¶ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-3.2.4.tgz</span><br></pre></td></tr></table></figure><h4 id="6-è§£å‹ç¼©-mongodb-linux-x86-64-rhel70-3-2-4-tgz-æ–‡ä»¶ï¼š"><a href="#6-è§£å‹ç¼©-mongodb-linux-x86-64-rhel70-3-2-4-tgz-æ–‡ä»¶ï¼š" class="headerlink" title="6 è§£å‹ç¼© mongodb-linux-x86_64-rhel70-3.2.4.tgz æ–‡ä»¶ï¼š"></a>6 è§£å‹ç¼© mongodb-linux-x86_64-rhel70-3.2.4.tgz æ–‡ä»¶ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf mongodb-linux-x86_64-rhel70-3.2.4.tgz</span><br></pre></td></tr></table></figure><p>è§£å‹å®Œæˆåå¾—åˆ° mongodb-linux-x86_64-rhel70-3.2.4 æ–‡ä»¶å¤¹åŠå…¶æ‰€å±çš„æ–‡ä»¶ï¼›</p><h4 id="7-é‡å‘½å-mongodb-linux-x86-64-rhel70-3-2-4-æ–‡ä»¶ä¸º-mongodb3-2-4ï¼š"><a href="#7-é‡å‘½å-mongodb-linux-x86-64-rhel70-3-2-4-æ–‡ä»¶ä¸º-mongodb3-2-4ï¼š" class="headerlink" title="7 é‡å‘½å mongodb-linux-x86_64-rhel70-3.2.4 æ–‡ä»¶ä¸º mongodb3.2.4ï¼š"></a>7 é‡å‘½å mongodb-linux-x86_64-rhel70-3.2.4 æ–‡ä»¶ä¸º mongodb3.2.4ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv mongodb-linux-x86_64-rhel70-3.2.4 mongodb3.2.4</span><br></pre></td></tr></table></figure><h4 id="8-è¿”å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¹¶åˆ›å»º-mongodb-ç›®å½•ï¼š"><a href="#8-è¿”å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¹¶åˆ›å»º-mongodb-ç›®å½•ï¼š" class="headerlink" title="8 è¿”å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¹¶åˆ›å»º mongodb ç›®å½•ï¼š"></a>8 è¿”å›åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå¹¶åˆ›å»º mongodb ç›®å½•ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../mkdir -p mongodb</span><br></pre></td></tr></table></figure><h4 id="9-å°†-mongodb3-2-4-æ–‡ä»¶ä»-usr-local-toolsç›®å½•ä¸­ç§»åŠ¨åˆ°-usr-local-mongodb-ç›®å½•ä¸­ï¼š"><a href="#9-å°†-mongodb3-2-4-æ–‡ä»¶ä»-usr-local-toolsç›®å½•ä¸­ç§»åŠ¨åˆ°-usr-local-mongodb-ç›®å½•ä¸­ï¼š" class="headerlink" title="9 å°† mongodb3.2.4 æ–‡ä»¶ä»/usr/local/toolsç›®å½•ä¸­ç§»åŠ¨åˆ° /usr/local/mongodb ç›®å½•ä¸­ï¼š"></a>9 å°† mongodb3.2.4 æ–‡ä»¶ä»<code>/usr/local/tools</code>ç›®å½•ä¸­ç§»åŠ¨åˆ° /usr/local/mongodb ç›®å½•ä¸­ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv tools/mongodb3.2.4/ mongodb/</span><br></pre></td></tr></table></figure><h4 id="10-è¿›å…¥åˆ°-usr-local-mongodb-mongodb3-2-4ç›®å½•ä¸­ï¼š"><a href="#10-è¿›å…¥åˆ°-usr-local-mongodb-mongodb3-2-4ç›®å½•ä¸­ï¼š" class="headerlink" title="10 è¿›å…¥åˆ°/usr/local/mongodb/mongodb3.2.4ç›®å½•ä¸­ï¼š"></a>10 è¿›å…¥åˆ°<code>/usr/local/mongodb/mongodb3.2.4</code>ç›®å½•ä¸­ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> mongodb/mongodb3.2.4</span><br></pre></td></tr></table></figure><h4 id="11-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ—¥å¿—çš„ç›®å½•ï¼š"><a href="#11-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ—¥å¿—çš„ç›®å½•ï¼š" class="headerlink" title="11 åœ¨/usr/local/mongodb/mongodb3.2.4/bin/ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ—¥å¿—çš„ç›®å½•ï¼š"></a>11 åœ¨<code>/usr/local/mongodb/mongodb3.2.4/bin/</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ—¥å¿—çš„ç›®å½•ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p data/<span class="built_in">test</span>/logs</span><br></pre></td></tr></table></figure><h4 id="12-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼š"><a href="#12-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼š" class="headerlink" title="12 åœ¨/usr/local/mongodb/mongodb3.2.4/bin/ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼š"></a>12 åœ¨<code>/usr/local/mongodb/mongodb3.2.4/bin/</code>ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªå­˜æ”¾æ•°æ®æ–‡ä»¶çš„ç›®å½•ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p data/<span class="built_in">test</span>/db</span><br></pre></td></tr></table></figure><h4 id="13-è¿›å…¥-bin-ç›®å½•ä¸­ï¼š"><a href="#13-è¿›å…¥-bin-ç›®å½•ä¸­ï¼š" class="headerlink" title="13 è¿›å…¥ bin ç›®å½•ä¸­ï¼š"></a>13 è¿›å…¥ bin ç›®å½•ä¸­ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> bin/</span><br></pre></td></tr></table></figure><h4 id="14-åˆ›å»ºé…ç½®æ–‡ä»¶-mongodb-confï¼š"><a href="#14-åˆ›å»ºé…ç½®æ–‡ä»¶-mongodb-confï¼š" class="headerlink" title="14 åˆ›å»ºé…ç½®æ–‡ä»¶ mongodb.confï¼š"></a>14 åˆ›å»ºé…ç½®æ–‡ä»¶ mongodb.confï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi mongodb.conf</span><br></pre></td></tr></table></figure><p>åœ¨ mongodb.conf å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># idae - MongoDB config start - 2016-05-02</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ•°æ®æ–‡ä»¶çš„å­˜æ”¾ç›®å½•</span></span><br><span class="line">dbpath = /usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/db</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„å­˜æ”¾ç›®å½•åŠå…¶æ—¥å¿—æ–‡ä»¶å</span></span><br><span class="line">logpath = /usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/logs/mongodb.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç«¯å£å·ï¼ˆé»˜è®¤çš„ç«¯å£å·æ˜¯ 27017ï¼‰</span></span><br><span class="line">port = 27017</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ä¸ºä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå³åœ¨åå°è¿è¡Œ</span></span><br><span class="line">fork = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># nohttpinterface = true</span></span><br><span class="line">nohttpinterface = <span class="literal">true</span></span><br><span class="line"><span class="comment"># idae - MongoDB config end - 2016-05-02</span></span><br></pre></td></tr></table></figure><p>æŒ‰è‹±æ–‡çŠ¶æ€ä¸‹çš„â€œ:wqâ€ä¿å­˜å¹¶é€€å‡ºï¼›</p><p>å‚æ•°è§£é‡Š:</p><blockquote><p>â€“dbpath æ•°æ®åº“è·¯å¾„(æ•°æ®æ–‡ä»¶)</p></blockquote><blockquote><p>â€“logpath æ—¥å¿—æ–‡ä»¶è·¯å¾„</p></blockquote><blockquote><p>â€“master æŒ‡å®šä¸ºä¸»æœºå™¨</p></blockquote><blockquote><p>â€“slave æŒ‡å®šä¸ºä»æœºå™¨</p></blockquote><blockquote><p>â€“source æŒ‡å®šä¸»æœºå™¨çš„ IP åœ°å€</p></blockquote><blockquote><p>â€“pologSize æŒ‡å®šæ—¥å¿—æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 64M.å› ä¸º resync æ˜¯éå¸¸æ“ä½œé‡å¤§ä¸”è€—æ—¶ï¼Œæœ€å¥½é€šè¿‡è®¾ç½®ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ oplogSize æ¥é¿å… resync(é»˜è®¤çš„ oplog å¤§å°æ˜¯ç©ºé—²ç£ç›˜å¤§å°çš„ 5%)ã€‚</p></blockquote><blockquote><p>â€“logappend æ—¥å¿—æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼Œå³ä½¿ç”¨è¿½åŠ çš„æ–¹å¼å†™æ—¥å¿—</p></blockquote><blockquote><p>â€“journal å¯ç”¨æ—¥å¿—</p></blockquote><blockquote><p>â€“port å¯ç”¨ç«¯å£å·</p></blockquote><blockquote><p>â€“fork åœ¨åå°è¿è¡Œ</p></blockquote><blockquote><p>â€“only æŒ‡å®šåªå¤åˆ¶å“ªä¸€ä¸ªæ•°æ®åº“</p></blockquote><blockquote><p>â€“slavedelay æŒ‡ä»å¤åˆ¶æ£€æµ‹çš„æ—¶é—´é—´éš”</p></blockquote><blockquote><p>â€“auth æ˜¯å¦éœ€è¦éªŒè¯æƒé™ç™»å½•(ç”¨æˆ·åå’Œå¯†ç )</p></blockquote><blockquote><p>â€“syncdelay æ•°æ®å†™å…¥ç¡¬ç›˜çš„æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ0 æ˜¯ä¸ç­‰å¾…ï¼Œç›´æ¥å†™å…¥</p></blockquote><blockquote><p>â€“notablescan ä¸å…è®¸è¡¨æ‰«æ</p></blockquote><blockquote><p>â€“maxConns æœ€å¤§çš„å¹¶å‘è¿æ¥æ•°ï¼Œé»˜è®¤ 2000</p></blockquote><blockquote><p>â€“pidfilepath æŒ‡å®šè¿›ç¨‹æ–‡ä»¶ï¼Œä¸æŒ‡å®šåˆ™ä¸äº§ç”Ÿè¿›ç¨‹æ–‡ä»¶</p></blockquote><blockquote><p>â€“bind_ip ç»‘å®š IPï¼Œç»‘å®šååªèƒ½ç»‘å®šçš„ IP è®¿é—®æœåŠ¡</p></blockquote><h4 id="15-å¯åŠ¨-mongodb-æœåŠ¡ï¼š"><a href="#15-å¯åŠ¨-mongodb-æœåŠ¡ï¼š" class="headerlink" title="15 å¯åŠ¨ mongodb æœåŠ¡ï¼š"></a>15 å¯åŠ¨ mongodb æœåŠ¡ï¼š</h4><h5 id="15-1-ä»¥è‡ªå®šä¹‰çš„-mongodb-é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼š"><a href="#15-1-ä»¥è‡ªå®šä¹‰çš„-mongodb-é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼š" class="headerlink" title="15.1 ä»¥è‡ªå®šä¹‰çš„ mongodb é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼š"></a>15.1 ä»¥è‡ªå®šä¹‰çš„ mongodb é…ç½®æ–‡ä»¶æ–¹å¼å¯åŠ¨ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod --config mongodb.conf</span><br></pre></td></tr></table></figure><h5 id="15-2-ä»¥ä¿®å¤æ¨¡å¼å¯åŠ¨-mongodbï¼š"><a href="#15-2-ä»¥ä¿®å¤æ¨¡å¼å¯åŠ¨-mongodbï¼š" class="headerlink" title="15.2 ä»¥ä¿®å¤æ¨¡å¼å¯åŠ¨ mongodbï¼š"></a>15.2 ä»¥ä¿®å¤æ¨¡å¼å¯åŠ¨ mongodbï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod --repair -f mongodb.conf</span><br></pre></td></tr></table></figure><h5 id="15-3-ä»¥å‚æ•°å¼å¯åŠ¨ï¼š"><a href="#15-3-ä»¥å‚æ•°å¼å¯åŠ¨ï¼š" class="headerlink" title="15.3 ä»¥å‚æ•°å¼å¯åŠ¨ï¼š"></a>15.3 ä»¥å‚æ•°å¼å¯åŠ¨ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod /usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/mongod --dbpath=/usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/db --logpath=/usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/logs/mongodb.log --fork</span><br></pre></td></tr></table></figure><p>å¦‚æœæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: child process failed, exited with error number 1</span><br></pre></td></tr></table></figure><p>å¾ˆå¯èƒ½æ˜¯ mongodb.conf ä¸­é…ç½®çš„è·¯å¾„ä¸ä¸€è‡´é—®é¢˜ï¼›</p><p>å¦‚æœæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: child process failed, exited with error number 100</span><br></pre></td></tr></table></figure><p>å¾ˆå¯èƒ½æ˜¯æ²¡æœ‰æ­£å¸¸å…³é—­å¯¼è‡´çš„ï¼Œé‚£ä¹ˆå¯ä»¥åˆ é™¤ mongod.lock æ–‡ä»¶</p><h4 id="16-æŸ¥çœ‹-mongodb-è¿›ç¨‹ï¼š"><a href="#16-æŸ¥çœ‹-mongodb-è¿›ç¨‹ï¼š" class="headerlink" title="16 æŸ¥çœ‹ mongodb è¿›ç¨‹ï¼š"></a>16 æŸ¥çœ‹ mongodb è¿›ç¨‹ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux |grep mongodb</span><br></pre></td></tr></table></figure><h4 id="17-æŸ¥çœ‹-mongodb-æœåŠ¡çš„è¿è¡Œæ—¥å¿—ï¼š"><a href="#17-æŸ¥çœ‹-mongodb-æœåŠ¡çš„è¿è¡Œæ—¥å¿—ï¼š" class="headerlink" title="17 æŸ¥çœ‹ mongodb æœåŠ¡çš„è¿è¡Œæ—¥å¿—ï¼š"></a>17 æŸ¥çœ‹ mongodb æœåŠ¡çš„è¿è¡Œæ—¥å¿—ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -200f /usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/logs/mongodb.log</span><br></pre></td></tr></table></figure><h4 id="18-æ£€æŸ¥ç«¯å£æ˜¯å¦å·²è¢«å¯åŠ¨ï¼š"><a href="#18-æ£€æŸ¥ç«¯å£æ˜¯å¦å·²è¢«å¯åŠ¨ï¼š" class="headerlink" title="18 æ£€æŸ¥ç«¯å£æ˜¯å¦å·²è¢«å¯åŠ¨ï¼š"></a>18 æ£€æŸ¥ç«¯å£æ˜¯å¦å·²è¢«å¯åŠ¨ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lanp | grep 27017</span><br></pre></td></tr></table></figure><h4 id="19-æ€æ­»-mongodb-è¿›ç¨‹ï¼Œå³å¯å…³é—­-mongodb-æœåŠ¡ï¼š"><a href="#19-æ€æ­»-mongodb-è¿›ç¨‹ï¼Œå³å¯å…³é—­-mongodb-æœåŠ¡ï¼š" class="headerlink" title="19 æ€æ­» mongodb è¿›ç¨‹ï¼Œå³å¯å…³é—­ mongodb æœåŠ¡ï¼š"></a>19 æ€æ­» mongodb è¿›ç¨‹ï¼Œå³å¯å…³é—­ mongodb æœåŠ¡ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> -15 PID</span><br></pre></td></tr></table></figure><p>PID å¯ä»¥é€šè¿‡æ­¥éª¤ 16 æŸ¥çœ‹åˆ°</p><h4 id="20-å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ"><a href="#20-å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ" class="headerlink" title="20 å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ"></a>20 å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warning: Failed to connect to 127.0.0.1:27017, reason: errno:111 Connection refused</span><br></pre></td></tr></table></figure><p>å¯ä»¥é‡‡ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼è§£å†³ï¼š</p><h5 id="20-1-è‹¥æ•°æ®åº“å‡ºç°å¦‚ä¸Šä¸èƒ½è¿æ¥çš„åŸå› ï¼Œå¯èƒ½æ˜¯-data-ç›®å½•ä¸‹çš„-mongod-lock-æ–‡ä»¶é—®é¢˜ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®å¤ï¼š"><a href="#20-1-è‹¥æ•°æ®åº“å‡ºç°å¦‚ä¸Šä¸èƒ½è¿æ¥çš„åŸå› ï¼Œå¯èƒ½æ˜¯-data-ç›®å½•ä¸‹çš„-mongod-lock-æ–‡ä»¶é—®é¢˜ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®å¤ï¼š" class="headerlink" title="20.1 è‹¥æ•°æ®åº“å‡ºç°å¦‚ä¸Šä¸èƒ½è¿æ¥çš„åŸå› ï¼Œå¯èƒ½æ˜¯ data ç›®å½•ä¸‹çš„ mongod.lock æ–‡ä»¶é—®é¢˜ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®å¤ï¼š"></a>20.1 è‹¥æ•°æ®åº“å‡ºç°å¦‚ä¸Šä¸èƒ½è¿æ¥çš„åŸå› ï¼Œå¯èƒ½æ˜¯ data ç›®å½•ä¸‹çš„ mongod.lock æ–‡ä»¶é—®é¢˜ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤ä¿®å¤ï¼š</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/mongod --repair</span><br></pre></td></tr></table></figure><h5 id="20-2-æˆ–è€…ç›´æ¥åˆ é™¤-mongod-lock"><a href="#20-2-æˆ–è€…ç›´æ¥åˆ é™¤-mongod-lock" class="headerlink" title="20.2 æˆ–è€…ç›´æ¥åˆ é™¤ mongod.lock"></a>20.2 æˆ–è€…ç›´æ¥åˆ é™¤ mongod.lock</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -f /usr/<span class="built_in">local</span>/mongodb/data/db/mongod.lock</span><br></pre></td></tr></table></figure><p>ç„¶åå†å¯åŠ¨ mongodb æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod --config mongodb.conf</span><br></pre></td></tr></table></figure><p>å¦‚æœä»¥ä¸Šä¸¤éƒ¨ä¾ç„¶è§£å†³ä¸æ‰ï¼Œåˆ™æ˜¯è·¯å¾„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤<code>/usr/local/mongodb/mongodb3.2.4/bin/data</code> ç›®å½•åŠå…¶å­ç›®å½•ï¼Œå¹¶é‡‡ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongod /usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/mongod --dbpath=/usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/db --logpath=/usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/data/<span class="built_in">test</span>/logs/mongodb.log --fork</span><br></pre></td></tr></table></figure><h4 id="21-å°†-mongodb-æœåŠ¡åŠ å…¥åˆ°è‡ªå¯åŠ¨æ–‡ä»¶ä¸­ï¼š"><a href="#21-å°†-mongodb-æœåŠ¡åŠ å…¥åˆ°è‡ªå¯åŠ¨æ–‡ä»¶ä¸­ï¼š" class="headerlink" title="21 å°† mongodb æœåŠ¡åŠ å…¥åˆ°è‡ªå¯åŠ¨æ–‡ä»¶ä¸­ï¼š"></a>21 å°† mongodb æœåŠ¡åŠ å…¥åˆ°è‡ªå¯åŠ¨æ–‡ä»¶ä¸­ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rc.local</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/mongodb/mongodb3.2.4/bin/mongod --config mongodb.conf</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶é€€å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq!</span><br></pre></td></tr></table></figure><h4 id="22-å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤ï¼š"><a href="#22-å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="22 å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤ï¼š"></a>22 å®¢æˆ·ç«¯å¸¸ç”¨å‘½ä»¤ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.version(); <span class="comment"># æŸ¥çœ‹ mongodb çš„ç‰ˆæœ¬</span></span><br><span class="line"></span><br><span class="line">use <span class="built_in">test</span>; <span class="comment"># è¿›å…¥åˆ°æŒ‡å®šçš„æ•°æ®ä¸­ï¼Œè¿™é‡Œæ˜¯ test æ•°æ®åº“</span></span><br></pre></td></tr></table></figure><h4 id="23-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€ä¸€ä¸ª-mongodb-çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå³æ‰“å¼€ä¸€ä¸ª-mongodb-çš„-shell-å®¢æˆ·ç«¯ï¼Œè¿™ä¸ª-shell-å®¢æˆ·ç«¯åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª-JavaScript-ç¼–è¾‘å™¨ï¼Œå³å¯ç”¨è¾“å…¥ä»»ä½•çš„-JavaScript-è„šæœ¬ï¼š"><a href="#23-åœ¨-usr-local-mongodb-mongodb3-2-4-bin-ç›®å½•ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€ä¸€ä¸ª-mongodb-çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå³æ‰“å¼€ä¸€ä¸ª-mongodb-çš„-shell-å®¢æˆ·ç«¯ï¼Œè¿™ä¸ª-shell-å®¢æˆ·ç«¯åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª-JavaScript-ç¼–è¾‘å™¨ï¼Œå³å¯ç”¨è¾“å…¥ä»»ä½•çš„-JavaScript-è„šæœ¬ï¼š" class="headerlink" title="23 åœ¨/usr/local/mongodb/mongodb3.2.4/bin/ç›®å½•ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€ä¸€ä¸ª mongodb çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå³æ‰“å¼€ä¸€ä¸ª mongodb çš„ shell å®¢æˆ·ç«¯ï¼Œè¿™ä¸ª shell å®¢æˆ·ç«¯åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª JavaScript ç¼–è¾‘å™¨ï¼Œå³å¯ç”¨è¾“å…¥ä»»ä½•çš„ JavaScript è„šæœ¬ï¼š"></a>23 åœ¨<code>/usr/local/mongodb/mongodb3.2.4/bin/</code>ç›®å½•ä¸­ï¼Œé”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€ä¸€ä¸ª mongodb çš„å®¢æˆ·ç«¯ç¨‹åºï¼Œå³æ‰“å¼€ä¸€ä¸ª mongodb çš„ shell å®¢æˆ·ç«¯ï¼Œè¿™ä¸ª shell å®¢æˆ·ç«¯åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª JavaScript ç¼–è¾‘å™¨ï¼Œå³å¯ç”¨è¾“å…¥ä»»ä½•çš„ JavaScript è„šæœ¬ï¼š</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./mongo</span><br></pre></td></tr></table></figure><p>é»˜è®¤è¿æ¥è‡³ test æ•°æ®åº“</p><h4 id="24-åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-IP-27017ï¼Œå¦‚ï¼šhttp-101-201-212-129-27017-å¯ä»¥æŸ¥çœ‹-MongoDB-çš„ç‰ˆæœ¬ä¿¡æ¯ï¼›"><a href="#24-åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-IP-27017ï¼Œå¦‚ï¼šhttp-101-201-212-129-27017-å¯ä»¥æŸ¥çœ‹-MongoDB-çš„ç‰ˆæœ¬ä¿¡æ¯ï¼›" class="headerlink" title="24 åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ IP:27017ï¼Œå¦‚ï¼šhttp://101.201.212.129:27017/ å¯ä»¥æŸ¥çœ‹ MongoDB çš„ç‰ˆæœ¬ä¿¡æ¯ï¼›"></a>24 åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ IP:27017ï¼Œå¦‚ï¼š<a href="http://101.201.212.129:27017/">http://101.201.212.129:27017/</a> å¯ä»¥æŸ¥çœ‹ MongoDB çš„ç‰ˆæœ¬ä¿¡æ¯ï¼›</h4>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–å†™é«˜è´¨é‡JavaScriptä»£ç çš„68ä¸ªæœ‰æ•ˆæ–¹æ³•ï¼ˆè¯‘ï¼‰</title>
      <link href="2017/03/29/%E7%BC%96%E5%86%99%E9%AB%98%E8%B4%A8%E9%87%8FJavaScript%E4%BB%A3%E7%A0%81%E7%9A%8468%E4%B8%AA%E6%9C%89%E6%95%88%E6%96%B9%E6%B3%95%EF%BC%88%E8%AF%91%EF%BC%89/"/>
      <url>2017/03/29/%E7%BC%96%E5%86%99%E9%AB%98%E8%B4%A8%E9%87%8FJavaScript%E4%BB%A3%E7%A0%81%E7%9A%8468%E4%B8%AA%E6%9C%89%E6%95%88%E6%96%B9%E6%B3%95%EF%BC%88%E8%AF%91%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h3 id="1-äº†è§£JavaScript"><a href="#1-äº†è§£JavaScript" class="headerlink" title="1.äº†è§£JavaScript"></a>1.äº†è§£JavaScript</h3><p>JavaScriptçš„è®¾è®¡è®©æˆ‘ä»¬è§‰å¾—å¾ˆç†Ÿæ‚‰ã€‚è¯­æ³•è®©äººè”æƒ³åˆ°Javaå’Œè®¸å¤šè„šæœ¬è¯­è¨€ä¸­å¸¸è§çš„æ„é€ ï¼ˆä¾‹å¦‚ï¼šå‡½æ•°ï¼Œæ•°ç»„ï¼Œå­—å…¸å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚JavaScriptçœ‹èµ·æ¥ä¼¼ä¹æ˜¯ä¸€ä¸ªä»»ä½•æœ‰ç‚¹ç¼–ç¨‹ç»éªŒæˆ–æ–°æ‰‹ç¨‹åºå‘˜éƒ½å¯ä»¥å¿«é€Ÿä¸Šæ‰‹çš„è¯­è¨€ã€‚å› ä¸ºå®ƒè¯­è¨€ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå¾ˆå°‘ã€‚</p><h5 id="çŸ¥é“ä½ æ­£åœ¨ä½¿ç”¨çš„JavaSctiptç‰ˆæœ¬"><a href="#çŸ¥é“ä½ æ­£åœ¨ä½¿ç”¨çš„JavaSctiptç‰ˆæœ¬" class="headerlink" title="çŸ¥é“ä½ æ­£åœ¨ä½¿ç”¨çš„JavaSctiptç‰ˆæœ¬"></a>çŸ¥é“ä½ æ­£åœ¨ä½¿ç”¨çš„JavaSctiptç‰ˆæœ¬</h5><p>å’Œå¤§å¤šæ•°æˆåŠŸçš„æŠ€æœ¯ä¸€æ ·ï¼ŒJavaScriptéšç€æ—¶é—´çš„æ¨ç§»è€Œå‘å±•ã€‚ä»æœ€åˆä½œä¸ºJavaåœ¨ç½‘é¡µäº’åŠ¨ç¼–ç¨‹ä¸Šçš„è¡¥å……ï¼Œæœ€ç»ˆå–ä»£äº†Javaæˆä¸ºWebå¼€å‘ä¸Šä¸»æµçš„ç¼–ç¨‹è¯­è¨€ã€‚å› å…¶å—æ¬¢è¿ç¨‹åº¦ï¼Œ1997å¹´å½¢æˆäº†å›½é™…æ ‡å‡†ï¼Œå®˜æ–¹å‘½åä¸ºECMAScriptã€‚ç›®å‰å·²ç»æœ‰äº†å¾ˆå¤šå®ç°äº†ECMAScriptæ ‡å‡†çš„JavaSciptç‰ˆæœ¬ã€‚</p><p>1999å¹´å®šç¨¿çš„ç¬¬ä¸‰ç‰ˆECMAScriptæ ‡å‡†ï¼ˆé€šå¸¸ç§°ä¸ºES3ï¼‰ï¼Œä¾ç„¶æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„JavaScriptç‰ˆæœ¬ã€‚åä¸€ä»£æ ‡å‡†æ˜¯2009å‘å¸ƒçš„ç¬¬5ç‰ˆï¼ˆæˆ–è€…å«ES5ï¼‰ï¼ŒES5å¼•å…¥äº†è®¸å¤šæ–°åŠŸèƒ½ï¼Œå¹¶ä¸”å°†ä¸€äº›ä¹‹å‰å¹¿æ³›æ”¯æŒå´æ²¡æœ‰è¢«æŒ‡å®šçš„ç‰¹æ€§æ ‡å‡†åŒ–ã€‚ç”±äºES5è¿˜æ²¡æœ‰è¢«æ™®éæ”¯æŒï¼Œæ‰€ä»¥æˆ‘å°†åœ¨æœ¬ä¹¦ä¸­æ ‡æ³¨å‡ºå“ªäº›è¯­å¥æˆ–å—ä¸­ä½¿ç”¨äº†ES5ã€‚</p><p>é™¤äº†æ ‡å‡†ç‰ˆæœ¬ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šéæ ‡å‡†çš„ç‰¹æ€§ï¼Œå—åˆ°ä¸€äº›JavaScriptå®ç°çš„æ”¯æŒã€‚ä¾‹å¦‚,è®¸å¤šJavaScriptå¼•æ“æ”¯æŒä¸€ä¸ª<code>const</code>å…³é”®å­—æ¥å®šä¹‰å˜é‡,ç„¶è€ŒECMAScriptæ ‡å‡†å¹¶æ²¡æœ‰å®šä¹‰ä»»ä½•å…³äºå¸¸é‡çš„è¯­æ³•æˆ–è¡Œä¸ºã€‚è€Œä¸”,åœ¨ä¸åŒå®ç°ä¸­<code>const</code>çš„è¡Œä¸ºä¹Ÿæ˜¯ä¸åŒçš„ã€‚åœ¨æŸäº›æƒ…å†µä¸‹,é˜»æ­¢å¸¸é‡å˜é‡æ›´æ–°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.141592653589793</span>;</span><br><span class="line">PI = <span class="string">&quot;modified!&quot;</span>;</span><br><span class="line">PI;  <span class="comment">// 3.141592653589793</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€äº›å®ç°ä¸­ï¼Œåˆ™ç›´æ¥å°†<code>const</code>æ˜¯ä¸º<code>var</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.141592653589793</span>;</span><br><span class="line">PI = <span class="string">&quot;modified!&quot;</span>;</span><br><span class="line">PI;  <span class="comment">// &quot;modified!&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¿»è¯‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€å°æ—¶å…¥é—¨Vue</title>
      <link href="2017/02/09/%E4%B8%80%E5%B0%8F%E6%97%B6%E5%85%A5%E9%97%A8Vue/"/>
      <url>2017/02/09/%E4%B8%80%E5%B0%8F%E6%97%B6%E5%85%A5%E9%97%A8Vue/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><ul><li>æˆ‘æ˜¯ä¸€ä¸ªVueçš„ç‹‚çƒ­ç²‰ä¸ï¼Œä½¿ç”¨VueåŠå¹´å·¦å³æ—¶é—´ï¼Œå†™è¿™ä¸ªæ–‡ç« ä¸»è¦æ˜¯ä¸ºäº†ç»™è‡ªå·±åšä¸ªç³»ç»Ÿçš„å›é¡¾ï¼Œé¡ºä¾¿ç»™åŒæ ·æœ‰éœ€è¦çš„äººå‚è€ƒä¸€ä¸‹ï¼Œå¦‚æœæ–‡ä¸­æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€æŒ‡å‡ºã€‚   </li><li>æˆ‘ä¸€ç›´è®¤ä¸ºå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆï¼Œåœ¨æ·±å…¥å­¦ä¹ Vueä¹‹å‰ï¼Œå…ˆè·‘èµ·æ¥ä¸€ä¸ªç®€å•çš„Vueçš„é¡¹ç›®ï¼Œå…ˆæ„Ÿå—åˆ°Vueçš„é­…åŠ›ï¼Œå†ç»“åˆé¡¹ç›®çœ‹æ–‡æ¡£ä¼šæ›´åŠ ç®€å•ã€‚   </li><li>è¿™ä¼šæ˜¯ä¸€ä¸ªç®€å•ï¼ˆæå…¶ä¸‘é™‹ï¼‰çš„å›¾ä¹¦é¦†é‡Œç³»ç»Ÿï¼ŒåŒ…å«æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚   </li><li>è·Ÿç€æˆ‘åŠ¨æ‰‹å†™ï¼Œå…‰çœ‹ä¸å†™å­¦ä¸å¥½</li></ul><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>å†å¼€å§‹æ•™ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆé…ç½®å¥½ç¯å¢ƒ</p><ul><li>å®‰è£…nodeï¼ŒåŒ…æ‹¬npm <a href="https://nodejs.org/">https://nodejs.org</a></li><li>å®‰è£…vue-cli   <code>npm install -g vue-cli</code><blockquote><p>vue-cli æ˜¯vue.jsçš„è„šæ‰‹æ¶ï¼Œç”¨äºè‡ªåŠ¨ç”Ÿæˆvue.jsæ¨¡æ¿å·¥ç¨‹çš„</p></blockquote></li><li>å®‰è£…å¥½yarnï¼ˆéå¿…é¡»ï¼Œæ¨èä½¿ç”¨ï¼‰ <a href="https://yarnpkg.com/">https://yarnpkg.com</a><blockquote><p>yarnæ˜¯Facebookæ¨å‡ºäº†ä¸€æ¬¾å¼€æºJavaScriptåŒ…ç®¡ç†å™¨ï¼Œæ¯”npmæ›´å¯é ï¼Œä¸”é€Ÿåº¦æ›´å¿«</p></blockquote></li></ul><h2 id="é¡¹ç›®åˆ›å»º"><a href="#é¡¹ç›®åˆ›å»º" class="headerlink" title="é¡¹ç›®åˆ›å»º"></a>é¡¹ç›®åˆ›å»º</h2><p>é¦–å…ˆæ‰§è¡Œ<code>vue init webpack-simple vue-curd</code>ï¼Œ<code>vue-curd</code>æ˜¯æ–‡ä»¶å¤¹åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä¼šæœ‰3ä¸ªè®¾ç½®é¡¹ï¼Œåˆ†åˆ«æ˜¯é¡¹ç›®åã€æè¿°å’Œä½œè€…ï¼Œä¸€è·¯å›è½¦å°±è¡Œäº†ã€‚ç”±äºæ˜¯æ•™å­¦é¡¹ç›®ï¼Œä¸ä¼šä½¿ç”¨æœ‰å¤ªå¤šçš„ä¾èµ–ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>webpack-simple</code>æ¨¡ç‰ˆæ¥åˆ›å»ºï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­å¯ä»¥ä½¿ç”¨<code>webpack</code>æ¥åˆ›å»º   </p><p><img src="http://okmneu7zl.bkt.clouddn.com/vue-cli%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE.png"></p><p>ç°åœ¨èƒ½çœ‹åˆ°vue-cliä¸ºæˆ‘ä»¬å»ºå¥½äº†é¡¹ç›®ï¼Œ<em><strong>åé¢æ–‡ä¸­æ‰€æœ‰çš„è·¯å¾„æ ¹ç›®å½•éƒ½è¡¨ç¤ºè¯¥é¡¹ç›®ç›®å½•</strong></em></p><h2 id="æœåŠ¡ç«¯æ­å»º"><a href="#æœåŠ¡ç«¯æ­å»º" class="headerlink" title="æœåŠ¡ç«¯æ­å»º"></a>æœåŠ¡ç«¯æ­å»º</h2><p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©json-serverè¿™ä¸ªå·¥å…·å¿«é€Ÿæ­å»ºåå°ç®¡ç†ç³»ç»Ÿçš„æœåŠ¡ç«¯ç¨‹åºï¼š</p><ul><li>æ‰§è¡Œ<code>npm i json-server -g</code>ï¼ŒMacåŠ ä¸Š<code>sudo</code></li><li>æ–°å»º<code>/server</code>ç›®å½•ï¼Œç”¨äºé˜²æ­¢æœåŠ¡ç«¯çš„æ–‡ä»¶</li><li>æ–°å»º<code>/server/db.json</code>æ–‡ä»¶ï¼Œä½œä¸ºæœåŠ¡ç«¯çš„æ•°æ®åº“æ–‡ä»¶</li><li>åœ¨<code>/server/db.json</code>æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹æ•°æ®ï¼š<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;user&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">10000</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Jimmy&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span>: <span class="number">28</span>,</span><br><span class="line">      <span class="attr">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">10001</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;age&quot;</span>: <span class="number">30</span>,</span><br><span class="line">      <span class="attr">&quot;gender&quot;</span>: <span class="string">&quot;female&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;book&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;å‰ç«¯ä»å…¥é—¨åˆ°ç²¾é€š&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;price&quot;</span>: <span class="number">9300</span>,</span><br><span class="line">      <span class="attr">&quot;owner_id&quot;</span>: <span class="number">10000</span>,</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;id&quot;</span>: <span class="number">10001</span>,</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Javaä»å…¥é—¨åˆ°æ”¾å¼ƒ&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;price&quot;</span>: <span class="number">1990</span>,</span><br><span class="line">      <span class="attr">&quot;owner_id&quot;</span>: <span class="number">10001</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>æœ€ååœ¨<code>/server</code>ç›®å½•æ‰§è¡Œ<code>json-server db.json -w -p 3000</code>   </li></ul><p>ç°åœ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ç½‘å€<code>http://localhost:3000</code>ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼š  </p><p><img src="http://okmneu7zl.bkt.clouddn.com/localhost3000.png"></p><p>ç‚¹å‡»Routesä¸‹é¢çš„userä¼šè·³è½¬åˆ°<code>http://localhost:3000/user</code>ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¹‹å‰åœ¨db.jsonä¸­å†™å…¥çš„useræ•°ç»„   </p><p><img src="http://okmneu7zl.bkt.clouddn.com/json.png"></p><p>æˆ‘ä»¬åœ¨db.jsonæ–‡ä»¶ä¸­å†™å…¥äº†æ ‡å‡†çš„JSONæ ¼å¼æ•°æ®ï¼Œè¿™ä¸ªjsoné‡Œæœ‰ä¸€ä¸ªuseræ•°ç»„å’Œä¸€ä¸ªbookæ•°ç»„ï¼Œè¿™å°±å‘Šè¯‰json-serverï¼Œæˆ‘ä»¬çš„æ•°æ®åº“é‡Œæœ‰ä¸€ä¸ªåä¸ºuserçš„â€œè¡¨â€å’Œä¸€ä¸ªåä¸ºbookçš„â€œè¡¨â€ï¼Œå¹¶ä¸”è¡¨é‡Œçš„æ•°æ®ä¸ºxxxï¼Œç„¶åjson-serverå°±ä¼šå¯åŠ¨æœåŠ¡å™¨ï¼Œå¹¶ä¸”ä»¥æ¯ä¸ªâ€è¡¨â€ä¸ºå•ä½ä¸ºæˆ‘ä»¬æ³¨å†Œä¸€ç³»åˆ—æ ‡å‡†çš„RESTFullå½¢å¼çš„APIæ¥å£ï¼ˆè·¯ç”±ï¼‰ï¼Œä»¥userä¸ºä¾‹ï¼š</p><ul><li>[GET] /user #è·å–ç”¨æˆ·åˆ—è¡¨çš„æ¥å£</li><li>[GET] /user/:id #è·å–å•ä¸ªç”¨æˆ·çš„æ¥å£</li><li>[POST] /user #æ–°å¢ç”¨æˆ·çš„æ¥å£</li><li>[PUT] /user/:id #ä¿®æ”¹ç”¨æˆ·çš„æ¥å£</li><li>[DELETE] /user/:id #åˆ é™¤ç”¨æˆ·çš„æ¥å£   </li></ul><p>åœ¨è·å–åˆ—è¡¨çš„æ¥å£ä¸­ä¹Ÿå¯ä»¥è¿½åŠ æŸ¥è¯¢å‚æ•°ï¼Œæ¥é™å®šæŸ¥è¯¢çš„ç»“æœï¼Œæ¯”å¦‚ï¼š</p><ul><li>æŸ¥è¯¢æ‰€æœ‰ç”·æ€§ç”¨æˆ·ï¼š /user?gender=male</li><li>æŸ¥è¯¢å¹´é¾„å¤§äºç­‰äº20å¹¶ä¸”å°äºç­‰äº29çš„ç”¨æˆ·ï¼š/user?age_gte=20&amp;age_lte=29</li></ul><p>æ­¤å¤–è¿˜æœ‰åˆ†é¡µã€æ’åºã€åŒ¹é…ã€å…³ç³»æŸ¥è¯¢ç­‰æŸ¥è¯¢æ–¹å¼ï¼Œå¯ä»¥åœ¨<a href="https://github.com/typicode/json-server#routes">è¿™é‡ŒæŸ¥çœ‹æ›´å¤š</a>   </p><p>è‡³æ­¤æˆ‘ä»¬å°±æ‹¥æœ‰äº†ä¸€å¥—å¼ºå¤§çš„æ•°æ®æ¥å£ã€‚</p><h2 id="å®¢æˆ·ç«¯æ­å»º"><a href="#å®¢æˆ·ç«¯æ­å»º" class="headerlink" title="å®¢æˆ·ç«¯æ­å»º"></a>å®¢æˆ·ç«¯æ­å»º</h2><p>ä¹‹å‰æˆ‘ä»¬åˆ›å»ºå¥½äº†é¡¹ç›®ï¼Œä½†æ˜¯è¿˜æ²¡ä¸‹è½½ä¾èµ–ï¼Œç°åœ¨æ ¹ç›®å½•æ‰§è¡Œ<code>yarn install</code>   </p><p>å®‰è£…å¥½ä¾èµ–åï¼Œæ‰§è¡Œ<code>yarn run dev</code>ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹å›¾çš„æ¬¢è¿é¡µäº†   </p><p><img src="http://okmneu7zl.bkt.clouddn.com/vue-welcome.png"></p><h3 id="å¼€å§‹æ”¹é€ æ¨¡ç‰ˆé¡¹ç›®"><a href="#å¼€å§‹æ”¹é€ æ¨¡ç‰ˆé¡¹ç›®" class="headerlink" title="å¼€å§‹æ”¹é€ æ¨¡ç‰ˆé¡¹ç›®"></a>å¼€å§‹æ”¹é€ æ¨¡ç‰ˆé¡¹ç›®</h3><ul><li>åˆ é™¤<code>/src/assets/</code>ä¸‹çš„å›¾ç‰‡</li><li>ä¿®æ”¹<code>/src/main.js</code>æ”¹åä¸º<code>app.js</code>ï¼Œ<em><strong>ä¸ªäººä¹ æƒ¯ï¼Œå¯ä»¥ä¸æ”¹ï¼Œä¸æ”¹çš„è¯ä¸‹ä¸¤æ­¥ä¹Ÿè·³è¿‡</strong></em></li><li>ä¿®æ”¹<code>/webpack.config.js</code>ä¸­ç¬¬5è¡Œ<code>entry: &#39;./src/main.js&#39;,</code>ä¸º<code>entry: &#39;./src/app.js&#39;,</code>ï¼Œè¿™ä¸ªæ˜¯å…¥å£æ–‡ä»¶ã€‚ä¿®æ”¹ç¬¬8è¡Œ<code>publicPath: &#39;/dist/&#39;,</code>ä¸º<code>publicPath: &#39;/build/&#39;,</code>ï¼Œè¿™ä¸ªæ˜¯ç¼–è¯‘åæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</li><li>ä¿®æ”¹<code>/index.html</code>ä¸­ç¬¬9è¡Œ<code>&lt;script src=&quot;/dist/build.js&quot;&gt;&lt;/script&gt;</code>ä¸º<code>&lt;script src=&quot;/build/build.js&quot;&gt;&lt;/script&gt;</code></li><li>å°†<code>/src/App.vue</code>ä¸­çš„å†…å®¹åˆ é™¤ï¼Œåªç•™ä¸‹ä¸‹é¢è¿™äº›<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>åœ¨Vueä¸­<code>&lt;template&gt;</code>ä¸­å†™htmlï¼Œ<code>&lt;script&gt;</code>ä¸­å†™è„šæœ¬ï¼Œ<code>&lt;style&gt;</code>ä¸­å†™æ ·å¼</li></ul><h3 id="æ·»åŠ ç”¨æˆ·é¡µé¢"><a href="#æ·»åŠ ç”¨æˆ·é¡µé¢" class="headerlink" title="æ·»åŠ ç”¨æˆ·é¡µé¢"></a>æ·»åŠ ç”¨æˆ·é¡µé¢</h3><p><code>/src/App.vue</code>æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;label&gt;å§“åï¼š&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;text&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">        &lt;label&gt;å¹´é¾„ï¼š&lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;number&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">        &lt;label&gt;æ€§åˆ«ï¼š&lt;/label&gt;</span><br><span class="line">        &lt;select&gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;&quot;</span>&gt;è¯·é€‰æ‹©&lt;/option&gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;male&quot;</span>&gt;ç”·&lt;/option&gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;female&quot;</span>&gt;å¥³&lt;/option&gt;</span><br><span class="line">        &lt;/select&gt;&lt;br&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;button&quot;</span>&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ·»åŠ é¡µé¢çš„æ ·å­äº†ï¼Œåœ¨<code>&lt;template&gt;</code>ä¸­æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œ<em><strong>æ¯ä¸ªç»„ä»¶åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹</strong></em>ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨<code>&lt;div&gt;</code>åŒ…èµ·æ¥   </p><p><img src="http://okmneu7zl.bkt.clouddn.com/1.png"></p><p>ç°åœ¨æˆ‘ä»¬éœ€è¦è·å–ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œåœ¨Vueä¸­å¯ä»¥é‡‡å–åŒå‘ç»‘å®šçš„æ–¹å¼æ¥å®ç°ï¼Œæˆ‘ä»¬å…ˆåœ¨<code>&lt;script&gt;</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            form:&#123;</span><br><span class="line">                name:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                age:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                gender:<span class="string">&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>form</code>å¯¹è±¡   </p><blockquote><p><code>data</code>æ˜¯ä¸ª<code>funciton</code>ï¼Œè¦è®¾ç½®çš„å€¼æ˜¯<code>retrun</code>å›æ¥çš„ä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§</p></blockquote><p>ä¸‹é¢å°†å®ç°æ•°æ®çš„ç»‘å®šï¼Œæ”¹é€ <code>&lt;template&gt;</code>ä¸­ä»£ç ä¸ºå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;label&gt;å§“åï¼š&lt;/label&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;form.name&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;label&gt;å¹´é¾„ï¼š&lt;/label&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;number&quot;</span> v-model=<span class="string">&quot;form.age&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;label&gt;æ€§åˆ«ï¼š&lt;/label&gt;</span><br><span class="line">    &lt;select v-model=<span class="string">&quot;form.gender&quot;</span>&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;&quot;</span>&gt;è¯·é€‰æ‹©&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;male&quot;</span>&gt;ç”·&lt;/option&gt;</span><br><span class="line">        &lt;option value=<span class="string">&quot;female&quot;</span>&gt;å¥³&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;&lt;br&gt;</span><br><span class="line">    &lt;button type=<span class="string">&quot;button&quot;</span>&gt;æ·»åŠ &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡<code>v-model</code>å®ç°äº†æ•°æ®çš„ç»‘å®š   </p></blockquote><p>æ­¤æ—¶<code>data</code>ä¸­çš„å€¼å°±æ˜¯ç”¨æˆ·è¾“å…¥çš„å€¼äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥ç¡®è®¤å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥ç»™æ·»åŠ æŒ‰é’®ç»‘å®šäº‹ä»¶ï¼Œé€šè¿‡ç‚¹å‡»æ·»åŠ æŒ‰é’®æ¥å¼¹æ¡†æ˜¾ç¤ºè¾“å…¥çš„å†…å®¹ï¼Œä¿®æ”¹<code>&lt;button type=&quot;button&quot;&gt;æ·»åŠ &lt;/button&gt;</code>ä¸º<code>&lt;button type=&quot;button&quot; @click=&quot;submit&quot;&gt;æ·»åŠ &lt;/button&gt;</code></p><blockquote><p>Vueä¸­é€šè¿‡<code>@click</code>æ¥ç›‘å¬ç‚¹å‡»äº‹ä»¶</p></blockquote><p>å¹¶åœ¨<code>&lt;script&gt;</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123; ... &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        <span class="function"><span class="title">submit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">`è¾“å…¥çš„å§“åï¼š<span class="subst">$&#123; <span class="built_in">this</span>.form.name &#125;</span>ï¼Œè¾“å…¥çš„å¹´é¾„ï¼š<span class="subst">$&#123; <span class="built_in">this</span>.form.age &#125;</span>ï¼Œé€‰æ‹©çš„æ€§åˆ«ï¼š<span class="subst">$&#123; <span class="built_in">this</span>.form.gender &#125;</span>`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥è¯•ä¸€ä¸‹å§</p><p><img src="http://okmneu7zl.bkt.clouddn.com/2.png"></p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠè¿™æ¡æ•°æ®å­˜åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ä¸­å§ï¼Œæ”¹å†™<code>submit</code>ä¸ºå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">submit</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    fetch(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>,&#123;</span><br><span class="line">        method: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        body: <span class="built_in">JSON</span>.stringify(<span class="built_in">this</span>.form)</span><br><span class="line">    &#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        alert(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">response</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(response);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>fetch</code>æ¥æäº¤æ•°æ®</p><blockquote><p>Fetchè¢«ç§°ä¸ºä¸‹ä¸€ä»£AjaxæŠ€æœ¯,é‡‡ç”¨Promiseæ–¹å¼æ¥å¤„ç†æ•°æ®ã€‚æ˜¯ä¸€ç§ç®€æ´æ˜äº†çš„APIï¼Œæ¯”XMLHttpRequestæ›´åŠ ç®€å•æ˜“ç”¨ã€‚</p></blockquote><p>ç„¶åçœ‹ä¸€ä¸‹<code>http://localhost:3000/user</code>ï¼Œåˆšæ‰æ·»åŠ çš„æ•°æ®å°±åœ¨é‡Œé¢äº†   </p><p><img src="http://okmneu7zl.bkt.clouddn.com/3.png"></p><h3 id="è¡¨å•æ ¡éªŒ"><a href="#è¡¨å•æ ¡éªŒ" class="headerlink" title="è¡¨å•æ ¡éªŒ"></a>è¡¨å•æ ¡éªŒ</h3><p>æˆ‘ä»¬çš„ç°åœ¨å¯ä»¥åœ¨åº”ç”¨é‡Œæ·»åŠ ç”¨æˆ·äº†ã€‚ä½†æ˜¯è¿˜å­˜åœ¨ä¸å°çš„é—®é¢˜ï¼š</p><ul><li>ç”¨æˆ·å¯ä»¥è¾“å…¥ä»»æ„é•¿çš„åå­—</li><li>ç”¨æˆ·å¯ä»¥è¾“å…¥ä»»æ„çš„å¹´é¾„</li><li>ç”¨æˆ·å¯ä»¥ä¸é€‰æ‹©æ€§åˆ«</li></ul><p>ç›²ç›®ä¿¡ä»»ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œä¼šç»™ç³»ç»ŸåŸ‹ä¸‹ä¸å°çš„éšæ‚£ã€‚è¿™å›æˆ‘ä»¬å°±æ¥æŠŠè¿™éšæ‚£æ‰¼æ€åœ¨æ‘‡ç¯®ä¹‹ä¸­ã€‚</p><p>è¡¨å•éªŒè¯æ— éå°±æ˜¯å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œæœ‰æ•ˆæ€§ã€éç©ºæ€§éªŒè¯ï¼ŒéªŒè¯å¤±è´¥ä¼šåœ¨ç›¸åº”çš„åœ°æ–¹æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå¹¶é˜»æ­¢ç”¨æˆ·æäº¤è¡¨å•ã€‚</p><p>æˆ‘ä»¬éœ€è¦è®°å½•æ¯ä¸€ä¸ªå­—æ®µå½“å‰çš„æœ‰æ•ˆçŠ¶æ€ï¼Œæœ‰æ•ˆæ—¶éšè—é”™è¯¯ä¿¡æ¯ï¼Œæ— æ•ˆæ—¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</p><p>è€Œè¿™ä¸ªæœ‰æ•ˆ/æ— æ•ˆï¼Œå¯ä»¥åœ¨è¡¨å•å€¼æ”¹å˜çš„æ—¶å€™è¿›è¡Œåˆ¤æ–­ã€‚</p><p>è¦åšæ ¡éªŒï¼Œåœ¨Vueä¸­æˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„è‚¯å®šæ˜¯<code>computed</code>ã€<code>watch</code>ã€<code>get</code>ã€<code>set</code></p><blockquote><p><a href="https://cn.vuejs.org/v2/guide/computed.html">https://cn.vuejs.org/v2/guide/computed.html</a>   </p></blockquote><p>æ€è·¯å¤§è‡´ä¸Šå°±æ˜¯åœ¨formå€¼å‘ç”Ÿæ”¹å˜æ—¶å»åŒæ­¥çš„æ‰§è¡Œæ ¡éªŒï¼Œå¦‚æœæ ¡éªŒå¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæœ‰æ•ˆåˆ™éšè—</p><p>è®©æˆ‘ä»¬æ¥è¯•è¯•ï¼Œæ”¹é€ ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>å§“åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.name.value&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>å¹´é¾„ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;form.age.value&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>æ€§åˆ«ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;form.gender.value&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            form:&#123;</span><br><span class="line">                name:&#123;</span><br><span class="line"><span class="javascript">                    value:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    valid:<span class="literal">false</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                age:&#123;</span><br><span class="line"><span class="javascript">                    value:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    valid:<span class="literal">false</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                gender:&#123;</span><br><span class="line"><span class="javascript">                    value:<span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    valid:<span class="literal">false</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">submit</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            fetch(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>,&#123;</span></span><br><span class="line"><span class="javascript">                method: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line">                headers: &#123;</span><br><span class="line"><span class="javascript">                    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line"><span class="javascript">                body: <span class="built_in">JSON</span>.stringify(<span class="built_in">this</span>.form)</span></span><br><span class="line"><span class="javascript">            &#125;).then(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span></span><br><span class="line"><span class="javascript">            &#125;).catch(<span class="function"><span class="params">response</span> =&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(response);</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line"><span class="javascript">        <span class="string">&#x27;form.name.valid&#x27;</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">this</span>.form.name.value.length &gt; <span class="number">10</span> ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°è¯•äº†æ²¡æœ‰ï¼Ÿè¿™æ®µä»£ç æ˜¯æ— æ•ˆçš„ï¼Œç”¨<code>watch</code>ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼Œè¿™é‡Œå°±ä¸å†™å‡ºæ¥äº†</p><p><del>å—ES5çš„é™åˆ¶ï¼ŒVuejsä¸èƒ½æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„å˜åŒ–</del><code>è¿™å¥è¯æ˜¯é”™çš„ï¼Œä¸‹é¢ç»„ä»¶åŒ–çš„åŸå› å°±æ”¹æˆä½¿ä»£ç çœ‹ç€ç®€æ´ç‚¹å§ã€‚æ‰€ä»¥ç™¾åº¦å‡ºæ¥çš„ä¸œè¥¿ä¸ä¸€å®šæ˜¯å¯¹çš„ã€‚ã€‚</code></p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ¥åšå‘¢ï¼Ÿ</p><p>æ—¢ç„¶Vueåªèƒ½æ£€æµ‹åˆ°dataçš„å±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»„ä»¶åŒ–æ¥å®ç°ï¼ŒåŒæ—¶ä½¿æˆ‘ä»¬çš„ä»£ç ç®€æ´ï¼Œè€ƒè™‘åˆ°ä¹‹åçš„ä¿®æ”¹é¡µé¢ä¹Ÿæœ‰ç±»ä¼¼çš„é¡µé¢ç»“æ„ï¼Œæˆ‘ä»¬å°†æ•´ä¸ªformå°æˆç»„ä»¶</p><blockquote><p>ç»„ä»¶ï¼ˆComponentï¼‰æ˜¯ Vue.js æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç»„ä»¶å¯ä»¥æ‰©å±• HTML å…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚åœ¨è¾ƒé«˜å±‚é¢ä¸Šï¼Œç»„ä»¶æ˜¯è‡ªå®šä¹‰å…ƒç´ ï¼Œ Vue.js çš„ç¼–è¯‘å™¨ä¸ºå®ƒæ·»åŠ ç‰¹æ®ŠåŠŸèƒ½ã€‚åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯åŸç”Ÿ HTML å…ƒç´ çš„å½¢å¼ï¼Œä»¥ is ç‰¹æ€§æ‰©å±•ã€‚</p></blockquote><ul><li>æ–°å»º<code>/src/components/</code>ç›®å½•</li><li>åœ¨<code>/src/components/</code>ä¸‹æ–°å»º<code>form.vue</code>å’Œ<code>formItem.vue</code></li><li>å°†ä¹‹å‰çš„ä»£ç æ¬åˆ°<code>formItem.vue</code>ï¼Œå¦‚ä¸‹ï¼š</li></ul><blockquote><p>ç»„ä»¶å®ä¾‹çš„ä½œç”¨åŸŸæ˜¯å­¤ç«‹çš„ã€‚è¿™æ„å‘³ç€ä¸èƒ½å¹¶ä¸”ä¸åº”è¯¥åœ¨å­ç»„ä»¶çš„æ¨¡æ¿å†…ç›´æ¥å¼•ç”¨çˆ¶ç»„ä»¶çš„æ•°æ®ã€‚å¯ä»¥ä½¿ç”¨ props æŠŠæ•°æ®ä¼ ç»™å­ç»„ä»¶ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;label&#125;&#125;ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;String&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Number&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Select&#x27;&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    props: &#123;</span><br><span class="line">        label: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        type: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        value: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="literal">null</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨<code>props</code>æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œç”¨<code>v-if</code>æ¥åˆ¤æ–­è¯¥æ˜¾ç¤ºä»€ä¹ˆï¼Œåƒåœ¨<code>data</code>ä¸­ä½¿ç”¨ä¸€æ ·ç”¨<code>v-model</code>æ¥ç»‘å®šæ•°æ®</p><p>ä¸‹é¢æ¥å†™<code>formItem.vue</code>çš„çˆ¶ç»„ä»¶<code>form.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,key) in form&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:type</span>=<span class="string">&quot;item.type&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:label</span>=<span class="string">&quot;item.label&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> formItem <span class="keyword">from</span> <span class="string">&#x27;./formItem.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">        form: <span class="built_in">Object</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        formItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å°†<code>formItem.vue</code>å¼•å…¥ï¼Œå¹¶é€šè¿‡<code>components</code>åœ¨Vueä¸­æ³¨å†Œï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨é©¼å³°å‘½åï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥é€šè¿‡<code>&lt;form-item&gt;</code>æ¥ä½¿ç”¨</p><p>é€šè¿‡<code>props</code>æ¥è·å–çˆ¶ç»„ä»¶<code>App.vue</code>ä¼ æ¥çš„æ•°æ®ï¼Œç„¶åä½¿ç”¨<code>v-for</code>éå†å¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡<code>:value</code>ã€<code>:type</code>ã€<code>:label</code>å°†å€¼ä¼ ç»™å­ç»„ä»¶<code>formItem.vue</code></p><p>æœ€åä¿®æ”¹ä¸€ä¸‹<code>App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my-form</span> <span class="attr">:form</span>=<span class="string">&quot;form&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> form <span class="keyword">from</span> <span class="string">&#x27;./components/form.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            form: &#123;</span><br><span class="line">                name: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å§“å&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;String&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                age: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Number&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                gender: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Select&#x27;</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123; ... &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">        <span class="string">&#x27;my-form&#x27;</span>: form</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨ç»„ä»¶å°è£…å¥½äº†ï¼Œä½†æ˜¯æ•°æ®è¿˜æ˜¯æ²¡æ ¡éªŒã€‚æˆ‘ä»¬å…ˆæ¥è®¾å®šä¸€ä¸‹è§„åˆ™ï¼Œç»§ç»­ä¿®æ”¹<code>/src/App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my-form</span> <span class="attr">:form</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> form <span class="keyword">from</span> <span class="string">&#x27;./components/form.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            form: &#123;</span><br><span class="line">                name: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å§“å&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;String&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                age: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Number&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                gender: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Select&#x27;</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            rules: &#123;    <span class="comment">//æ ¡éªŒè§„åˆ™</span></span></span><br><span class="line">                name: [&#123;</span><br><span class="line">                        max: 10,</span><br><span class="line">                        min: 2,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—å¿…é¡»åœ¨2-10ä¸ªå­—ç¬¦ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;String&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—æ ¼å¼ä¸æ­£ç¡®&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                age: [&#123;</span><br><span class="line">                        max: 100,</span><br><span class="line">                        min: 0,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„å¿…é¡»åœ¨0-100å²ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;Number&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„åªèƒ½æ˜¯æ•°å­—&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                gender: [&#123;</span><br><span class="line"><span class="javascript">                    value: [<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>],</span></span><br><span class="line"><span class="javascript">                    message: <span class="string">&#x27;è¯·é€‰æ‹©æ€§åˆ«&#x27;</span></span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            validateState: <span class="literal">true</span> <span class="comment">//è¡¨å•æ ¡éªŒçŠ¶æ€</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123; ... &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">        <span class="string">&#x27;my-form&#x27;</span>: form</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨<code>components</code>ä¸­ï¼Œè¿™æ¬¡æˆ‘ä»¬æ²¡æœ‰å’Œ<code>form.vue</code>ä¸­ä¸€æ ·æ³¨å†Œç»„ä»¶ï¼Œè€Œé‡‡å–è‡ªå®šä¹‰åç§°çš„æ–¹å¼<code>my-form</code></p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è®¾å®šæ¯ä¸ªå±æ€§çš„æ ¡éªŒè§„åˆ™éƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ ¹æ®ä¸åŒçš„æƒ…å†µå¯ä»¥æ˜¾ç¤ºä¸åŒçš„é”™è¯¯ä¿¡æ¯</p><ul><li><code>max</code>å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦æˆ–numberæœ€å¤§å€¼</li><li><code>min</code>å­—ç¬¦ä¸²æœ€å°é•¿åº¦æˆ–numberæœ€å°å€¼</li><li><code>type</code>æŒ‡å®šç±»å‹</li><li><code>value</code>å€¼åªèƒ½æ˜¯è¯¥æ•°ç»„ä¸­çš„å€¼</li><li><code>message</code>é”™è¯¯ä¿¡æ¯</li></ul><p>ç„¶åé€šè¿‡<code>:rules</code>å°†è§„åˆ™ä¼ ç»™<code>form.vue</code>ï¼Œä¸‹é¢æ˜¯<code>form.vue</code>çš„ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;form-item</span><br><span class="line">    v-for=&quot;(item,key) in form&quot;</span><br><span class="line">    :field=&quot;item.field&quot;</span><br><span class="line">    :value=&quot;item.value&quot;</span><br><span class="line">    :type=&quot;item.type&quot;</span><br><span class="line">    :rule=&quot;item.rule&quot;</span><br><span class="line">    :label=&quot;item.label&quot;&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> formItem <span class="keyword">from</span> <span class="string">&#x27;./formItem.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">        form: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        rules: <span class="built_in">Object</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> form = <span class="built_in">this</span>.form</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> rules = <span class="built_in">this</span>.rules</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> form) &#123;</span></span><br><span class="line">            form[key].rule = rules[key]</span><br><span class="line">            form[key].field = key</span><br><span class="line"><span class="javascript">            form[key].validate = <span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.form = form</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        formItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºä¹‹å‰éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå®ä¾‹éœ€è¦é…ç½®æ•°æ®è§‚æµ‹(data observer)ã€ç¼–è¯‘æ¨¡ç‰ˆã€æŒ‚è½½å®ä¾‹åˆ° DOM ï¼Œç„¶ååœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–° DOM ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®ä¾‹ä¹Ÿä¼šè°ƒç”¨ä¸€äº›<em><strong>ç”Ÿå‘½å‘¨æœŸé’©å­</strong></em> ï¼Œè¿™å°±ç»™æˆ‘ä»¬æä¾›äº†æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘çš„æœºä¼šã€‚ä¾‹å¦‚<code>created</code>è¿™ä¸ªé’©å­åœ¨å®ä¾‹è¢«åˆ›å»ºä¹‹åè¢«è°ƒç”¨</p></blockquote><p>ç”Ÿå‘½å‘¨æœŸï¼š</p><p><img src="http://okmneu7zl.bkt.clouddn.com/lifecycle.png"></p><p>åœ¨ç»„ä»¶<code>created</code>ä¸­ï¼Œæˆ‘ä»¬å°†rulesæ•´åˆåˆ°formä¸­ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ï¼Œå¹¶æ·»åŠ field(å±æ€§å)ï¼Œvalidateï¼ˆæ ¡éªŒçŠ¶æ€)å­—æ®µ</p><p>åœ¨<code>&lt;form-item&gt;</code>ä¸­ï¼Œåƒä¹‹å‰ä¸€æ ·å°†å€¼ä¼ ç»™<code>formItem.vue</code></p><p>ä¸‹é¢æ¥çœ‹ä¸‹<code>formItem.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;label&#125;&#125;ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;String&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Number&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Select&#x27;&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            message: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            val: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">        field: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        label: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        type: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        value: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="literal">null</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        rule: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">Array</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">val</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> _this = <span class="built_in">this</span> <span class="comment">//è¯•è¯•ä¸è¿™ä¹ˆåšä¼šæ€æ ·ï¼Œæ³¨é‡Šæ‰è¿™è¡Œï¼Œå°†ä¸‹é¢çš„_thiséƒ½æ¢æˆthisï¼Œçœ‹çœ‹thisæŒ‡çš„æ˜¯è°</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> valid_msg = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> validateState = <span class="literal">true</span></span></span><br><span class="line">            if (_this.rule) &#123;</span><br><span class="line"><span class="javascript">                _this.rule.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(v)</span></span><br><span class="line">                    if (keys) &#123;</span><br><span class="line"><span class="javascript">                        keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">k</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> (k != <span class="string">&#x27;message&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">let</span> valide = <span class="built_in">eval</span>(k)</span></span><br><span class="line">                                if (!valide(_this.val, v[k])) &#123;</span><br><span class="line"><span class="javascript">                                    valid_msg = v.message ? v.message : <span class="string">&#x27;ç³»ç»Ÿå¼‚å¸¸&#x27;</span></span></span><br><span class="line"><span class="javascript">                                    validateState = <span class="literal">false</span></span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;)</span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        validateState = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">                        valid_msg = <span class="string">&#x27;ç³»ç»Ÿå¼‚å¸¸&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            _this.message = valid_msg</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">value</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.val = <span class="built_in">this</span>.value</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;string&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v.length &gt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;number&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v &gt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;string&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v.length &lt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;number&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v &lt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="keyword">typeof</span> v == r.toLowerCase() ? <span class="literal">true</span> : <span class="literal">false</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">value</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> r.indexOf(v) != -<span class="number">1</span> ? <span class="literal">true</span> : <span class="literal">false</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em><strong>å°è¯•ä¸€ä¸‹æ³¨é‡Šä¸­è¯´çš„</strong></em>ï¼Œçœ‹çœ‹thisæŒ‡çš„æ˜¯ä»€ä¹ˆ</p><p>åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿå®ç°æ ¡éªŒäº†ï¼Œä½†æ˜¯é—®é¢˜åˆæ¥äº†ï¼Œç°åœ¨<code>App.vue</code>ä¸­çš„<code>form</code>é‡Œé¢çš„å±æ€§å€¼æ˜¯æ²¡æœ‰çš„ï¼ˆåŠ¨æ‰‹è¯•è¯•ï¼‰ï¼Œå¦‚<code>form.name.value</code>å€¼ä¸€ç›´æ˜¯ç©ºçš„</p><blockquote><p>prop æ˜¯å•å‘ç»‘å®šçš„ï¼šå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯ä¸ä¼šåè¿‡æ¥ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€â€”â€”è¿™ä¼šè®©åº”ç”¨çš„æ•°æ®æµéš¾ä»¥ç†è§£ã€‚</p></blockquote><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å°†<code>formItem.vue</code>ä¸­çš„å€¼ä¼ ç»™<code>App.vue</code>ï¼Œè¿™é‡Œæ˜¯æœ€ç»ˆå½¢æ€çš„<code>formItem.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;label&#125;&#125;ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;String&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Number&#x27;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;Select&#x27;&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;val&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            message: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            val: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    props: &#123;</span><br><span class="line">        field: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        label: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        type: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        value: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="literal">null</span>,</span></span><br><span class="line"><span class="javascript">            <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        rule: &#123;</span><br><span class="line"><span class="javascript">            type: <span class="built_in">Array</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">val</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> _this = <span class="built_in">this</span> <span class="comment">//è¯•è¯•ä¸è¿™ä¹ˆåšä¼šæ€æ ·ï¼Œæ³¨é‡Šæ‰è¿™è¡Œï¼Œå°†ä¸‹é¢çš„_thiséƒ½æ¢æˆthisï¼Œçœ‹çœ‹thisæŒ‡çš„æ˜¯è°</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> valid_msg = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> validateState = <span class="literal">true</span></span></span><br><span class="line">            if (_this.rule) &#123;</span><br><span class="line"><span class="javascript">                _this.rule.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(v)</span></span><br><span class="line">                    if (keys) &#123;</span><br><span class="line"><span class="javascript">                        keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">k</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> (k != <span class="string">&#x27;message&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">let</span> valide = <span class="built_in">eval</span>(k)</span></span><br><span class="line">                                if (!valide(_this.val, v[k])) &#123;</span><br><span class="line"><span class="javascript">                                    valid_msg = v.message ? v.message : <span class="string">&#x27;ç³»ç»Ÿå¼‚å¸¸&#x27;</span></span></span><br><span class="line"><span class="javascript">                                    validateState = <span class="literal">false</span></span></span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;)</span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        validateState = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">                        valid_msg = <span class="string">&#x27;ç³»ç»Ÿå¼‚å¸¸&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            _this.message = valid_msg</span><br><span class="line"><span class="javascript">            _this.$emit(<span class="string">&quot;transferValue&quot;</span>, [_this.field, _this.val,validateState])</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">value</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.val = <span class="built_in">this</span>.value</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;string&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v.length &gt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;number&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v &gt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">min</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;string&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v.length &lt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> v == <span class="string">&#x27;number&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> v &lt; r ? <span class="literal">false</span> : <span class="literal">true</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="keyword">typeof</span> v == r.toLowerCase() ? <span class="literal">true</span> : <span class="literal">false</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">value</span>(<span class="params">v, r</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> r.indexOf(v) != -<span class="number">1</span> ? <span class="literal">true</span> : <span class="literal">false</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶<code>$emit</code>å°†å€¼ä¼ é€’å‡ºå»ï¼Œè¿™é‡Œäº‹ä»¶åæ˜¯<code>transferValue</code>ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œåªè¦ç›‘å¬<code>transferValue</code>äº‹ä»¶å°±è¡Œäº†</p><p>ä¸‹é¢æ˜¯å®Œæ•´çš„<code>form.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;form-item</span><br><span class="line">    v-for=&quot;(item,key) in form&quot;</span><br><span class="line">    v-on:transferValue=&quot;transferValue&quot;</span><br><span class="line">    :field=&quot;item.field&quot;</span><br><span class="line">    :value=&quot;item.value&quot;</span><br><span class="line">    :type=&quot;item.type&quot;</span><br><span class="line">    :rule=&quot;item.rule&quot;</span><br><span class="line">    :label=&quot;item.label&quot;&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">form-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> formItem <span class="keyword">from</span> <span class="string">&#x27;./formItem.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">        form: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">        rules: <span class="built_in">Object</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    created: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> form = <span class="built_in">this</span>.form</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> rules = <span class="built_in">this</span>.rules</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> form) &#123;</span></span><br><span class="line">            form[key].rule = rules[key]</span><br><span class="line">            form[key].field = key</span><br><span class="line"><span class="javascript">            form[key].validate = <span class="literal">false</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.form = form</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">transferValue</span>(<span class="params">args</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> [field, value, validate] = [...args]</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.form[field].validate = validate</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> flag = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">this</span>.form) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (!<span class="built_in">this</span>.form[key].validate)</span></span><br><span class="line"><span class="javascript">                    flag = <span class="literal">false</span></span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&#x27;changeValue&#x27;</span>, [field, value, flag])</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        formItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹<code>&lt;form-item&gt;</code>ä¸­ï¼Œ<code>v-on:transferValue=&quot;transferValue&quot;</code>å°±æ˜¯ä¸Šé¢è¯´çš„ç›‘å¬äº‹ä»¶ï¼Œåé¢çš„<code>transferValue</code>æ˜¯<code>methods</code>ä¸­çš„æ–¹æ³•å</p><p>ä¸‹é¢æ˜¯å®Œæ•´çš„<code>App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my-form</span> <span class="attr">:form</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">v-on:changeValue</span>=<span class="string">&quot;changeValue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> form <span class="keyword">from</span> <span class="string">&#x27;./components/form.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            form: &#123;</span><br><span class="line">                name: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å§“å&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;String&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                age: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Number&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                gender: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Select&#x27;</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            rules: &#123;     <span class="comment">//æ ¡éªŒè§„åˆ™</span></span></span><br><span class="line">                name: [&#123;</span><br><span class="line">                        max: 10,</span><br><span class="line">                        min: 2,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—å¿…é¡»åœ¨2-10ä¸ªå­—ç¬¦ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;String&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—æ ¼å¼ä¸æ­£ç¡®&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                age: [&#123;</span><br><span class="line">                        max: 100,</span><br><span class="line">                        min: 0,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„å¿…é¡»åœ¨0-100å²ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;Number&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„åªèƒ½æ˜¯æ•°å­—&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                gender: [&#123;</span><br><span class="line"><span class="javascript">                    value: [<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>],</span></span><br><span class="line"><span class="javascript">                    message: <span class="string">&#x27;è¯·é€‰æ‹©æ€§åˆ«&#x27;</span></span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            validateState: <span class="literal">true</span> <span class="comment">//è¡¨å•æ ¡éªŒçŠ¶æ€</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">changeValue</span>(<span class="params">args</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> [field, value, validateState] = [...args]</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.form[field].value = value</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.validateState = validateState</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">submit</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="built_in">this</span>.validateState)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> form = <span class="built_in">this</span>.form</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> parms = &#123;</span></span><br><span class="line">                    name: form.name.value,</span><br><span class="line">                    age: form.age.value,</span><br><span class="line">                    gender: form.gender.value</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                fetch(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">                    method: <span class="string">&#x27;POST&#x27;</span>,</span></span><br><span class="line">                    headers: &#123;</span><br><span class="line"><span class="javascript">                        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line"><span class="javascript">                    body: <span class="built_in">JSON</span>.stringify(parms)</span></span><br><span class="line"><span class="javascript">                &#125;).then(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span></span><br><span class="line"><span class="javascript">                &#125;).catch(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(response);</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&#x27;æ•°æ®é”™è¯¯ï¼Œè¯·ä¿®æ”¹åæäº¤&#x27;</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">        <span class="string">&#x27;my-form&#x27;</span>: form</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæ¥å›é¡¾ä¸‹æµç¨‹ï¼š</p><ul><li><code>formItem.vue</code>ä¸­<code>watch</code>äº†<code>val</code></li><li>åœ¨<code>val</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéå†å¯¹åº”çš„<code>rule</code></li><li>å½“æœ‰ä¸åŒ¹é…è§„åˆ™æ—¶ï¼Œå°†é”™è¯¯ä¿¡æ¯æ”¹æˆ<code>rule</code>ä¸­å¯¹åº”çš„é”™è¯¯ä¿¡æ¯</li><li>å°†å±æ€§åã€è¾“å…¥å€¼ã€æ ¡éªŒçŠ¶æ€é€šè¿‡<code>$emit</code>å‘é€ç»™<code>form.vue</code></li><li><code>form.vue</code>ä¸­å°†é€šè¿‡<code>transferValue</code>æ”¶åˆ°ä¼ é€’çš„å‚æ•°</li><li>å°†<code>form</code>ä¸­å¯¹åº”å±æ€§åçš„å±æ€§æ ¡éªŒçŠ¶æ€ä¿®æ”¹ä¸ºä¼ é€’æ¥çš„å€¼</li><li>éå†<code>form</code>ä¸­æ‰€æœ‰å±æ€§çš„æ ¡éªŒçŠ¶æ€ï¼Œæœ€åå°†å±æ€§åã€è¾“å…¥å€¼ã€æ•´ä¸ª<code>form</code>çš„æ ¡éªŒçŠ¶æ€é€šè¿‡<code>changeValue</code>ä¼ ç»™<code>App.vue</code></li><li><code>App.vue</code>ä¸­é€šè¿‡<code>changeValue</code>æ¥å—å‚æ•°ï¼Œå°†<code>form</code>å¯¹åº”å±æ€§çš„å€¼æ›´æ–°ï¼Œå¹¶ä¿®æ”¹æ•´ä¸ª<code>form</code>çš„æ ¡éªŒçŠ¶æ€<code>validateState</code></li><li>æœ€ååœ¨<code>submit</code>ä¸­åˆ¤æ–­<code>validateState</code>ï¼Œæ¥åˆ¤æ–­æ˜¯å¦å…è®¸æäº¤</li></ul><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„æ·»åŠ é¡µé¢äº†</p><h3 id="åŠ å…¥è·¯ç”±åŠåˆ—è¡¨é¡µé¢"><a href="#åŠ å…¥è·¯ç”±åŠåˆ—è¡¨é¡µé¢" class="headerlink" title="åŠ å…¥è·¯ç”±åŠåˆ—è¡¨é¡µé¢"></a>åŠ å…¥è·¯ç”±åŠåˆ—è¡¨é¡µé¢</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªåˆ—è¡¨é¡µé¢æ¥å±•ç¤ºæ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œé‚£ä¹ˆï¼Œè¯¥å†™åœ¨å“ªå‘¢ï¼Ÿæ·»åŠ é¡µé¢æˆ‘ä»¬ç›®å‰æ˜¯ç›´æ¥å†™åœ¨<code>App.vue</code>é‡Œçš„</p><p>ä¹‹å‰æˆ‘ä»¬åªä½¿ç”¨äº†<code>json-server</code>çš„<code>POST</code>è¯·æ±‚ï¼Œç°åœ¨æˆ‘ä»¬è¿˜è¦ç”¨åˆ°<code>GET</code>è¯·æ±‚ï¼Œæ‰€ä»¥å¯¹æˆ‘ä»¬æ‰€æœ‰çš„<code>request</code>è¿›è¡Œå°è£…</p><ul><li>æ–°å»º<code>/src/services/</code>ç›®å½•å¹¶æ–°å»º<code>request.js</code></li><li>å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°<code>request.js</code>ä¸­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">method, url, body</span>) </span>&#123;</span><br><span class="line">    method = method.toUpperCase();</span><br><span class="line">    <span class="keyword">if</span> (method === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">        body = <span class="literal">undefined</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        body = body &amp;&amp; <span class="built_in">JSON</span>.stringify(body);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fetch(url, &#123;</span><br><span class="line">            method,</span><br><span class="line">            headers: &#123;</span><br><span class="line">                <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            body</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.status &gt;= <span class="number">200</span> &amp;&amp; res.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> res.json();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                alert(<span class="string">&#x27;ç³»ç»Ÿå¼‚å¸¸&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> get = <span class="function"><span class="params">url</span> =&gt;</span> request(<span class="string">&#x27;GET&#x27;</span>, url);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> post = <span class="function">(<span class="params">url, body</span>) =&gt;</span> request(<span class="string">&#x27;POST&#x27;</span>, url, body);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> put = <span class="function">(<span class="params">url, body</span>) =&gt;</span> request(<span class="string">&#x27;PUT&#x27;</span>, url, body);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> del = <span class="function">(<span class="params">url, body</span>) =&gt;</span> request(<span class="string">&#x27;DELETE&#x27;</span>, url, body);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ–°å»ºç›®å½•<code>/src/views</code></li><li>æ–°å»ºæ–‡ä»¶<code>/src/views/list.vue</code></li><li>æ–°å»ºæ–‡ä»¶<code>/src/views/add.vue</code></li><li>å°†<code>/src/App.vue</code>ä¸­çš„ä»£ç å¤åˆ¶åˆ°<code>/src/views/add.vue</code></li><li>ä¿®æ”¹<code>add.vue</code>å¦‚ä¸‹ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> form <span class="keyword">from</span> <span class="string">&#x27;../components/form.vue&#x27;</span>   <span class="comment">//æ³¨æ„ä¿®æ”¹è·¯å¾„ä¸º../</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; post &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/request.js&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123; ... &#125;,</span></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">changeValue</span>(<span class="params">args</span>)</span> &#123; ... &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">submit</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="built_in">this</span>.validateState)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> form = <span class="built_in">this</span>.form</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> parms = &#123; ... &#125;</span></span><br><span class="line"><span class="javascript">                post(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>,parms).then(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123; ... &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em><strong>æ³¨æ„ï¼š</strong></em> ä¿®æ”¹è·¯å¾„<code>./</code>ä¸º<code>../</code></p><p>å°†ä¸‹é¢çš„ä»£ç å¤åˆ¶åˆ°<code>list.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>åºå·<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ€§åˆ«<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>å¹´é¾„<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.gender&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.age&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/request.js&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            list: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        get(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.list = response</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ªlisté¡µé¢ï¼Œä¸€ä¸ªaddé¡µé¢ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½çœ‹åˆ°ï¼Œä¸ºä»€ä¹ˆï¼Ÿ<br>å›é¡¾ä¸€ä¸‹ï¼š</p><ul><li>æˆ‘ä»¬åœ¨<code>/webpack.config.js</code>ä¸­é…ç½®äº†å…¥å£æ˜¯<code>./src/app.js</code></li><li>ç„¶åæˆ‘ä»¬åœ¨<code>/app.js</code>å¼•å…¥äº†<code>/App.vue</code></li></ul><p>ç„¶åå’§ï¼Ÿ<code>list.vue</code>å’Œ<code>add.vue</code>æ€ä¹ˆåŠï¼Ÿ</p><p>è¿™é‡Œæˆ‘ä»¬å¼•å…¥<code>vue-router</code>è·¯ç”±</p><blockquote><p>ç”¨ Vue.js + vue-router åˆ›å»ºå•é¡µåº”ç”¨ï¼Œæ˜¯éå¸¸ç®€å•çš„ã€‚ä½¿ç”¨ Vue.js æ—¶ï¼Œæˆ‘ä»¬å°±å·²ç»æŠŠç»„ä»¶ç»„åˆæˆä¸€ä¸ªåº”ç”¨äº†ï¼Œå½“ä½ è¦æŠŠ vue-router åŠ è¿›æ¥ï¼Œåªéœ€è¦é…ç½®ç»„ä»¶å’Œè·¯ç”±æ˜ å°„ï¼Œç„¶åå‘Šè¯‰ vue-router åœ¨å“ªé‡Œæ¸²æŸ“å®ƒä»¬</p></blockquote><p>ç»ˆç«¯åœ¨é¡¹ç›®è·¯å¾„ä¸‹æ‰§è¡Œ<code>npm install vue-router -S</code></p><p><code>vue-router</code>æ·»åŠ åˆ°äº†<code>package.json</code>çš„<code>dependencies</code>ä¸­</p><p><img src="http://okmneu7zl.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-02-14%20%E4%B8%8B%E5%8D%881.40.44.png"></p><blockquote><p><code>devDependencies</code>  é‡Œé¢çš„æ’ä»¶åªç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œè€Œ <code>dependencies</code>  æ˜¯éœ€è¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„ã€‚</p></blockquote><ul><li>æ–°å»º<code>/src/router</code>ç›®å½•ï¼Œå¹¶åœ¨ç›®å½•ä¸­æ–°å»º<code>index.js</code>ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> List <span class="keyword">from</span> <span class="string">&#x27;../views/list.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Add <span class="keyword">from</span> <span class="string">&#x27;../views/add.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    base: __dirname,</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            name: <span class="string">&#x27;list&#x27;</span>,       <span class="comment">//åç§°</span></span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">//è·¯å¾„</span></span><br><span class="line">            component: List     <span class="comment">//ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;add&#x27;</span>,</span><br><span class="line">            path: <span class="string">&#x27;/add&#x27;</span>,</span><br><span class="line">            component: Add</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;     <span class="comment">//åœ¨æ¯æ¬¡è·¯ç”±è·³è½¬ä¹‹å‰éƒ½ä¼šå…ˆæ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œå†é€šè¿‡è°ƒç”¨next()æ‰§è¡Œåç»­æ“ä½œ</span></span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;&#125;)      <span class="comment">//æ¯æ¬¡è·¯ç”±è·³è½¬ä¹‹åéƒ½ä¼šæ‰§è¡Œå…¶ä¸­çš„ä»£ç </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ç»™åˆ—è¡¨é¡µæŒ‡å®šè·¯å¾„ä¸º<code>/</code>ï¼Œæ·»åŠ é¡µä¸º<code>/add</code>ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<code>http://localhost:8080</code>æ—¶ï¼Œé»˜è®¤çš„å°±æ˜¯åˆ—è¡¨é¡µï¼Œ<code>http://localhost:8080/add</code>æ—¶ï¼Œå°±æ˜¯æ·»åŠ é¡µ</p><ul><li>ä¿®æ”¹<code>/src/app.js</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>å°†<code>/src/App.vue</code>ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨è¿™é‡Œ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">class</span>=<span class="string">&quot;view&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†åœ¨<code>&lt;router-view&gt;</code>ä¸­æ¸²æŸ“</p><p>å¥½äº†ï¼Œè¯•è¯•å§ï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°æ•ˆæœäº†</p><p><img src="http://okmneu7zl.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-02-14%20%E4%B8%8B%E5%8D%882.07.58.png"></p><p>ä½†æ˜¯æˆ‘ä»¬ç°åœ¨åªèƒ½é€šè¿‡åœ¨æµè§ˆå™¨è¾“å…¥åœ°å€æ¥åˆ‡æ¢é¡µé¢ï¼Œè¿™å¯ä¸è¡Œï¼Œæˆ‘ä»¬æ¥åŠ ä¸ªæŒ‰é’®</p><p>åœ¨<code>list.vue</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">       ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/add&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨<code>add.vue</code>ä¸­æ·»åŠ å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my-form</span> <span class="attr">:form</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">v-on:changeValue</span>=<span class="string">&quot;changeValue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>è¿”å›åˆ—è¡¨<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&lt;router-link&gt;</code>ä¸­<code>to</code>å†™çš„æ˜¯è¦è·³è½¬çš„è·¯å¾„</p><p>å¥½äº†ï¼Œæ·»åŠ å’Œåˆ—è¡¨é¡µå®Œæˆäº†ï¼Œä¸‹é¢æ¥åšç¼–è¾‘é¡µé¢</p><h3 id="ç¼–è¾‘é¡µé¢å’Œè·¯ç”±ä¼ å‚"><a href="#ç¼–è¾‘é¡µé¢å’Œè·¯ç”±ä¼ å‚" class="headerlink" title="ç¼–è¾‘é¡µé¢å’Œè·¯ç”±ä¼ å‚"></a>ç¼–è¾‘é¡µé¢å’Œè·¯ç”±ä¼ å‚</h3><ul><li>æ–°å»º<code>src/views/edit.vue</code>ï¼Œå¹¶å°†<code>add.vue</code>ä¸­çš„ä»£ç å¤åˆ¶è¿‡æ¥</li><li>åœ¨<code>/src/router/index.js</code>ä¸­æ·»åŠ <code>edit</code>ç»„ä»¶çš„è·¯ç”±æ˜ å°„ï¼Œä»£ç å¦‚ä¸‹</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> List <span class="keyword">from</span> <span class="string">&#x27;../views/list.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Add <span class="keyword">from</span> <span class="string">&#x27;../views/add.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Edit <span class="keyword">from</span> <span class="string">&#x27;../views/edit.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    base: __dirname,</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            name: <span class="string">&#x27;list&#x27;</span>,       <span class="comment">//åç§°</span></span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">//è·¯å¾„</span></span><br><span class="line">            component: List     <span class="comment">//ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;add&#x27;</span>,</span><br><span class="line">            path: <span class="string">&#x27;/add&#x27;</span>,</span><br><span class="line">            component: Add</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">&#x27;edit&#x27;</span>,</span><br><span class="line">            path: <span class="string">&#x27;/edit/:id&#x27;</span>,</span><br><span class="line">            component: Edit</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;     <span class="comment">//åœ¨æ¯æ¬¡è·¯ç”±è·³è½¬ä¹‹å‰éƒ½ä¼šå…ˆæ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œå†é€šè¿‡è°ƒç”¨next()æ‰§è¡Œåç»­æ“ä½œ</span></span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;&#125;)      <span class="comment">//æ¯æ¬¡è·¯ç”±è·³è½¬ä¹‹åéƒ½ä¼šæ‰§è¡Œå…¶ä¸­çš„ä»£ç </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>:id</code>æ˜¯ä»€ä¹ˆï¼Ÿä¸‹é¢è®²åˆ°</p><ul><li>åœ¨<code>/src/views/list.vue</code>ä¸­æ·»åŠ å¦‚ä¸‹ç¼–è¾‘æŒ‰é’®ï¼Œä»£ç å¦‚ä¸‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.gender&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.age&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;toEdit(item.id)&quot;</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/add&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; get &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/request.js&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123; ... &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123; ... &#125;,</span></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">toEdit</span>(<span class="params">id</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$router.push(&#123;</span></span><br><span class="line"><span class="javascript">                name: <span class="string">&#x27;edit&#x27;</span>,</span></span><br><span class="line">                params: &#123;</span><br><span class="line">                    id: id</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†<code>router</code>çš„å¦ä¸€ç§è·³è½¬æ–¹å¼ï¼Œç¼–ç¨‹å¼è·¯ç”±</p><p>å…¶ä¸­<code>name</code>å°±æ˜¯æˆ‘ä»¬åœ¨<code>/src/router/index.js</code>ä¸­è®¾ç½®çš„<code>name</code>ï¼Œè¿˜è®°å¾—å—ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    name: <span class="string">&#x27;edit&#x27;</span>,</span><br><span class="line">    path: <span class="string">&#x27;/edit/:id&#x27;</span>,</span><br><span class="line">    component: Edit</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>params</code>å°±æ˜¯æˆ‘ä»¬åœ¨è·¯ç”±è·³è½¬æ—¶ä¼ é€’ç»™<code>edit.vue</code>é¡µé¢çš„å‚æ•°ï¼Œ<code>id</code>å¯¹åº”çš„å°±æ˜¯ä¸Šé¢<code>path: &#39;/edit/:id&#39;,</code>ä¸­çš„<code>id</code></p><p>ä¸‹é¢æ¥å¤„ç†ç¼–è¾‘é¡µé¢ï¼Œä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my-form</span> <span class="attr">:form</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">v-on:changeValue</span>=<span class="string">&quot;changeValue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>è¿”å›åˆ—è¡¨<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> form <span class="keyword">from</span> <span class="string">&#x27;../components/form.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; get , put &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/request.js&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line">            form: &#123;</span><br><span class="line">                name: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å§“å&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;String&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                age: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Number&#x27;</span></span></span><br><span class="line">                &#125;,</span><br><span class="line">                gender: &#123;</span><br><span class="line"><span class="javascript">                    label: <span class="string">&#x27;æ€§åˆ«&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    value: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    type: <span class="string">&#x27;Select&#x27;</span></span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            rules: &#123;     <span class="comment">//æ ¡éªŒè§„åˆ™</span></span></span><br><span class="line">                name: [&#123;</span><br><span class="line">                        max: 10,</span><br><span class="line">                        min: 2,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—å¿…é¡»åœ¨2-10ä¸ªå­—ç¬¦ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;String&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;åå­—æ ¼å¼ä¸æ­£ç¡®&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                age: [&#123;</span><br><span class="line">                        max: 100,</span><br><span class="line">                        min: 0,</span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„å¿…é¡»åœ¨0-100å²ä¹‹é—´&#x27;</span></span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line"><span class="javascript">                        type: <span class="string">&#x27;Number&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                        message: <span class="string">&#x27;å¹´é¾„åªèƒ½æ˜¯æ•°å­—&#x27;</span></span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                gender: [&#123;</span><br><span class="line"><span class="javascript">                    value: [<span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;female&#x27;</span>],</span></span><br><span class="line"><span class="javascript">                    message: <span class="string">&#x27;è¯·é€‰æ‹©æ€§åˆ«&#x27;</span></span></span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            validateState: <span class="literal">true</span>, <span class="comment">//è¡¨å•æ ¡éªŒçŠ¶æ€</span></span></span><br><span class="line"><span class="javascript">            id:<span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.id = <span class="built_in">this</span>.$route.params.id  <span class="comment">//è·¯ç”±ä¸­ä¼ é€’è¿‡æ¥çš„å‚æ•°</span></span></span><br><span class="line"><span class="javascript">        get(<span class="string">`http://localhost:3000/user/<span class="subst">$&#123;<span class="built_in">this</span>.id&#125;</span>`</span>).then(<span class="function"><span class="params">response</span> =&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> response) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(key != <span class="string">&#x27;id&#x27;</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.form[key].value = response[key]</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.form);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">changeValue</span>(<span class="params">args</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> [field, value, validateState] = [...args]</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.form[field].value = value</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.validateState = validateState</span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">submit</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="built_in">this</span>.validateState)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> form = <span class="built_in">this</span>.form</span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> parms = &#123;</span></span><br><span class="line">                    name: form.name.value,</span><br><span class="line">                    age: form.age.value,</span><br><span class="line">                    gender: form.gender.value</span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                put(<span class="string">`http://localhost:3000/user/<span class="subst">$&#123;<span class="built_in">this</span>.id&#125;</span>`</span>,parms).then(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;ä¿®æ”¹æˆåŠŸ&quot;</span>)</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">&#x27;æ•°æ®é”™è¯¯ï¼Œè¯·ä¿®æ”¹åæäº¤&#x27;</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">        <span class="string">&#x27;my-form&#x27;</span>: form</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¼–è¾‘é¡µé¢å’Œæ·»åŠ çš„åŒºåˆ«åœ¨äºè¿›å…¥é¡µé¢æ—¶éœ€è¦é€šè¿‡<code>this.$route.params.id</code>è·å–åˆ—è¡¨é¡µä¼ è¿‡æ¥çš„<code>id</code>ï¼Œç„¶åé€šè¿‡<code>id</code>æŸ¥è¯¢å‡ºè¯¥ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶å¡«å……åœ¨formä¸­</p><p>è¿™é‡Œæˆ‘ä»¬è¿˜ä¿®æ”¹äº†<code>import &#123; get , put &#125; from &#39;../services/request.js&#39;</code>å’Œ<code>submit()</code>æ–¹æ³•ï¼Œæ³¨æ„ä¸è¦æ¼æ”¹äº†ï¼Œæˆ–è€…ç›´æ¥æ•´ä¸ªå¤åˆ¶è¿‡å»</p><p>å¥½äº†ï¼Œç°åœ¨ç¼–è¾‘é¡µé¢ä¹Ÿå®Œæˆäº†</p><h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><p>ç°åœ¨æ·»åŠ åˆ é™¤åŠŸèƒ½ï¼Œæœ‰äº†å‰é¢çš„ç¼–è¾‘ï¼Œåˆ é™¤ç›¸ä¿¡ä½ ä¸çœ‹æˆ‘çš„ä»£ç ä¹Ÿèƒ½å†™äº†ï¼Œè‡ªå·±å…ˆè¯•è¯•å§</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;index+1&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.gender&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.age&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;toEdit(item.id)&quot;</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;toDel(item.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/add&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; get , del &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/request.js&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123; ... &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123; ... &#125;,</span></span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">toEdit</span>(<span class="params">id</span>)</span> &#123; ... &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">toDel</span>(<span class="params">id</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            del(<span class="string">`http://localhost:3000/user/<span class="subst">$&#123;id&#125;</span>`</span>).then(<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                get(<span class="string">&#x27;http://localhost:3000/user&#x27;</span>).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.list = response</span></span><br><span class="line">                &#125;)</span><br><span class="line"><span class="javascript">                alert(<span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>)</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å®Œæˆç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥æ‰€æœ‰åŠŸèƒ½äº†ï¼Œä½†æ˜¯ç°åœ¨æ‰€æœ‰äººéƒ½å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®ï¼Œè¿™è‚¯å®šä¸è¡Œï¼Œæˆ‘ä»¬è¿˜éœ€è¦åŠ å…¥ç™»é™†éªŒè¯æ‰è¡Œ</p><h3 id="ç™»é™†å’ŒçŠ¶æ€ç®¡ç†-Vuex"><a href="#ç™»é™†å’ŒçŠ¶æ€ç®¡ç†-Vuex" class="headerlink" title="ç™»é™†å’ŒçŠ¶æ€ç®¡ç†(Vuex)"></a>ç™»é™†å’ŒçŠ¶æ€ç®¡ç†(Vuex)</h3><p><em><strong>æœªå®Œå¾…ç»­</strong></em></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mongooseå…¥é—¨</title>
      <link href="2017/02/07/Mongoose%E5%85%A5%E9%97%A8/"/>
      <url>2017/02/07/Mongoose%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><h3 id="å®‰è£…Node-jså’ŒMongoDB"><a href="#å®‰è£…Node-jså’ŒMongoDB" class="headerlink" title="å®‰è£…Node.jså’ŒMongoDB"></a>å®‰è£…Node.jså’ŒMongoDB</h3><p>å®‰è£…Node.jsï¼Œåœ°å€ï¼š<a href="https://nodejs.org/">https://nodejs.org/</a><br>å®‰è£…MongoDBï¼Œåœ°å€ï¼š<a href="https://www.mongodb.com/download-center?jmp=nav#community">https://www.mongodb.com/</a>    </p><h3 id="å¯åŠ¨MongoDB"><a href="#å¯åŠ¨MongoDB" class="headerlink" title="å¯åŠ¨MongoDB"></a>å¯åŠ¨MongoDB</h3><p>cdåˆ°mongodbä¸‹çš„binæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ<code>./mongod</code>å³å¯ï¼Œä½†æ˜¯æˆ‘ä»¬æ‰§è¡Œåä¼šå‡ºå¦‚ä¸‹é”™è¯¯<br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-131657.png"><br>è¿™é‡Œæç¤ºæˆ‘ä»¬æ²¡æœ‰/data/dbæ–‡ä»¶å¤¹ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±æ¥æ–°å»ºï¼Œè¿™é‡Œæˆ‘åœ¨mongodb-3.4.0ä¸‹æ–°å»ºäº†mydataæ–‡ä»¶å¤¹ï¼Œå¹¶é€šè¿‡<code>./mongod --dbpath ../mydata</code>å¯åŠ¨äº†MongoDBï¼Œ<code>--datapath</code>æ˜¯ç”¨æ¥æŒ‡å®šè·¯å¾„çš„<br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-133558@2x.png"><br>é‚£ä¹ˆè®©æˆ‘ä»¬æ¥ä½“éªŒä¸€ä¸‹mongodbå§ï¼Œé¦–å…ˆè¦æ–°å»ºä¸€ä¸ªtabï¼Œç„¶ååŒæ ·cdåˆ°binç›®å½•ä¸‹ï¼Œæ‰§è¡Œ<code>./mongo</code><br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-134433.png"><br>ç„¶åæˆ‘ä»¬åˆ‡å›ä¹‹å‰çš„tabå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªæ–°çš„è¿æ¥<br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-134649.png">   </p><h3 id="MongoDBåŸºç¡€å‘½ä»¤"><a href="#MongoDBåŸºç¡€å‘½ä»¤" class="headerlink" title="MongoDBåŸºç¡€å‘½ä»¤"></a>MongoDBåŸºç¡€å‘½ä»¤</h3><p><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-135808.png"><br>å› ä¸ºæˆ‘ä»¬åæœŸåŸºæœ¬ä¸ä¼šåœ¨shellé‡Œæ¥æ“ä½œï¼Œæ‰€æœ‰è¿™é‡Œåªè®²å‡ ä¸ªåŸºæœ¬çš„ï¼Œä¸‹é¢çš„testå¯ä»¥éšæ„å‘½åï¼Œæ˜¯é›†åˆå   </p><ul><li><code>db.test.insert()</code>åœ¨é›†åˆä¸­æ’å…¥ä¸€æ¡æ•°æ®   </li><li><code>db.test.find()</code>æŸ¥æ‰¾é›†åˆä¸­æ‰€æœ‰çš„ï¼Œå¯ä»¥åŠ å…¥å‚æ•°ï¼Œå¦‚<code>db.test.find(&#123;name:&quot;Jimmy&quot;&#125;)</code>  </li><li><code>db.test.remove(&#123;&#125;)</code>åˆ é™¤é›†åˆä¸­æ‰€æœ‰å…ƒç´ ï¼Œ<code>&#123;&#125;</code>å¿…é¡»å†™   </li><li><code>show collections</code>æŸ¥çœ‹æ‰€æœ‰é›†åˆ   </li></ul><h3 id="mongooseçš„å®‰è£…"><a href="#mongooseçš„å®‰è£…" class="headerlink" title="mongooseçš„å®‰è£…"></a>mongooseçš„å®‰è£…</h3><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé€šè¿‡<code>npm init</code>åˆå§‹åŒ–ï¼Œé€šè¿‡<code>npm install mongoose --save</code>å®‰è£…mongoose<br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170131-142334.png">   </p><h3 id="é€šè¿‡mongooseè¿æ¥æ•°æ®åº“"><a href="#é€šè¿‡mongooseè¿æ¥æ•°æ®åº“" class="headerlink" title="é€šè¿‡mongooseè¿æ¥æ•°æ®åº“"></a>é€šè¿‡mongooseè¿æ¥æ•°æ®åº“</h3><p>æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç å¹¶åœ¨shellè¿è¡Œ<code>node xxx.js</code>ï¼Œxxxä¸ºä½ çš„æ–‡ä»¶å</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>);</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¹‹ååœ¨ä¹‹å‰çš„mongodçš„tabä¸­çœ‹åˆ°æœ‰äº†ä¸€ä¸ªæ–°çš„è¿æ¥   </p><h2 id="Mongooseå…¥é—¨"><a href="#Mongooseå…¥é—¨" class="headerlink" title="Mongooseå…¥é—¨"></a>Mongooseå…¥é—¨</h2><h3 id="åˆ›å»ºç±»Classçš„æ–¹å¼"><a href="#åˆ›å»ºç±»Classçš„æ–¹å¼" class="headerlink" title="åˆ›å»ºç±»Classçš„æ–¹å¼"></a>åˆ›å»ºç±»Classçš„æ–¹å¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,userSchema)</span><br></pre></td></tr></table></figure><p><code>&quot;User&quot;</code>è¡¨ç¤ºç±»åï¼Œåœ¨æ•°æ®åº“ä¸­é›†åˆåä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºå°å†™åŠ s<code>users</code>      </p><p><code>userSchema</code>å®šä¹‰äº†å¯¹è±¡çš„åŸå‹   Â·</p><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>      </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>);</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line">userSchema = <span class="keyword">new</span> mongoose.Schema(&#123;  <span class="comment">//å¦‚æœåªéœ€è¦æŒ‡å®šç±»å‹çš„è¯å¯ä»¥ç›´æ¥å†™ï¼Œå¦‚æœéœ€è¦å…¶ä»–æ¡ä»¶ï¼Œéœ€è¦å†™æˆå¯¹è±¡çš„å½¢å¼</span></span><br><span class="line">    name:<span class="built_in">String</span>,</span><br><span class="line">    qq:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        <span class="keyword">default</span>:<span class="string">&quot;740534248&quot;</span> <span class="comment">//é»˜è®¤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,userSchema)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    name:<span class="string">&quot;YongMaple&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line">user.save()</span><br></pre></td></tr></table></figure><h3 id="æŒ‡å®šå¯¹è±¡çš„å±æ€§ç±»å‹"><a href="#æŒ‡å®šå¯¹è±¡çš„å±æ€§ç±»å‹" class="headerlink" title="æŒ‡å®šå¯¹è±¡çš„å±æ€§ç±»å‹"></a>æŒ‡å®šå¯¹è±¡çš„å±æ€§ç±»å‹</h3><ul><li><p>javascriptå†…ç½®ç±»å‹</p><ul><li>String</li><li>Number</li><li>Boolean</li><li>Date</li><li>Array   </li></ul></li><li><p>node.jså†…ç½®ç±»å‹</p><ul><li>Buffer</li></ul></li><li><p>mongooseç‰¹æœ‰ç±»å‹</p><ul><li>Mixed</li><li>ObjectId</li></ul></li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose  = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ObjSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    str : <span class="built_in">String</span>,</span><br><span class="line">    num : <span class="built_in">Number</span>,</span><br><span class="line">    bool : <span class="built_in">Boolean</span>,</span><br><span class="line">    arr : <span class="built_in">Array</span>,    <span class="comment">//[]</span></span><br><span class="line">    arr2 : [<span class="built_in">Date</span>],</span><br><span class="line">    arr3 : [<span class="built_in">String</span>],</span><br><span class="line">    time : <span class="built_in">Date</span>,</span><br><span class="line"></span><br><span class="line">    buf : Buffer,</span><br><span class="line"></span><br><span class="line">    mxo : mongoose.Schema.Types.Mixed,  <span class="comment">//&#123;&#125;    æ··åˆæ•°æ®ç±»å‹</span></span><br><span class="line">    oid : mongoose.Schema.Types.ObjectId    <span class="comment">//å”¯ä¸€çš„</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> obj = mongoose.model(<span class="string">&quot;obj&quot;</span>,ObjSchema)</span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> obj(&#123;</span><br><span class="line">    time : <span class="keyword">new</span> <span class="built_in">Date</span>( <span class="number">42342342344</span>),  <span class="comment">//å†…éƒ¨è‡ªåŠ¨è½¬åŒ–ä¸ºDateç±»å‹ï¼Œè½¬åŒ–å¤±è´¥å°†æŠ¥é”™</span></span><br><span class="line">    arr3 : [<span class="number">1234</span>,<span class="string">&quot;jimmy&quot;</span>,<span class="keyword">new</span> <span class="built_in">Date</span>],     <span class="comment">//å†…éƒ¨è‡ªåŠ¨è½¬åŒ– String</span></span><br><span class="line">    buf : <span class="keyword">new</span> Buffer([<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>]),</span><br><span class="line"></span><br><span class="line">    oid : mongoose.Types.ObjectId()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">o.save(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰ç±»å‹"><a href="#è‡ªå®šä¹‰ç±»å‹" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹"></a>è‡ªå®šä¹‰ç±»å‹</h3><p>ä½¿ç”¨è‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦ï¼š</p><ul><li>ç»§æ‰¿mongoose.SchemaType(key,options,typeName)</li><li>é‡å†™cast(value)æ–¹æ³•</li><li>åŠ å…¥mongoose.Schema.Types</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em><br>åˆ›å»ºUser.jsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//es5ç‰ˆ</span></span><br><span class="line"><span class="comment">// function User(key,options)&#123;</span></span><br><span class="line"><span class="comment">//     mongoose.SchemaType.call(this,key,options,&quot;User&quot;)</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// User.prototype = Object.create(mongoose.SchemaType.prototype)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// User.prototype.cast = function(val)&#123;</span></span><br><span class="line"><span class="comment">//     if(val.loginname &amp;&amp; val.password &amp;&amp; val.loginname.length &gt; 3)&#123;</span></span><br><span class="line"><span class="comment">//         return &#123;</span></span><br><span class="line"><span class="comment">//             loginname : val.loginname,</span></span><br><span class="line"><span class="comment">//             password : val.password</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;else&#123;</span></span><br><span class="line"><span class="comment">//         throw new Error(&quot;user has error!&quot;)</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// mongoose.Schema.Types.User = User;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// module.exports = User;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//es6ç‰ˆ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">mongoose</span>.<span class="title">SchemaType</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">key,opts</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(key,opts,<span class="string">&quot;User&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">cast</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(val.loginname &amp;&amp; val.password &amp;&amp; val.loginname.length &gt; <span class="number">3</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                loginname : val.loginname,</span><br><span class="line">                password : val.password</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&quot;user has error!&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†åˆ›å»ºä¸€ä¸ªdemo.jsæ–‡ä»¶æ¥ä½¿ç”¨ä¸Šé¢çš„User.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = <span class="built_in">require</span>(<span class="string">&quot;./User&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> People = mongoose.model(<span class="string">&quot;People&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    user:User</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> People(&#123;</span><br><span class="line">    user:&#123;</span><br><span class="line">        loginname:<span class="string">&quot;jimmy&quot;</span>,</span><br><span class="line">        password:<span class="string">&quot;123456&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">o.save(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰çš„é…ç½®"><a href="#æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰çš„é…ç½®" class="headerlink" title="æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰çš„é…ç½®"></a>æ‰€æœ‰ç±»å‹éƒ½å…·æœ‰çš„é…ç½®</h3><ul><li>å¼ºåˆ¶ä¸å¾—ä¸ºç©ºï¼ˆéªŒè¯å™¨ï¼‰   <ul><li>required:true</li></ul></li><li>è®¾ç½®å±æ€§é»˜è®¤å€¼   <ul><li>default:â€qq740534248â€</li></ul></li><li>æ˜¯å¦åŒ…æ‹¬åœ¨æŸ¥è¯¢ç»“æœä¸­   <ul><li>select:false</li></ul></li><li>getter å’Œ setter æ‹¦æˆªå™¨   <ul><li>get:v =&gt; v   </li><li>set:v =&gt; v   </li></ul></li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Obj = mongoose.model(<span class="string">&quot;Obj&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    str:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        <span class="keyword">default</span>:<span class="string">&quot;YongMaple&quot;</span>,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`my name is <span class="subst">$&#123;v&#125;</span>`</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">123</span>+v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    loginname:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        required:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    str2:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        select:<span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> Obj(&#123;</span><br><span class="line">    str:<span class="string">&quot;Jimmy&quot;</span>,</span><br><span class="line">    str2:<span class="string">&quot;111111&quot;</span>,</span><br><span class="line">    loginname:<span class="string">&quot;333333&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(o.str);     <span class="comment">//my name is 123Jimmy</span></span><br><span class="line"></span><br><span class="line">o.save(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">    Obj.findOne(&#123;&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(result);    <span class="comment">//&#123; _id: 58993a84a184201ce8ebf5f5, __v: 0, str: &#x27;123Jimmy&#x27; &#125;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¯¹å±æ€§çš„éªŒè¯å’Œè½¬æ¢"><a href="#å¯¹å±æ€§çš„éªŒè¯å’Œè½¬æ¢" class="headerlink" title="å¯¹å±æ€§çš„éªŒè¯å’Œè½¬æ¢"></a>å¯¹å±æ€§çš„éªŒè¯å’Œè½¬æ¢</h3><p><strong>éªŒè¯</strong></p><ul><li>æšä¸¾<ul><li>enum:Array</li></ul></li><li>æ­£åˆ™è¡¨è¾¾å¼éªŒè¯<ul><li>match</li></ul></li><li>é™åˆ¶å­—ç¬¦ä¸²æœ€å¤§å’Œæœ€å°é•¿åº¦<ul><li>maxlength &amp; minlength   </li></ul></li><li>Numberå’ŒDateçš„æœ€å¤§æœ€å°å€¼<ul><li>max &amp; min   </li></ul></li></ul><p><strong>è½¬æ¢</strong></p><ul><li>å­—æ¯å¤§å°å†™è½¬åŒ–<ul><li>lowercase &amp; uppercase</li></ul></li><li>å»é™¤å­—ç¬¦ä¸²å‰åç©ºç™½å­—ç¬¦<ul><li>trim:true/false</li></ul></li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose =<span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baseDateNum = <span class="built_in">Date</span>.now()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Obj = mongoose.model(<span class="string">&quot;Obj&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line"></span><br><span class="line">    str:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        enum:[<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    qq:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        match:<span class="regexp">/^\d*$/</span>,</span><br><span class="line">        maxlength:<span class="number">20</span>,</span><br><span class="line">        minlength:<span class="number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    lowerstr:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        lowercase:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    upperstr:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        uppercase:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    trimstr:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        trim:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    num:&#123;</span><br><span class="line">        type:<span class="built_in">Number</span>,</span><br><span class="line">        min:<span class="number">6</span>,</span><br><span class="line">        max:<span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    date:&#123;</span><br><span class="line">        type:<span class="built_in">Date</span>,</span><br><span class="line">        min:<span class="keyword">new</span> <span class="built_in">Date</span>(baseDateNum - <span class="number">1000</span>),</span><br><span class="line">        max:<span class="keyword">new</span> <span class="built_in">Date</span>(baseDateNum + <span class="number">2000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o = <span class="keyword">new</span> Obj(&#123;</span><br><span class="line">    str:<span class="string">&quot;bbb&quot;</span>,</span><br><span class="line">    qq:<span class="string">&quot;740534248&quot;</span>,</span><br><span class="line">    lowerstr:<span class="string">&quot;aaaAAAA&quot;</span>,</span><br><span class="line">    upperstr:<span class="string">&quot;bbbBBBB&quot;</span>,</span><br><span class="line">    trimstr:<span class="string">&quot;    aaa  aaff&quot;</span>,</span><br><span class="line">    num:<span class="number">6</span>,</span><br><span class="line">    date:<span class="keyword">new</span> <span class="built_in">Date</span>(baseDateNum+<span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(o);</span><br><span class="line"><span class="keyword">const</span> err = o.validateSync()    <span class="comment">//åŒæ­¥æ ¡éªŒï¼Œåé¢ä¼šè®²</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(err);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰éªŒè¯å™¨"><a href="#è‡ªå®šä¹‰éªŒè¯å™¨" class="headerlink" title="è‡ªå®šä¹‰éªŒè¯å™¨"></a>è‡ªå®šä¹‰éªŒè¯å™¨</h3><p>æœ‰ä¸‰ç§æ–¹å¼æ¥è‡ªå®šä¹‰éªŒè¯å™¨</p><ul><li>validate:{ validator:Function }</li><li>Class.schema.path(xxx).validate(fn)    //xxx è¡¨ç¤ºè¦è·å–çš„å±æ€§åï¼Œç„¶åå¯¹å…¶éªŒè¯</li><li>validator(v,[callback])åŒæ­¥éªŒè¯å™¨ï¼ŒåŠ å…¥ç¬¬äºŒä¸ªå‚æ•°callbackå˜ä¸ºå¼‚æ­¥éªŒè¯å™¨   </li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    name:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        <span class="comment">// validate:&#123;   //åŒæ­¥éªŒè¯å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„å½¢å¼ï¼ŒåŒæ—¶å¤šä¸ªéªŒè¯å™¨</span></span><br><span class="line">        <span class="comment">//     validator(value)&#123;</span></span><br><span class="line">        <span class="comment">//         return value.length &lt;= 9</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">User.schema.path(<span class="string">&quot;name&quot;</span>).validate(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v.length &lt;= <span class="number">9</span></span><br><span class="line">&#125;)</span><br><span class="line">User.schema.path(<span class="string">&quot;name&quot;</span>).validate(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;  <span class="comment">//å¯ä»¥åŠ å…¥å¤šä¸ª</span></span><br><span class="line">    <span class="keyword">return</span> v.length &gt; <span class="number">3</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> u = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    name:<span class="string">&quot;1234&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> err = u.validateSync()</span><br><span class="line"><span class="built_in">console</span>.log(err);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em><strong>å†ä¸¾ä¸ªå¼‚æ­¥çš„æ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    loginname:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        validate:&#123;</span><br><span class="line">            <span class="function"><span class="title">validator</span>(<span class="params">value,cb</span>)</span>&#123;</span><br><span class="line">                User.findOne(&#123;<span class="attr">loginname</span>:value&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">                    cb(!result)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    loginname:<span class="string">&quot;hahahaha&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line">user.save(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);   <span class="comment">//è¿è¡Œ2éï¼Œç¬¬äºŒéä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è·å–é”™è¯¯ä¿¡æ¯"><a href="#è·å–é”™è¯¯ä¿¡æ¯" class="headerlink" title="è·å–é”™è¯¯ä¿¡æ¯"></a>è·å–é”™è¯¯ä¿¡æ¯</h3><ul><li>doc.validate( error =&gt; error )    <em><strong>å¼‚æ­¥è·å¾—é”™è¯¯ä¿¡æ¯</strong></em></li><li>error = doc.validateSync()        <em><strong>è·å–åŒæ­¥é”™è¯¯ä¿¡æ¯</strong></em></li><li>doc.save( error =&gt; error )        <em><strong>å›è°ƒè·å¾—é”™è¯¯ä¿¡æ¯</strong></em></li><li>promise = doc.save()              <em><strong>promiseæ–¹å¼è·å¾—é”™è¯¯ä¿¡æ¯</strong></em></li><li>Class.update( query , update , { runValidators:true } , callback)   </li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    loginname:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        required:<span class="literal">true</span>,</span><br><span class="line">        validate:&#123;</span><br><span class="line">            <span class="function"><span class="title">validator</span>(<span class="params">value,cb</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    cb(<span class="literal">false</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> u = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    loginname:<span class="string">&quot;aaa11&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//1 åªèƒ½è·å¾—åŒæ­¥</span></span><br><span class="line"><span class="keyword">const</span> err = u.validateSync()</span><br><span class="line"><span class="built_in">console</span>.log(err);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 åŒæ­¥å¼‚æ­¥éƒ½èƒ½</span></span><br><span class="line"><span class="comment">// u.validate(function(err)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(err);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3 åŒæ­¥å¼‚æ­¥éƒ½èƒ½  æœ‰å¯èƒ½æ˜¯åº•å±‚ä¼ ä¸Šæ¥çš„é”™è¯¯</span></span><br><span class="line"><span class="comment">// u.save(function(err)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(err);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4 åŒæ­¥å¼‚æ­¥éƒ½èƒ½  æœ‰å¯èƒ½æ˜¯åº•å±‚ä¼ ä¸Šæ¥çš„é”™è¯¯</span></span><br><span class="line"><span class="comment">// const promise = u.save()</span></span><br><span class="line"><span class="comment">// promise.catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5 åŒæ­¥å¼‚æ­¥éƒ½èƒ½  æœ‰å¯èƒ½æ˜¯åº•å±‚ä¼ ä¸Šæ¥çš„é”™è¯¯</span></span><br><span class="line"><span class="comment">// User.update(&#123;&#125;,&#123;loginname:&quot;123aaa&quot;&#125;,&#123;runValidators:true&#125;,function(err)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(err);</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br></pre></td></tr></table></figure><h3 id="é”™è¯¯ä¿¡æ¯"><a href="#é”™è¯¯ä¿¡æ¯" class="headerlink" title="é”™è¯¯ä¿¡æ¯"></a>é”™è¯¯ä¿¡æ¯</h3><ul><li>err.errors    <em><strong>é”™è¯¯é›†åˆ</strong></em></li><li>err.errors.qq   <em><strong>å¾—åˆ°qqå±æ€§å€¼çš„é”™è¯¯ä¿¡æ¯</strong></em></li><li>{ path , value , message } = err.errors.qq   </li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,<span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    loginname:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        required:[<span class="literal">true</span>,<span class="string">&quot;å¿…é¡»è¾“å…¥ &#123;PATH&#125; - &#123;VALUE&#125;&quot;</span>], <span class="comment">//é™¤äº†enumä»¥å¤–æ‰€æœ‰å†…ç½®éªŒè¯å™¨éƒ½æ˜¯è¿™æ ·å†™</span></span><br><span class="line">        enum:&#123;<span class="attr">values</span>:[<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>],<span class="attr">message</span>:<span class="string">&quot;æ²¡åœ¨æšä¸¾ä¸­ã€‚ã€‚ã€‚ &#123;PATH&#125; - &#123;VALUE&#125;&quot;</span>&#125;,     <span class="comment">//æšä¸¾æ—¶ï¼Œè‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯å¯¹è±¡å½¢å¼</span></span><br><span class="line">        validate:&#123;      <span class="comment">//è‡ªå®šä¹‰æ ¡éªŒå™¨è¦è¿™æ ·å†™ï¼Œä¹Ÿæ˜¯å¯¹è±¡</span></span><br><span class="line">            <span class="function"><span class="title">validator</span>(<span class="params">value,cb</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    cb(<span class="literal">false</span>)   <span class="comment">//æ¨¡æ‹Ÿå¼‚æ­¥é”™è¯¯</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            message:<span class="string">&quot;æ ¡éªŒé”™è¯¯ &#123;PATH&#125; - &#123;VALUE&#125;&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    password:&#123;</span><br><span class="line">        type:<span class="built_in">String</span>,</span><br><span class="line">        required:[<span class="literal">true</span>,<span class="string">&quot;å¯†ç å¿…é¡»å¡«å†™&quot;</span>],</span><br><span class="line">        minlength:[<span class="number">6</span>,<span class="string">&quot;å¯†ç è‡³å°‘6ä½&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> u = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    loginname:<span class="string">&quot;aaa11&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">u.validate(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line"><span class="comment">//     const &#123;path,value,message&#125; = err.errors.loginname</span></span><br><span class="line"><span class="comment">//     console.log(path);</span></span><br><span class="line"><span class="comment">//     console.log(value);</span></span><br><span class="line"><span class="comment">//     console.log(message);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(err &amp;&amp; err.errors)&#123;</span><br><span class="line">        <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(err.errors)</span><br><span class="line">        <span class="keyword">let</span> str = <span class="string">&quot;&quot;</span></span><br><span class="line">        keys.map(<span class="function">(<span class="params">v,i</span>) =&gt;</span> &#123;</span><br><span class="line">            str += <span class="string">`<span class="subst">$&#123;v&#125;</span>:<span class="subst">$&#123;err.errors[v]&#125;</span>\n`</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//....</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¾‹å­ä¸­<code>&#123;PATH&#125;</code>å’Œ<code>&#123;VALUE&#125;</code>æ˜¯å±æ€§åå’Œå±æ€§å€¼</p><h3 id="åŠ å…¥æ–¹æ³•"><a href="#åŠ å…¥æ–¹æ³•" class="headerlink" title="åŠ å…¥æ–¹æ³•"></a>åŠ å…¥æ–¹æ³•</h3><ul><li>åŠ å…¥å®ä¾‹æ–¹æ³• schema.methods.xxx</li><li>åŠ å…¥é™æ€æ–¹æ³• schema.statics.xxx</li><li>åŠ å…¥è™šæ‹Ÿæ–¹æ³• getter/setteræ–¹æ³•<ul><li>virtual(â€˜xxxâ€™).get(handle)   </li><li>virtual(â€˜xxxâ€™).set(handle)   </li></ul></li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"><span class="keyword">const</span> userSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    firstName: <span class="built_in">String</span>,</span><br><span class="line">    secondName: <span class="built_in">String</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//methodså’Œstaticsçš„åŒºåˆ«åœ¨äºthisæ˜¯è°</span></span><br><span class="line">userSchema.methods.getAllName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27;.&#x27;</span> + <span class="built_in">this</span>.secondName   <span class="comment">//è¿™é‡Œçš„thisæŒ‡çš„æ˜¯å¯¹è±¡æœ¬èº«</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">userSchema.statics.getAll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;             <span class="comment">//å¯ä»¥åŠ å…¥å›è°ƒå‡½æ•°  function(cb)&#123;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.find(&#123;&#125;)     <span class="comment">//è¿™é‡Œçš„thisæŒ‡çš„æ˜¯Userç±»   å¯ä»¥åŠ å…¥å›è°ƒå‡½æ•°  this.find(&#123;&#125;,cb)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">userSchema.virtual(<span class="string">&quot;allname&quot;</span>).get(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27;.&#x27;</span> + <span class="built_in">this</span>.secondName</span><br><span class="line">&#125;)  <span class="comment">//getter method</span></span><br><span class="line"></span><br><span class="line">userSchema.virtual(<span class="string">&quot;allname&quot;</span>).set(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//Yong.Maple</span></span><br><span class="line">    <span class="keyword">const</span> names = v.split(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>.firstName = names[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">this</span>.secondName = names[<span class="number">1</span>];</span><br><span class="line">&#125;);  <span class="comment">//setter method</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,userSchema)</span><br><span class="line"></span><br><span class="line"><span class="comment">// const u = new User(&#123;</span></span><br><span class="line"><span class="comment">//     firstName:&quot;Yong &quot;,</span></span><br><span class="line"><span class="comment">//     secondName:&quot;Maple&quot;</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// console.log(u.getAllName());</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// User.remove(&#123;&#125;).then(()=&gt;&#123;</span></span><br><span class="line"><span class="comment">//     User.insertMany([</span></span><br><span class="line"><span class="comment">//         &#123;firstName:&quot;Yong&quot;,secondName:&quot;Maple&quot;&#125;,</span></span><br><span class="line"><span class="comment">//         &#123;firstName:&quot;Zhang&quot;,secondName:&quot;San&quot;&#125;,</span></span><br><span class="line"><span class="comment">//         &#123;firstName:&quot;Li&quot;,secondName:&quot;Si&quot;&#125;</span></span><br><span class="line"><span class="comment">//     ]).then(()=&gt;&#123;</span></span><br><span class="line"><span class="comment">//         User.getAll().then(result=&gt; console.log(result))</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    allname:<span class="string">&quot;Yong.Maple&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line">user.save()</span><br><span class="line"><span class="built_in">console</span>.log(user);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡çš„å¢åˆ æ”¹"><a href="#å¯¹è±¡çš„å¢åˆ æ”¹" class="headerlink" title="å¯¹è±¡çš„å¢åˆ æ”¹"></a>å¯¹è±¡çš„å¢åˆ æ”¹</h3><ul><li>obj.save / Class.create / Class.insertMany</li><li>obj.remove / Class.remove</li><li>obj.update / Class.update    </li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>,&#123;</span><br><span class="line">    name:&#123;<span class="attr">type</span>:<span class="built_in">String</span>,<span class="attr">maxlength</span>:<span class="number">10</span>&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">User.remove(&#123;&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// --------------save</span></span><br><span class="line">    <span class="comment">// const user = new User(&#123;name:&quot;JiaYongfeng&quot;&#125;)</span></span><br><span class="line">    <span class="comment">// const promise = user.save()</span></span><br><span class="line">    <span class="comment">// promise</span></span><br><span class="line">    <span class="comment">// .then(u =&gt; console.log(u))</span></span><br><span class="line">    <span class="comment">// .catch(err =&gt; console.log(err))</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// user.save(function (err,u)&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(err,u);</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --------------create     æˆåŠŸçš„ä¿å­˜ï¼Œå¤±è´¥çš„æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">    <span class="comment">// User.create(&#123;name:&quot;Jia&quot;&#125;,&#123;name:&quot;Yong&quot;&#125;)</span></span><br><span class="line">    <span class="comment">// .then(function(u1,u2)&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(u1,u2);</span></span><br><span class="line">    <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// User.create([&#123;name:&quot;Jia&quot;&#125;,&#123;name:&quot;Yong1111&quot;&#125;])</span></span><br><span class="line">    <span class="comment">// .then(function(arr)&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(arr);</span></span><br><span class="line">    <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ------------------insertMany     å¿…é¡»æ˜¯æ•°ç»„ï¼Œä¸€æ¡å¤±è´¥ï¼Œå…¨éƒ¨å¤±è´¥</span></span><br><span class="line">    <span class="comment">// User.insertMany([&#123;name:&quot;Jia&quot;&#125;,&#123;name:&quot;Yong&quot;&#125;])</span></span><br><span class="line">    <span class="comment">// .then(function(arr)&#123;</span></span><br><span class="line">    <span class="comment">//     console.log(arr);</span></span><br><span class="line">    <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --------------------remove</span></span><br><span class="line">    <span class="comment">// User.insertMany([&#123;name:&quot;Jia22&quot;&#125;,&#123;name:&quot;Jia33&quot;&#125;,&#123;name:&quot;Jiasasd&quot;&#125;,&#123;name:&quot;Yong&quot;&#125;])</span></span><br><span class="line">    <span class="comment">// .then(function(arr)&#123;</span></span><br><span class="line">    <span class="comment">//     User.remove(&#123;name:/^Jia\d*$/&#125;).then(r =&gt; console.log(r))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// User.remove(&#123;name:&quot;Jia&quot;&#125;).then(r =&gt; console.log(r))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// arr[0].remove()</span></span><br><span class="line">        <span class="comment">//     .then(obj =&gt; User.create(&#123;name:obj.name + &quot; ----- reborn&quot;&#125;))</span></span><br><span class="line">        <span class="comment">//     .catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// arr[0].remove(function(err,obj)&#123;</span></span><br><span class="line">        <span class="comment">//     console.log(err,obj);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// -----------------------update</span></span><br><span class="line">    User.insertMany([&#123;<span class="attr">name</span>:<span class="string">&quot;Jia22&quot;</span>&#125;,&#123;<span class="attr">name</span>:<span class="string">&quot;Jia33&quot;</span>&#125;,&#123;<span class="attr">name</span>:<span class="string">&quot;Jiasasd&quot;</span>&#125;,&#123;<span class="attr">name</span>:<span class="string">&quot;Yong&quot;</span>&#125;])</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">        User.update(&#123;&#125;,&#123;<span class="attr">name</span>:<span class="string">&quot;YongFeng&quot;</span>&#125;,&#123;<span class="attr">multi</span>:<span class="literal">true</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,result</span>)</span>&#123;      <span class="comment">//é»˜è®¤åªä¿®æ”¹ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å€¼,éœ€è¦ä¿®æ”¹å¤šä¸ªè¦åŠ &#123;multi:true&#125;</span></span><br><span class="line">            <span class="built_in">console</span>.log(err,result);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// console.log(&quot;before update  ==&gt;&quot;,arr[0]);</span></span><br><span class="line">        <span class="comment">// arr[0].update(&#123;name:&quot;123123123123fsdsdfddfsdfdsasdas&quot;&#125;,&#123;runValidators:true&#125;).then(function(result)&#123;</span></span><br><span class="line">        <span class="comment">//     console.log(result);</span></span><br><span class="line">        <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å­—æ®µæ›´æ”¹å‚æ•°"><a href="#å­—æ®µæ›´æ”¹å‚æ•°" class="headerlink" title="å­—æ®µæ›´æ”¹å‚æ•°"></a>å­—æ®µæ›´æ”¹å‚æ•°</h3><ul><li>$inc åŠ æ³•è¿ç®—</li><li>$mul ä¹˜æ³•è¿ç®—</li><li>$min / $max æ•°å€¼å’Œæ—¥æœŸçš„é™å®š</li><li>$currentDate è®¾å®šå½“å‰æ—¥æœŸ</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    money: &#123;</span><br><span class="line">        type: <span class="built_in">Number</span>,</span><br><span class="line">        <span class="keyword">default</span>: <span class="number">0.5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    accessNum: &#123;</span><br><span class="line">        type: <span class="built_in">Number</span>,</span><br><span class="line">        <span class="keyword">default</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    createTime: <span class="built_in">Date</span>,</span><br><span class="line">    updateTime: <span class="built_in">Date</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span></span><br><span class="line">    <span class="keyword">var</span> topic = <span class="keyword">new</span> Topic(&#123;</span><br><span class="line">        title: <span class="string">&quot;aa&quot;</span>,</span><br><span class="line">        body: <span class="string">&quot;content&quot;</span>,</span><br><span class="line">        createTime: date,</span><br><span class="line">        updateTime: date</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    topic.save(<span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        Topic.update(&#123;&#125;, &#123;</span><br><span class="line">            title: <span class="string">&quot;my js&quot;</span>,</span><br><span class="line"></span><br><span class="line">            $currentDate:&#123;  <span class="comment">//ä½¿ç”¨å½“å‰æ—¶é—´ä¿®æ”¹updateTimeçš„å€¼</span></span><br><span class="line">                updateTime:<span class="literal">true</span></span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            $min: &#123; <span class="comment">//æœ€å°å€¼ï¼Œå’Œå¹³æ—¶ç†è§£çš„ä¸ä¸€æ ·ï¼Œå¿…é¡»å°äº15ï¼Œä¸è¶…è¿‡15å˜æˆ15</span></span><br><span class="line">                accessNum: <span class="number">15</span>   <span class="comment">//15</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// $max: &#123; //æœ€å¤§å€¼ï¼Œå’Œå¹³æ—¶ç†è§£çš„ä¸ä¸€æ ·ï¼Œå¿…é¡»å¤§äº15ï¼Œä¸æ»¡15å˜æˆ15</span></span><br><span class="line">            <span class="comment">//     accessNum: 15   //15</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ¯ä¸ªå‚æ•°åªèƒ½åœ¨ä¸€ä¸ªç®—æ³•å½“ä¸­</span></span><br><span class="line">            <span class="comment">// $mul: &#123; //ä¹˜</span></span><br><span class="line">            <span class="comment">//     money: 3    //1.5</span></span><br><span class="line">            <span class="comment">// &#125;,</span></span><br><span class="line">            <span class="comment">// $inc: &#123; //åŠ </span></span><br><span class="line">            <span class="comment">//     accessNum: 2    //2</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„ç±»å‹å­—æ®µçš„æ›´æ”¹å‚æ•°"><a href="#æ•°ç»„ç±»å‹å­—æ®µçš„æ›´æ”¹å‚æ•°" class="headerlink" title="æ•°ç»„ç±»å‹å­—æ®µçš„æ›´æ”¹å‚æ•°"></a>æ•°ç»„ç±»å‹å­—æ®µçš„æ›´æ”¹å‚æ•°</h3><ul><li>$pop åˆ é™¤ä¸€æ¡æ•°æ®</li><li>$addToSet æ·»åŠ å»é‡æ•°æ®</li><li>$pull / $pullAll æ¸…é™¤</li><li>$push åŠ å…¥æ•°æ®</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, &#123;</span><br><span class="line">    arr: []</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    Topic.create(&#123;</span><br><span class="line">        arr: [<span class="number">11</span>, <span class="number">22</span>,<span class="number">11</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>, <span class="number">66</span>]</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  $popåˆ é™¤ä¸€ä¸ª</span></span><br><span class="line">        <span class="comment">// Topic.update(&#123;&#125;, &#123;</span></span><br><span class="line">        <span class="comment">//     $pop: &#123;</span></span><br><span class="line">        <span class="comment">//         arr: 1  //[11, 22, 33, 44, 55]  æ­£æ•°ä»åå¾€å‰ï¼Œè´Ÿæ•°ä»å‰å¾€å</span></span><br><span class="line">        <span class="comment">//         //arr: -1 //[ 22, 33, 44, 55, 66]</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;).exec()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  $addToSetæ·»åŠ ä¸é‡å¤</span></span><br><span class="line">        <span class="comment">// Topic.update(&#123;&#125;, &#123;</span></span><br><span class="line">        <span class="comment">//     $addToSet: &#123;</span></span><br><span class="line">        <span class="comment">//         // arr: 66     //å¦‚æœé‡å¤ï¼Œæ— æ³•æ·»åŠ </span></span><br><span class="line">        <span class="comment">//         // arr: [77,88]    //[11, 22, 33, 44, 55, 66, [77,88]]å¹¶ä¸æ˜¯é¢„æœŸçš„æ•ˆæœ</span></span><br><span class="line">        <span class="comment">//         arr: &#123;</span></span><br><span class="line">        <span class="comment">//             $each: [77, 88]     //[ 11, 22, 33, 44, 55, 66, 77, 88 ]</span></span><br><span class="line">        <span class="comment">//         &#125;</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;).exec()</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  $pullåˆ é™¤ä¸€ç§æ•°æ®</span></span><br><span class="line">        <span class="comment">// Topic.update(&#123;&#125;,&#123;</span></span><br><span class="line">        <span class="comment">//     $pull:&#123;</span></span><br><span class="line">        <span class="comment">//         arr:11  //[ 22, 33, 44, 55, 66 ]</span></span><br><span class="line">        <span class="comment">//         // arr:[11,22] //æ— æ•ˆçš„</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;).exec()</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  $pullAllåˆ é™¤å¤šç§æ•°æ®</span></span><br><span class="line">        <span class="comment">// Topic.update(&#123;&#125;,&#123;</span></span><br><span class="line">        <span class="comment">//     $pullAll:&#123;</span></span><br><span class="line">        <span class="comment">//         arr:[11,22]  //[ 33, 44, 55, 66 ]</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;).exec()</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//  $pushæ·»åŠ æ•°æ®ï¼Œå¯ä»¥é‡å¤</span></span><br><span class="line">        Topic.update(&#123;&#125;,&#123;</span><br><span class="line">            $push:&#123;</span><br><span class="line">                <span class="comment">// arr:66  //[ 11, 22, 11, 33, 44, 55, 66, 66 ]</span></span><br><span class="line">                arr:&#123;</span><br><span class="line">                    $each: [<span class="number">77</span>, <span class="number">88</span>],</span><br><span class="line">                    $position:<span class="number">0</span>,     <span class="comment">//ä»æŒ‡å®šä½ç½®å¼€å§‹æ·»åŠ [ 77, 88, 11, 22, 11, 33, 44, 55, 66 ]</span></span><br><span class="line">                    $slice:-<span class="number">3</span>        <span class="comment">//æˆªå–æ•°ç»„ï¼Œæ­£æ•°ä»å‰æˆªå–ï¼Œè´Ÿæ•°ä»åæˆªå–</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).exec()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡çš„åŸºç¡€æŸ¥è¯¢"><a href="#å¯¹è±¡çš„åŸºç¡€æŸ¥è¯¢" class="headerlink" title="å¯¹è±¡çš„åŸºç¡€æŸ¥è¯¢"></a>å¯¹è±¡çš„åŸºç¡€æŸ¥è¯¢</h3><ul><li>find(conditions , [projection] , [options] , [callback])</li><li>findById</li><li>findByIdAndRemove / findByIdAndUpdate</li><li>findOne</li><li>findOneAndRemove / findOneAndUpdate</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        maxlength: <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">    arr.push(&#123;</span><br><span class="line">        name: <span class="string">&quot;Jimmy&quot;</span> + i</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Topic.create(arr).then(<span class="function"><span class="keyword">function</span>(<span class="params">objs</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> id = objs[<span class="number">0</span>].id</span><br><span class="line">        <span class="comment">// Topic.findById(id, function(err, t) &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(t);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Topic.findByIdAndRemove(id, function(err, t) &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(t);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Topic.findByIdAndUpdate(id, &#123;</span></span><br><span class="line">        <span class="comment">//     name: &quot;hahahaha111111111&quot;</span></span><br><span class="line">        <span class="comment">// &#125;, &#123;</span></span><br><span class="line">        <span class="comment">//     runValidators: true</span></span><br><span class="line">        <span class="comment">// &#125;, function(err, t) &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(err, t);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        <span class="comment">// ä¸Šé¢è¿™ä¸ªå’Œè¿™ä¸ªä¸€æ ·çš„æ•ˆæœ</span></span><br><span class="line">        <span class="comment">// Topic.findByIdAndUpdate(id, &#123;</span></span><br><span class="line">        <span class="comment">//     name: &quot;hahahaha111111111&quot;</span></span><br><span class="line">        <span class="comment">// &#125;, &#123;</span></span><br><span class="line">        <span class="comment">//     runValidators: true</span></span><br><span class="line">        <span class="comment">// &#125;).then(function(t) &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(t);</span></span><br><span class="line">        <span class="comment">// &#125;).catch(err =&gt; console.log(err))</span></span><br><span class="line">        <span class="comment">// æ•ˆæœè¿˜æ˜¯ä¸€æ ·çš„ï¼Œé”™è¯¯äº¤ç”±å¤–éƒ¨å¤„ç†</span></span><br><span class="line">        <span class="comment">// return Topic.findByIdAndUpdate(id, &#123;</span></span><br><span class="line">        <span class="comment">//     name: &quot;hahahaha111111111&quot;</span></span><br><span class="line">        <span class="comment">// &#125;, &#123;</span></span><br><span class="line">        <span class="comment">//     runValidators: true</span></span><br><span class="line">        <span class="comment">// &#125;).then(function(t) &#123;</span></span><br><span class="line">        <span class="comment">//     console.log(t);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Topic.findOne(&#123;name:/^Jimmy1\d$/&#125;,function(err,t)&#123;  //è¿”å›æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ª</span></span><br><span class="line">        <span class="comment">//     console.log(t);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Topic.find(&#123;&#125;,function(err,ts)&#123;</span></span><br><span class="line">        <span class="comment">//     console.log(ts);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        <span class="comment">// Topic.find(&#123;name:/^Jimmy1\d$/&#125;,function(err,ts)&#123;</span></span><br><span class="line">        <span class="comment">//     console.log(ts);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        <span class="comment">// Topic.find(&#123;name:/^Jimmy1\d$/&#125;,&quot;_id name&quot;,function(err,ts)&#123;  //ç¬¬äºŒä¸ªå‚æ•°å†³å®šè¿”å›ç»“æœå¸¦æœ‰çš„å±æ€§ï¼Œç”¨ç©ºæ ¼åˆ†å‰²ï¼Œå¦‚æœåœ¨å±æ€§å‰åŠ -ï¼Œåˆ™è¡¨ç¤ºä¸è¿”å›è¿™ä¸ªå±æ€§</span></span><br><span class="line">        <span class="comment">//     console.log(ts);</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line">        Topic.find(&#123;<span class="attr">name</span>:<span class="regexp">/^Jimmy1\d$/</span>&#125;,<span class="literal">null</span>,&#123;<span class="attr">skip</span>:<span class="number">5</span>,<span class="attr">limit</span>:<span class="number">3</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,ts</span>)</span>&#123; <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¯¹ç»“æœçš„ç­›é€‰ï¼ŒskipæŒ‡è·³è¿‡å‡ ä¸ªï¼ŒlimitæŒ‡æœ€å¤šè¿”å›å‡ ä¸ªï¼Œç»“åˆè¿™ä¸¤ä¸ªå¯ä»¥å®ç°ç¿»é¡µåŠŸèƒ½</span></span><br><span class="line">            <span class="built_in">console</span>.log(ts);</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ¯”è¾ƒå¼æŸ¥è¯¢"><a href="#æ¯”è¾ƒå¼æŸ¥è¯¢" class="headerlink" title="æ¯”è¾ƒå¼æŸ¥è¯¢"></a>æ¯”è¾ƒå¼æŸ¥è¯¢</h3><ul><li>å¤§å°åˆ¤æ–­<ul><li>$eq ç­‰äº</li><li>$gt å¤§äº</li><li>$gte å¤§äºç­‰äº</li><li>$lt å°äº</li><li>$lte å°äºç­‰äº</li></ul></li><li>$ne ä¸æ˜¯</li><li>$in åŒ…å«</li><li>$nin ä¸åŒ…å«</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        maxlength: <span class="number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    num: <span class="built_in">Number</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">    arr.push(&#123;</span><br><span class="line">        name: <span class="string">&quot;Jimmy&quot;</span> + i,</span><br><span class="line">        num: i</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Topic.create(arr).then(<span class="function"><span class="keyword">function</span>(<span class="params">objs</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        Topic.find(&#123;</span><br><span class="line">            num: &#123;</span><br><span class="line">                <span class="comment">// $lt: 20,    //å°äº20</span></span><br><span class="line">                <span class="comment">// $lte:20,    //å°äºç­‰äº20</span></span><br><span class="line">                <span class="comment">// $gt:10,      //å¤§äº10</span></span><br><span class="line">                <span class="comment">// $gte:10,     //å¤§äºç­‰äº10</span></span><br><span class="line">                <span class="comment">// $in: [11, 15], //å€¼ç­‰äº11æˆ–15</span></span><br><span class="line">                <span class="comment">// $nin: [11, 15], //å€¼ä¸ç­‰äº11æˆ–15</span></span><br><span class="line">                <span class="comment">// $ne: 2, //ä¸ç­‰äº2çš„ï¼Œåªèƒ½ä¸€ä¸ªå€¼</span></span><br><span class="line">                $eq: <span class="number">2</span>, <span class="comment">//ç­‰äº2çš„</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, ts</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(ts);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="é€»è¾‘å¼æŸ¥è¯¢"><a href="#é€»è¾‘å¼æŸ¥è¯¢" class="headerlink" title="é€»è¾‘å¼æŸ¥è¯¢"></a>é€»è¾‘å¼æŸ¥è¯¢</h3><ul><li>$or æˆ–</li><li>$nor ($orç›¸å)</li><li>$and å’Œ</li><li>$not å¦</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        maxlength: <span class="number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    num: <span class="built_in">Number</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">    arr.push(&#123;</span><br><span class="line">        name: <span class="string">&quot;Jimmy&quot;</span> + i,</span><br><span class="line">        num: i</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Topic.create(arr).then(<span class="function"><span class="keyword">function</span>(<span class="params">objs</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        Topic.find(&#123;</span><br><span class="line">            <span class="comment">// $or: [&#123;     //æ»¡è¶³ä¸€ä¸ªæ¡ä»¶å°±ä¼šè¿”å›</span></span><br><span class="line">            <span class="comment">//     name: &quot;Jimmy1&quot;</span></span><br><span class="line">            <span class="comment">// &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//     num: 4</span></span><br><span class="line">            <span class="comment">// &#125;,&#123;</span></span><br><span class="line">            <span class="comment">//     num: 6</span></span><br><span class="line">            <span class="comment">// &#125;]</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// $nor: [&#123;        //ä¸æ»¡è¶³æ‰€æœ‰æ¡ä»¶å°±è¿”å›</span></span><br><span class="line">            <span class="comment">//     name: &quot;Jimmy1&quot;</span></span><br><span class="line">            <span class="comment">// &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//     num: 4</span></span><br><span class="line">            <span class="comment">// &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//     num: 6</span></span><br><span class="line">            <span class="comment">// &#125;]</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// $and: [&#123;        //æ»¡è¶³æ‰€æœ‰æ¡ä»¶æ‰è¿”å›</span></span><br><span class="line">            <span class="comment">//     name: /^Jimmy1\d$/</span></span><br><span class="line">            <span class="comment">// &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//     num: &#123;</span></span><br><span class="line">            <span class="comment">//         $lte:15</span></span><br><span class="line">            <span class="comment">//     &#125;</span></span><br><span class="line">            <span class="comment">// &#125;]</span></span><br><span class="line">            <span class="comment">// $and: [&#123;        //å¯ä»¥æ··åˆä½¿ç”¨</span></span><br><span class="line">            <span class="comment">//     $or: [&#123;</span></span><br><span class="line">            <span class="comment">//         name: &quot;Jimmy1&quot;</span></span><br><span class="line">            <span class="comment">//     &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//         num: 4</span></span><br><span class="line">            <span class="comment">//     &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//         num: 6</span></span><br><span class="line">            <span class="comment">//     &#125;]</span></span><br><span class="line">            <span class="comment">// &#125;, &#123;</span></span><br><span class="line">            <span class="comment">//     num: 4</span></span><br><span class="line">            <span class="comment">// &#125;]</span></span><br><span class="line"></span><br><span class="line">            num: &#123;</span><br><span class="line">                $not: &#123; <span class="comment">//ä¸æ»¡è¶³æ¡ä»¶çš„è¿”å›</span></span><br><span class="line">                    $gte: <span class="number">10</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, ts</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(ts);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„ä¸“ç”¨æŸ¥è¯¢"><a href="#æ•°ç»„ä¸“ç”¨æŸ¥è¯¢" class="headerlink" title="æ•°ç»„ä¸“ç”¨æŸ¥è¯¢"></a>æ•°ç»„ä¸“ç”¨æŸ¥è¯¢</h3><ul><li>$all æ˜¯å¦åŒ…å«æŸ¥è¯¢æ¡ä»¶</li><li>$elemMatch æ•°ç»„å…ƒç´ æŸ¥è¯¢æ¡ä»¶</li><li>$size æ•°ç»„å¤§å°æŸ¥è¯¢æ¡ä»¶</li><li>$where å…¶ä»–</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"><span class="comment">//$all&amp;$elemMatch</span></span><br><span class="line"><span class="comment">// const Topic = mongoose.model(&quot;Topic&quot;, &#123;</span></span><br><span class="line"><span class="comment">//     arr: []</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//$all</span></span><br><span class="line"><span class="comment">// Topic.remove(&#123;&#125;, function() &#123;</span></span><br><span class="line"><span class="comment">//     Topic.create([&#123;</span></span><br><span class="line"><span class="comment">//             arr: [11, 22, 33]</span></span><br><span class="line"><span class="comment">//         &#125;,</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             arr: [33, 44, 55]</span></span><br><span class="line"><span class="comment">//         &#125;,</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             arr: [55, 66, 77, 88]</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ]).then(function() &#123;</span></span><br><span class="line"><span class="comment">//         Topic.find(&#123;</span></span><br><span class="line"><span class="comment">//             arr: &#123;</span></span><br><span class="line"><span class="comment">//                 $all: [33, 44] //éƒ½å­˜åœ¨çš„è¿”å›</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;).then((result) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//             console.log(result);</span></span><br><span class="line"><span class="comment">//         &#125;)</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//$elemMatch</span></span><br><span class="line"><span class="comment">// function generatorArr(size) &#123;</span></span><br><span class="line"><span class="comment">//     let arr = []</span></span><br><span class="line"><span class="comment">//     for (let i = 0; i &lt; size; i++) &#123;</span></span><br><span class="line"><span class="comment">//         arr.push(&#123;</span></span><br><span class="line"><span class="comment">//             name: &quot;Jimmy&quot; + i,</span></span><br><span class="line"><span class="comment">//             num: i</span></span><br><span class="line"><span class="comment">//         &#125;)</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     return arr</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Topic.remove(&#123;&#125;, function() &#123;</span></span><br><span class="line"><span class="comment">//     Topic.create([&#123;</span></span><br><span class="line"><span class="comment">//             arr: generatorArr(5)</span></span><br><span class="line"><span class="comment">//         &#125;,</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             arr: generatorArr(10)</span></span><br><span class="line"><span class="comment">//         &#125;,</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             arr: generatorArr(15)</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     ]).then(function() &#123;</span></span><br><span class="line"><span class="comment">//         Topic.find(&#123;</span></span><br><span class="line"><span class="comment">//             arr: &#123;</span></span><br><span class="line"><span class="comment">//                 // $elemMatch: &#123;       //åŒ¹é…æ•°ç»„å†…éƒ¨å…ƒç´ çš„æ•°æ®</span></span><br><span class="line"><span class="comment">//                 //     name: &quot;Jimmy9&quot;</span></span><br><span class="line"><span class="comment">//                 // &#125;</span></span><br><span class="line"><span class="comment">//                 $size: 5        //åŒ¹é…æ•°ç»„length</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//         &#125;).then((result) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//             console.log(result);</span></span><br><span class="line"><span class="comment">//         &#125;)</span></span><br><span class="line"><span class="comment">//     &#125;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//$where</span></span><br><span class="line"><span class="keyword">const</span> Topic = mongoose.model(<span class="string">&quot;Topic&quot;</span>, &#123;</span><br><span class="line">    obj: &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line">Topic.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Topic.create([&#123;</span><br><span class="line">        obj: &#123;</span><br><span class="line">            name: <span class="string">&quot;java&quot;</span>,</span><br><span class="line">            num: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        obj: &#123;</span><br><span class="line">            name: <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">            num: <span class="number">2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        obj: &#123;</span><br><span class="line">            name: <span class="string">&quot;nodejs&quot;</span>,</span><br><span class="line">            num: <span class="number">3</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        Topic.find(&#123;</span><br><span class="line">            <span class="comment">// $where: &quot;this.obj.name === &#x27;java&#x27;&quot;      //ç›´æ¥å†™js</span></span><br><span class="line">            $where: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="regexp">/^java\w*$/</span>.test(<span class="built_in">this</span>.obj.name) &amp;&amp; <span class="built_in">this</span>.obj.num === <span class="number">2</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="literal">null</span>, &#123; <span class="comment">//åŒæ ·å¯ä»¥æ··åˆä½¿ç”¨</span></span><br><span class="line">            limit: <span class="number">2</span>,</span><br><span class="line">            skip: <span class="number">0</span></span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(result);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="QueryæŸ¥è¯¢é£æ ¼"><a href="#QueryæŸ¥è¯¢é£æ ¼" class="headerlink" title="QueryæŸ¥è¯¢é£æ ¼"></a>QueryæŸ¥è¯¢é£æ ¼</h3><p>å¦ä¸€ç§é£æ ¼çš„å†™æ³•ï¼Œä½œä¸ºäº†è§£ï¼Œä¸‹é¢ä¾‹å­å°†ä¼šæ”¹å†™ä¸Šé¢çš„ä¾‹å­<br><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">Topic.create([&#123;</span><br><span class="line">        arr: [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        arr: [<span class="number">33</span>, <span class="number">44</span>, <span class="number">55</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        arr: [<span class="number">55</span>, <span class="number">66</span>, <span class="number">77</span>, <span class="number">88</span>]</span><br><span class="line">    &#125;</span><br><span class="line">]).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> query = Topic.find()</span><br><span class="line">    query.where(<span class="string">&quot;arr&quot;</span>)</span><br><span class="line">        .all([<span class="number">33</span>,<span class="number">44</span>])</span><br><span class="line">        .limit(<span class="number">3</span>)</span><br><span class="line">        .skip(<span class="number">10</span>)</span><br><span class="line">        .select(<span class="string">&quot;name age&quot;</span>)</span><br><span class="line">        .exec(<span class="function"><span class="keyword">function</span> (<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(result)</span><br><span class="line">        &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//elemMatchçš„queryå†™æ³•</span></span><br><span class="line">Topic.create([&#123;</span><br><span class="line">        arr: generatorArr(<span class="number">5</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        arr: generatorArr(<span class="number">10</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        arr: generatorArr(<span class="number">15</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Topic.find()</span><br><span class="line">    .where(<span class="string">&quot;arr&quot;</span>)</span><br><span class="line">    .elemMatch(&#123;<span class="attr">name</span>:<span class="string">&quot;Jimmy9&quot;</span>&#125;)</span><br><span class="line">    .exec(<span class="function"><span class="keyword">function</span> (<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(result)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¦ä¸€ç§å†™æ³•</span></span><br><span class="line">    Topic.find()</span><br><span class="line">    .where(<span class="string">&quot;arr&quot;</span>)</span><br><span class="line">    .elemMatch(<span class="function"><span class="keyword">function</span> (<span class="params">elem</span>)</span>&#123;</span><br><span class="line">        elem.where(<span class="string">&quot;name&quot;</span>).eq(<span class="string">&quot;Jimmy9&quot;</span>).where(<span class="string">&quot;num&quot;</span>).gte() ....</span><br><span class="line">    &#125;)</span><br><span class="line">    .exec(<span class="function"><span class="keyword">function</span> (<span class="params">err,result</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(result)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å…·ä½“å¯ä»¥æŸ¥çœ‹æ–‡æ¡£<a href="http://mongoosejs.com/docs/queries.html">http://mongoosejs.com/docs/queries.html</a></p><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><p>ä¼šè§¦å‘ä¸­é—´ä»¶çš„ï¼š</p><ul><li>validate</li><li>doc.save</li><li>Class.create / Class.insertMany</li><li>doc.update</li><li>doc.remove</li><li>find</li><li>findOne</li><li>findAndRemove / findOneAndUpdate</li></ul><p><em><strong>ä¸¾ä¸ªæ —å­</strong></em>   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&quot;mongoose&quot;</span>)</span><br><span class="line"></span><br><span class="line">mongoose.connect(<span class="string">&quot;mongodb://localhost/test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        maxlength: <span class="number">5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">userSchema.pre(<span class="string">&quot;validate&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;pre validate&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.errors);</span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.post(<span class="string">&quot;validate&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(this.errors?this.errors.name.message:this.errors);</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;post validate&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// userSchema.pre(&quot;save&quot;, function(next) &#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;pre save one&quot;);</span></span><br><span class="line"><span class="comment">//     next()</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line">userSchema.pre(<span class="string">&quot;save&quot;</span>,<span class="literal">true</span>, <span class="function"><span class="keyword">function</span>(<span class="params">next,done</span>) </span>&#123;    <span class="comment">//é»˜è®¤ä¸åŠ trueï¼ŒåŠ trueè¡¨ç¤ºå¹¶è¡Œ,åœ¨æ‰§è¡Œå®Œæ‰€æœ‰çš„preä¹‹ååœ¨æ‰§è¡Œåé¢çš„ï¼Œæ²¡ä»€ä¹ˆåµç”¨çš„åŠŸèƒ½ï¼Œå®Œå…¨èƒ½ç”¨nextæ¥æ§åˆ¶</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;pre save one&quot;</span>);</span><br><span class="line">    next()</span><br><span class="line">    <span class="built_in">setTimeout</span>(done,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.pre(<span class="string">&quot;save&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;pre save two&quot;</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(next,<span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.post(<span class="string">&quot;save&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;post save&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.pre(<span class="string">&quot;update&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;pre update&quot;</span>);</span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.post(<span class="string">&quot;update&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;post update&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">userSchema.pre(<span class="string">&quot;remove&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;pre remove&quot;</span>);</span><br><span class="line">    next()</span><br><span class="line">&#125;)</span><br><span class="line">userSchema.post(<span class="string">&quot;remove&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;post remove&quot;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> User = mongoose.model(<span class="string">&quot;User&quot;</span>, userSchema)</span><br><span class="line"></span><br><span class="line">User.remove(&#123;&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> user = <span class="keyword">new</span> User(&#123;</span><br><span class="line">        name: <span class="string">&quot;Jia&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    user.save(<span class="function"><span class="keyword">function</span>(<span class="params">err, u</span>) </span>&#123;</span><br><span class="line">        u.update(&#123;</span><br><span class="line">            name: <span class="string">&quot;Jimmy&quot;</span></span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">            u.remove()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><em><strong>END</strong></em></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mongodb </tag>
            
            <tag> mongoose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOSè®¾ç½®document.titleæ— æ•ˆçš„è§£å†³åŠæ³•</title>
      <link href="2017/02/04/IOS%E8%AE%BE%E7%BD%AEdocument-title%E6%97%A0%E6%95%88%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"/>
      <url>2017/02/04/IOS%E8%AE%BE%E7%BD%AEdocument-title%E6%97%A0%E6%95%88%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜åŸå› ï¼š"><a href="#é—®é¢˜åŸå› ï¼š" class="headerlink" title="é—®é¢˜åŸå› ï¼š"></a>é—®é¢˜åŸå› ï¼š</h2><p>å› ä¸ºæµè§ˆå™¨é¦–æ¬¡åŠ è½½é¡µé¢åˆå§‹åŒ–titleåï¼Œå°±å†ä¹Ÿä¸ç›‘å¬ document.titleçš„changeäº‹ä»¶ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><p>ä¿®æ”¹titleä¹‹åï¼Œç»™é¡µé¢åŠ ä¸Šä¸€ä¸ªå†…å®¹ä¸ºç©ºçš„iframeï¼Œéšåç«‹å³åˆ é™¤è¿™ä¸ªiframeï¼Œè¿™æ—¶å€™ä¼šåˆ·æ–°titleã€‚ä½†æ˜¯å¦‚æœç®€å•çš„è¿™æ ·è®¾ç½®ï¼Œä¸€èˆ¬æ˜¯ä¼šæœ‰é—ªåŠ¨çš„ï¼Œæ‰€ä»¥å¯ä»¥è®¾ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">setTitle: <span class="function"><span class="keyword">function</span>(<span class="params">title</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> $body = $(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">    <span class="built_in">document</span>.title = title</span><br><span class="line">    <span class="keyword">let</span> $iframe = $(<span class="string">&#x27;&lt;iframe src=&quot;/favicon.ico&quot;&gt;&lt;/iframe&gt;&#x27;</span>)</span><br><span class="line">    $iframe.on(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        $iframe.off(<span class="string">&#x27;load&#x27;</span>).remove()</span><br><span class="line">      &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;).appendTo($body)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å‚è€ƒåœ°å€ï¼š<a href="http://www.cnblogs.com/lihanying/p/6227192.html">http://www.cnblogs.com/lihanying/p/6227192.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> title </tag>
            
            <tag> ios </tag>
            
            <tag> æ‰‹æœºç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iTerm2é…è‰²ä¿®æ”¹</title>
      <link href="2017/02/04/iTerm2%E9%85%8D%E8%89%B2%E4%BF%AE%E6%94%B9/"/>
      <url>2017/02/04/iTerm2%E9%85%8D%E8%89%B2%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<ol><li>é¦–å…ˆ<code>sudo vim ~/.bash_profile</code>ï¼Œè¾“å…¥å¯†ç åæŒ‰eè¿›å…¥ç¼–è¾‘ï¼Œçœ‹åˆ«äººçš„å¸–å­æ˜¯ä¸éœ€è¦sudoçš„ã€‚ã€‚ã€‚ä½†æ˜¯æˆ‘éœ€è¦</li><li>ç„¶åiè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ŒåŠ å…¥ä¸‹é¢è¿™æ®µï¼Œç„¶å<code>esc</code>è¾“å…¥<code>:wq</code>ä¿å­˜   <span id="more"></span><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#enables colorin the terminal bash <span class="keyword">shell</span> export</span><br><span class="line">export CLICOLOR=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">#sets <span class="keyword">up</span> thecolor scheme <span class="keyword">for</span> <span class="keyword">list</span> export</span><br><span class="line">export LSCOLORS=gxfxcxdxbxegedabagacad</span><br><span class="line"></span><br><span class="line">#sets <span class="keyword">up</span> theprompt color (currently <span class="keyword">a</span> green similar <span class="keyword">to</span> linux terminal)</span><br><span class="line">export PS1=<span class="string">&#x27;\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;36m\]\w\[\033[00m\]\$ &#x27;</span></span><br><span class="line"></span><br><span class="line">#enables colorfor iTerm</span><br><span class="line">export TERM=xterm-color</span><br></pre></td></tr></table></figure></li><li>ç„¶åä¿®æ”¹<code>preference-&gt;profiles-&gt;Terminal-&gt;xterm-new</code><br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170204-095600.png">   </li><li>å»æŒ‘é€‰å–œæ¬¢çš„é…è‰²æ–¹æ¡ˆï¼Œæˆ‘åœ¨è¿™é‡Œæ‰¾çš„<a href="http://iterm2colorschemes.com/">http://iterm2colorschemes.com/</a></li><li>ä¸‹è½½åˆ°ä½ å–œæ¬¢çš„é…è‰²åï¼Œå¯¼å…¥<br><img src="http://okmneu7zl.bkt.clouddn.com/WX20170204-095639.png"><br>å¯¼å…¥åé€‰æ‹©ä½ çš„é…è‰²ï¼Œç„¶åæ³¨é”€macï¼Œå†æ‰“å¼€å°±å‘ç°é…è‰²å˜äº†ï¼Œä¹‹åå†æ¢é…è‰²åªè¦ç›´æ¥æ”¹å°±è¡Œäº†</li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘å·¥å…· </tag>
            
            <tag> iTerm2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Retinaè§†ç½‘è†œå±å¹•é€‚é…</title>
      <link href="2017/01/19/Retina%E8%A7%86%E7%BD%91%E8%86%9C%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D/"/>
      <url>2017/01/19/Retina%E8%A7%86%E7%BD%91%E8%86%9C%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D/</url>
      
        <content type="html"><![CDATA[<p>ç›´æ¥ä¸Šä»£ç ï¼š</p><span id="more"></span><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#bbb</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.hairlines</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">border-width</span>: .<span class="number">5px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (<span class="built_in">window</span>.devicePixelRatio &amp;&amp; devicePixelRatio &gt;= <span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> testElem = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        testElem.style.border = <span class="string">&#x27;.5px solid transparent&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.appendChild(testElem);</span></span><br><span class="line">        if (testElem.offsetHeight == 1)&#123;</span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.querySelector(<span class="string">&#x27;html&#x27;</span>).classList.add(<span class="string">&#x27;hairlines&#x27;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.removeChild(testElem);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>window.devicePixelRatioæ˜¯è®¾å¤‡ä¸Šç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ (device-independent pixels (dips))çš„æ¯”ä¾‹ã€‚<br>å…¬å¼è¡¨ç¤ºå°±æ˜¯ï¼šwindow.devicePixelRatio = ç‰©ç†åƒç´  / dips  </p></blockquote><blockquote><p>offsetHeight = clientHeight + æ»šåŠ¨æ¡ + è¾¹æ¡†   </p></blockquote><p>å¦‚æœæ˜¯retinaå±ï¼Œä¼šå…ˆåˆ›å»ºä¸ªdivæ¥æµ‹è¯•æµè§ˆå™¨æ˜¯å¦èƒ½æ¢æµ‹åˆ°0.5pxï¼Œå¦‚æœå¯ä»¥ä¼šæ‰ä¼šä½¿ç”¨0.5pxçš„æ ·å¼   </p><p>åŸæ–‡åœ°å€ï¼š<a href="http://dieulot.net/css-retina-hairline">http://dieulot.net/css-retina-hairline</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹æœºç«¯ </tag>
            
            <tag> é€‚é… </tag>
            
            <tag> Retina </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-éå†å¯¹è±¡å±æ€§</title>
      <link href="2017/01/19/ES6-%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7/"/>
      <url>2017/01/19/ES6-%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">22</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">getAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">Symbol</span>(<span class="string">&#x27;fullname&#x27;</span>)]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.prototype.getClass = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.keys èƒ½å¤Ÿå¾—åˆ°è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§,ä½†å¾—ä¸åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§.</span></span><br><span class="line"><span class="comment">// å¾—ä¸åˆ° Symbols å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.getOwnPropertyNames(b) èƒ½å¤Ÿå¾—åˆ°è‡ªèº«å±æ€§,</span></span><br><span class="line"><span class="comment">// åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§,ä½†å¾—ä¸åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§.</span></span><br><span class="line"><span class="comment">// å¾—ä¸åˆ° Symbols å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥å¾—åˆ°è‡ªèº«çš„ Symbols å±æ€§,åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§.</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbols(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥å¾—åˆ°è‡ªèº«å’Œç»§æ‰¿çš„åŸå‹é“¾ä¸Šçš„å±æ€§,ä½†å¿…é¡»æ˜¯å¯æšä¸¾å±æ€§.</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> b)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å¯æšä¸¾ï¼Œenumerableä¸ºtrueå¯æšä¸¾</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(B.prototype,<span class="string">&#x27;getAge&#x27;</span>));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-Object.assign</title>
      <link href="2017/01/19/ES6-Object-assign/"/>
      <url>2017/01/19/ES6-Object-assign/</url>
      
        <content type="html"><![CDATA[<p>Object.assignå°†å¯ä»¥æšä¸¾çš„å±æ€§èµ‹å€¼ç»™å¯¹è±¡</p><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> skey = <span class="built_in">Symbol</span>(<span class="string">&#x27;testname&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="built_in">Object</span>.assign(obj, &#123;<span class="attr">name</span>: <span class="string">&#x27;leo&#x27;</span>&#125;, &#123;<span class="attr">age</span>: <span class="number">30</span>&#125;,&#123;[skey]:<span class="string">&#x27;ok good&#x27;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj === obj2, obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj[skey]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> DEFAULT_OPTIONS = &#123;</span><br><span class="line">    name: <span class="string">&#x27;leo&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">opts</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> options = <span class="built_in">Object</span>.assign(&#123;&#125;, DEFAULT_OPTIONS, opts);</span><br><span class="line">    <span class="built_in">console</span>.log(options);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();</span><br><span class="line"></span><br><span class="line">test(&#123;<span class="attr">name</span>:<span class="string">&#x27;zengliang&#x27;</span>&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-Object.is</title>
      <link href="2017/01/19/ES6-Object-is/"/>
      <url>2017/01/19/ES6-Object-is/</url>
      
        <content type="html"><![CDATA[<p>Object.isç›¸å½“äºå…¨ç­‰åˆæœ‰äº›åŒºåˆ«</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(&#123;&#125;,&#123;&#125;) , &#123;&#125; === &#123;&#125; ); <span class="comment">//fasle false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>) , <span class="literal">NaN</span> === <span class="literal">NaN</span>);  <span class="comment">//true false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>,-<span class="number">0</span>) , +<span class="number">0</span> === -<span class="number">0</span>);  <span class="comment">//false true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-å¯¹è±¡å±æ€§çš„æ–°å†™æ³•</title>
      <link href="2017/01/19/ES6-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E6%96%B0%E5%86%99%E6%B3%95/"/>
      <url>2017/01/19/ES6-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E7%9A%84%E6%96%B0%E5%86%99%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&#x27;leo&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">22</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">getAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">Symbol</span>(<span class="string">&#x27;fullname&#x27;</span>)]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.prototype.getClass = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.keys èƒ½å¤Ÿå¾—åˆ°è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§,ä½†å¾—ä¸åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§.</span></span><br><span class="line"><span class="comment">// å¾—ä¸åˆ° Symbols å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.getOwnPropertyNames(b) èƒ½å¤Ÿå¾—åˆ°è‡ªèº«å±æ€§,</span></span><br><span class="line"><span class="comment">// åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§,ä½†å¾—ä¸åˆ°åŸå‹é“¾ä¸Šçš„å±æ€§.</span></span><br><span class="line"><span class="comment">// å¾—ä¸åˆ° Symbols å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥å¾—åˆ°è‡ªèº«çš„ Symbols å±æ€§,åŒ…æ‹¬ä¸å¯æšä¸¾çš„å±æ€§.</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbols(B.prototype));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥å¾—åˆ°è‡ªèº«å’Œç»§æ‰¿çš„åŸå‹é“¾ä¸Šçš„å±æ€§,ä½†å¿…é¡»æ˜¯å¯æšä¸¾å±æ€§.</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">in</span> b)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦å¯æšä¸¾ï¼Œenumerableä¸ºtrueå¯æšä¸¾</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(B.prototype,<span class="string">&#x27;getAge&#x27;</span>));</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-forEachå’Œmap</title>
      <link href="2017/01/18/JS-forEach%E5%92%8Cmap/"/>
      <url>2017/01/18/JS-forEach%E5%92%8Cmap/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬1ä¸ªæ˜¯éå†çš„æ•°ç»„å†…å®¹ï¼›<br>ç¬¬2ä¸ªæ˜¯å¯¹åº”çš„æ•°ç»„ç´¢å¼•;<br>ç¬¬3ä¸ªæ˜¯æ•°ç»„æœ¬èº«   </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, array</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸ªæ —å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>)</span>&#123;<span class="keyword">return</span> v &gt; <span class="number">3</span>;&#125;);</span><br><span class="line"><span class="comment">//[false, false, false, true, true]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>)</span>&#123;<span class="keyword">return</span> v &gt; <span class="number">3</span>;&#125;);</span><br><span class="line"><span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p><strong>map()æ–¹æ³•</strong>ï¼š<br>è‹¥è¿™ä¸ªå›è°ƒå‡½æ•°æœ‰è¿”å›å€¼ï¼Œmap()æ–¹æ³•ä¼šäº§ç”Ÿä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™ä¸ªæ–°æ•°ç»„ç”±åŸæ•°ç»„å…ƒç´ å¯¹åº”çš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ„æˆã€‚<br>è‹¥æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™æ–°æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä¸ºundefinedã€‚<br><strong>forEachæ–¹æ³•</strong>ï¼š<br>ä»…ä»…ä¸ºæ¯ä¸ªæ•°ç»„å…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚   </p><p>å†ä¸¾ä¸€ä¸ª</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].map(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> v+<span class="number">1</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(result);    <span class="comment">//[2, 3, 4, 5, 6]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, i</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v,i)    <span class="comment">//1 0</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> forEach </tag>
            
            <tag> map </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-sort</title>
      <link href="2017/01/18/JS-sort/"/>
      <url>2017/01/18/JS-sort/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>);</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b-a</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arrSimple2.join());</span><br></pre></td></tr></table></figure><p><strong>è§£é‡Š</strong>ï¼ša,bè¡¨ç¤ºæ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ï¼Œè‹¥return &gt; 0 bå‰aåï¼›reutrn &lt; 0 aå‰båï¼›a=bæ—¶å­˜åœ¨æµè§ˆå™¨å…¼å®¹<br><strong>ç®€åŒ–ä¸€ä¸‹</strong>ï¼ša-bè¾“å‡ºä»å°åˆ°å¤§æ’åºï¼Œb-aè¾“å‡ºä»å¤§åˆ°å°æ’åºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objectList = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Persion</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line">objectList.push(<span class="keyword">new</span> Persion(<span class="string">&#x27;jack&#x27;</span>, <span class="number">20</span>));</span><br><span class="line">objectList.push(<span class="keyword">new</span> Persion(<span class="string">&#x27;tony&#x27;</span>, <span class="number">25</span>));</span><br><span class="line">objectList.push(<span class="keyword">new</span> Persion(<span class="string">&#x27;stone&#x27;</span>, <span class="number">26</span>));</span><br><span class="line">objectList.push(<span class="keyword">new</span> Persion(<span class="string">&#x27;mandy&#x27;</span>, <span class="number">23</span>));</span><br><span class="line"><span class="comment">//æŒ‰å¹´é¾„ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">objectList.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.age - b.age</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; objectList.length; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;age:&#x27;</span> + objectList[i].age + <span class="string">&#x27; name:&#x27;</span> + objectList[i].name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œæ’åº</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-matchå’Œexec</title>
      <link href="2017/01/18/JS-match%E5%92%8Cexec/"/>
      <url>2017/01/18/JS-match%E5%92%8Cexec/</url>
      
        <content type="html"><![CDATA[<p>ä¸¾ä¸ªæ —å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> order = <span class="string">&#x27;is2&#x27;</span></span><br><span class="line"><span class="keyword">var</span> arr = order.match(<span class="regexp">/\d+/</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr)</span><br><span class="line"><span class="comment">//[&quot;2&quot;, index: 2, input: &quot;is2&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="regexp">/\d+/</span>.exec(order);</span><br><span class="line"><span class="built_in">console</span>.log(arr2)</span><br><span class="line"><span class="comment">//[&quot;2&quot;, index: 2, input: &quot;is2&quot;]</span></span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯matchå’Œexecè¿”å›çš„ç»“æœéƒ½æ˜¯æ•°ç»„</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> match </tag>
            
            <tag> exec </tag>
            
            <tag> æ­£åˆ™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-includeså’ŒindexOf</title>
      <link href="2017/01/18/JS-includes%E5%92%8CindexOf/"/>
      <url>2017/01/18/JS-includes%E5%92%8CindexOf/</url>
      
        <content type="html"><![CDATA[<p>ä¸¾ä¸ªæ —å­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hahaha123&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">&#x27;1&#x27;</span>));     <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">&#x27;1&#x27;</span>));      <span class="comment">//6</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.includes(<span class="number">1</span>));       <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.indexOf(<span class="number">1</span>));        <span class="comment">//0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> includes </tag>
            
            <tag> indexOf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-joinæ‹¼æ¥</title>
      <link href="2017/01/18/JS-join%E6%8B%BC%E6%8E%A5/"/>
      <url>2017/01/18/JS-join%E6%8B%BC%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&quot;George&quot;</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="string">&quot;John&quot;</span></span><br><span class="line">arr[<span class="number">2</span>] = <span class="string">&quot;Thomas&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.join(<span class="string">&#x27; &#x27;</span>))  <span class="comment">//George John Thomas</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> æ•°ç»„ </tag>
            
            <tag> æ‹¼æ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-arguments</title>
      <link href="2017/01/18/JS-arguments/"/>
      <url>2017/01/18/JS-arguments/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);         <span class="comment">//[&quot;123&quot;]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);  <span class="comment">//1</span></span><br><span class="line">    <span class="built_in">console</span>.log(test.length);       <span class="comment">//2</span></span><br><span class="line">&#125;</span><br><span class="line">test(<span class="string">&#x27;123&#x27;</span>)</span><br></pre></td></tr></table></figure><p>é€šè¿‡argumentså¯ä»¥è·å–ä¼ å…¥çš„å‚æ•°ï¼Œfunction.lengthå¯ä»¥è·å–æœ¬è¯¥ä¼ å…¥çš„å‚æ•°</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> å‚æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-æ•°ç»„æ¯”è¾ƒ</title>
      <link href="2017/01/18/JS-%E6%95%B0%E7%BB%84%E6%AF%94%E8%BE%83/"/>
      <url>2017/01/18/JS-%E6%95%B0%E7%BB%84%E6%AF%94%E8%BE%83/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> y = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x == y);     <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(x === y );   <span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>javascriptä¸èƒ½ç›´æ¥ç”¨==æˆ–è€…===æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ï¼Œæ— è®ºæ˜¯ç›¸ç­‰è¿˜æ˜¯å…¨ç­‰éƒ½ä¸è¡Œã€‚<br>è¦åˆ¤æ–­æ•°ç»„æ˜¯å¦ç›¸ç­‰ï¼Œè¦å…ˆå°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå†ä½œæ¯”è¾ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> y = [<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(x.toString() == y.toString())</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> æ•°ç»„ </tag>
            
            <tag> æ¯”è¾ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-Stringè½¬æ•°å­—ç±»å‹</title>
      <link href="2017/01/18/JS-String%E8%BD%AC%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B/"/>
      <url>2017/01/18/JS-String%E8%BD%AC%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h3 id="éœ€è¦å°†stringè½¬æˆæ•°å­—æ—¶ï¼Œå¦‚æœéœ€è¦ä¿ç•™å°æ•°ï¼Œåªè¦ç”¨-å°±è¡Œäº†"><a href="#éœ€è¦å°†stringè½¬æˆæ•°å­—æ—¶ï¼Œå¦‚æœéœ€è¦ä¿ç•™å°æ•°ï¼Œåªè¦ç”¨-å°±è¡Œäº†" class="headerlink" title="éœ€è¦å°†stringè½¬æˆæ•°å­—æ—¶ï¼Œå¦‚æœéœ€è¦ä¿ç•™å°æ•°ï¼Œåªè¦ç”¨+å°±è¡Œäº†"></a>éœ€è¦å°†stringè½¬æˆæ•°å­—æ—¶ï¼Œå¦‚æœéœ€è¦ä¿ç•™å°æ•°ï¼Œåªè¦ç”¨+å°±è¡Œäº†</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(str))</span><br><span class="line"><span class="comment">//è½¬æ•´æ•°æ—¶æ²¡é—®é¢˜</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;123.45&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(+str1)</span><br><span class="line"><span class="comment">//åªè¦ç”¨+å°±è¡Œäº†</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS </tag>
            
            <tag> åŸºç¡€ </tag>
            
            <tag> è½¬æ¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-set</title>
      <link href="2017/01/18/ES6-set/"/>
      <url>2017/01/18/ES6-set/</url>
      
        <content type="html"><![CDATA[<h4 id="æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>setæ˜¯ç±»æ•°ç»„</p><h4 id="å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ"><a href="#å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ"></a>å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h4><p>å¯ä»¥ç”¨æ¥ç»™æ•°ç»„å»é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr =  [<span class="string">&#x27;jiayongfeng&#x27;</span>,<span class="string">&#x27;jimmy&#x27;</span>,<span class="string">&#x27;jimmy&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> newArr = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br><span class="line"><span class="built_in">console</span>.log(newArr)</span><br></pre></td></tr></table></figure><h4 id="æ€ä¹ˆç”¨ï¼Ÿ"><a href="#æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆç”¨ï¼Ÿ"></a>æ€ä¹ˆç”¨ï¼Ÿ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;<span class="attr">name</span>:<span class="string">&#x27;jiayongfeng&#x27;</span>,<span class="attr">age</span>:<span class="string">&#x27;28&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> st = <span class="keyword">new</span> <span class="built_in">Set</span>()  </span><br><span class="line">st.add(user)        <span class="comment">//æ·»åŠ </span></span><br><span class="line">st.delete(user)     <span class="comment">//åˆ é™¤</span></span><br><span class="line">st.has(user)        <span class="comment">//åˆ¤æ–­æœ‰æ— </span></span><br><span class="line">st.clear()          <span class="comment">//æ¸…ç©º</span></span><br><span class="line"><span class="built_in">console</span>.log(st.size)    <span class="comment">//æŸ¥çœ‹æ•°é‡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> o <span class="keyword">of</span> st)&#123;       <span class="comment">//éå†</span></span><br><span class="line">    <span class="built_in">console</span>.log(o)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-map</title>
      <link href="2017/01/18/ES6-map/"/>
      <url>2017/01/18/ES6-map/</url>
      
        <content type="html"><![CDATA[<h4 id="æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>mapæ˜¯é”®å€¼å¯¹çš„ç±»æ•°ç»„</p><h4 id="å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ"><a href="#å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ"></a>å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ</h4><p>å¯¹è±¡ä¸­çš„keyå¿…é¡»æ˜¯<code>string</code>ï¼Œmapä¸­keyå¯ä»¥æ˜¯ä»»æ„å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    name : <span class="string">&#x27;jiayongfeng&#x27;</span>,</span><br><span class="line">    age : <span class="number">28</span>,</span><br><span class="line">    <span class="string">&#x27;english name&#x27;</span>:<span class="string">&#x27;jimmy&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [user,<span class="string">&#x27;shuai&#x27;</span>],     <span class="comment">//keyå¯ä»¥æ˜¯å¯¹è±¡</span></span><br><span class="line">    [<span class="string">&#x27;qq&#x27;</span>,<span class="string">&#x27;740534248&#x27;</span>]</span><br><span class="line">])</span><br></pre></td></tr></table></figure><h4 id="æ€ä¹ˆç”¨ï¼Ÿ"><a href="#æ€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆç”¨ï¼Ÿ"></a>æ€ä¹ˆç”¨ï¼Ÿ</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;jiayongfeng&#x27;</span>)   <span class="comment">//èµ‹å€¼</span></span><br><span class="line">map.set(<span class="string">&#x27;age&#x27;</span>,<span class="number">28</span>)</span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="string">&#x27;age&#x27;</span>))     <span class="comment">//å–å€¼</span></span><br><span class="line"><span class="built_in">console</span>.log(map.size)           <span class="comment">//æŸ¥çœ‹å¤§å°</span></span><br><span class="line">map.delete(<span class="string">&#x27;age&#x27;</span>)               <span class="comment">//åˆ é™¤</span></span><br><span class="line">map.has(<span class="string">&#x27;name&#x27;</span>)                 <span class="comment">//åˆ¤æ–­æœ‰æ— </span></span><br><span class="line">map.clear()                     <span class="comment">//æ¸…ç©º</span></span><br><span class="line"><span class="comment">//å€¼å¾—æ³¨æ„NaNåœ¨mapå’Œsetæ˜¯å…¨ç­‰çš„</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>)    <span class="comment">//false</span></span><br><span class="line">map.set(<span class="literal">NaN</span>,<span class="string">&#x27;1111&#x27;</span>);</span><br><span class="line">map.set(<span class="literal">NaN</span>,<span class="string">&#x27;2222&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map.get(<span class="literal">NaN</span>));    <span class="comment">//2222</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> o <span class="keyword">of</span> map)&#123;              <span class="comment">//éå†</span></span><br><span class="line">    <span class="built_in">console</span>.log(o)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> keys = map.keys()           <span class="comment">//è·å–æ‰€æœ‰çš„key</span></span><br><span class="line"><span class="keyword">let</span> values = map.values()       <span class="comment">//è·å–æ‰€æœ‰çš„value</span></span><br><span class="line"><span class="keyword">let</span> entries = map.entries()     <span class="comment">//è·å–æ‰€æœ‰çš„é”®å€¼å¯¹</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> o <span class="keyword">of</span> entries)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(o)              <span class="comment">//ç­‰åŒäºä¸Šé¢çš„éå†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _this = &#123;</span><br><span class="line">    des : <span class="string">&#x27;shuai&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line">map.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">k, v</span>) </span>&#123;       <span class="comment">//éå†ï¼ŒåŒæ—¶å¯ä»¥ä¼ å…¥this</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.des,k, v);</span><br><span class="line">&#125;,_this);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6-Array</title>
      <link href="2017/01/18/ES6-Array/"/>
      <url>2017/01/18/ES6-Array/</url>
      
        <content type="html"><![CDATA[<h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h4><p>ç±»ä¼¼æ•°ç»„çš„æ•°æ®ç»“æ„è½¬æ¢ä¸ºæ•°ç»„<br>å¯ä»¥æŠŠå¸¦æœ‰lengthå±æ€§çš„å¯¹è±¡å’Œå®ç°äº†iteratoræ¥å£çš„å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.from(&#123;</span><br><span class="line"><span class="string">&#x27;0&#x27;</span>:<span class="string">&#x27;qq 740534248&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;1&#x27;</span>:<span class="string">&#x27;jimmy&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;length&#x27;</span>:<span class="number">2</span></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">return</span> item + <span class="string">&#x27;---&#x27;</span> + index</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//å¿…é¡»æ˜¯è¿™ç§æ ·å­çš„å¯¹è±¡ï¼Œå…¶ä»–çš„ä¸è¡Œ</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;me&#x27;</span>,<span class="string">&#x27;book&#x27;</span>,<span class="string">&#x27;leo&#x27;</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(set));</span><br></pre></td></tr></table></figure><p>querySelectorAllæŸ¥è¯¢å‡ºçš„ç±»æ•°ç»„ä¹Ÿèƒ½è½¬æ¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> list = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;li&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(list)  <span class="comment">//NodeList[5]</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(list));  <span class="comment">//ArrayList[5]</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h4><p>ç”¨æ¥æ„å»ºæ•°ç»„ï¼Œé˜²æ­¢Array(7)è¿™ç§æƒ…å†µå‘ç”Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>);       <span class="comment">// [7]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>);          <span class="comment">// [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>æ‰¾åˆ°ç¬¦åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [  <span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span> ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> value = arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,arr</span>)</span>&#123; <span class="comment">//å€¼ï¼Œç´¢å¼•ï¼ŒåŸæ•°ç»„</span></span><br><span class="line">   <span class="keyword">return</span> value &gt; <span class="number">33</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(value); <span class="comment">//44</span></span><br></pre></td></tr></table></figure><h4 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h4><p>æ‰¾åˆ°ç¬¦åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå€¼çš„ç´¢å¼•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [  <span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span> ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> value = arr.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">value,index,arr</span>)</span>&#123; <span class="comment">//å€¼ï¼Œç´¢å¼•ï¼ŒåŸæ•°ç»„</span></span><br><span class="line">   <span class="keyword">return</span> value &gt; <span class="number">33</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(value); <span class="comment">//2</span></span><br></pre></td></tr></table></figure><p>IndexOfæ¯”è¾ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">22</span>,<span class="literal">NaN</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr2.indexOf(<span class="literal">NaN</span>))  <span class="comment">//-1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">Object</span>.is(<span class="literal">NaN</span>,v);</span><br><span class="line">&#125;));    <span class="comment">//1</span></span><br></pre></td></tr></table></figure><h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h4><p>copyWithin(position,start,end);<br>è¦è¢«æ›¿æ¢çš„å¼€å§‹ä½ç½®ï¼Œç”¨äºæ›¿æ¢çš„èµ·å§‹ä½ç½®ï¼Œç”¨äºæ›¿æ¢çš„ç»“æŸä½ç½®ï¼ˆä¸åŒ…å«ï¼‰<br>ä¹Ÿå¯ä»¥ç”¨è´Ÿæ•°ï¼Œä»£è¡¨ä»åå¾€å‰æ•°ç¬¬å‡ ä¸ªï¼Œå¦‚-3ä»£è¡¨æ­£æ•°ç¬¬4ä¸ª</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ar arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//arr.copyWithin(1,5,7);  //[ 1, 6, 7, 4, 5, 6, 7 ]</span></span><br><span class="line">arr.copyWithin(<span class="number">2</span>,-<span class="number">3</span>,<span class="number">6</span>); <span class="comment">//[ 1, 2, 5, 6, 5, 6, 7 ]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure><h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>å¡«å……æ•°ç»„<br>fill(value,start,end)<br>ç”¨æ¥å¡«å……çš„å€¼ï¼Œè¢«å¡«å……çš„èµ·å§‹ä½ç½®ï¼Œè¢«å¡«å……çš„ç»“æŸä½ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="comment">//arr.fill(10)</span></span><br><span class="line"><span class="built_in">console</span>.log(arr)    <span class="comment">//[10,10,10,10,10,10,10]</span></span><br><span class="line">arr.fill(<span class="number">10</span>,<span class="number">2</span>,<span class="number">5</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr)    <span class="comment">//[1,2,10,10,10,6,7]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript æºä»£ç é˜…è¯»å·¥å…·</title>
      <link href="2017/01/17/JavaScript-%E6%BA%90%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB%E5%B7%A5%E5%85%B7/"/>
      <url>2017/01/17/JavaScript-%E6%BA%90%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<h4 id="lambda-view"><a href="#lambda-view" class="headerlink" title="lambda-view"></a>lambda-view</h4><p><a href="https://github.com/Jianru-Lin/lambda-view">https://github.com/Jianru-Lin/lambda-view</a></p><p>å‘½ä»¤è¡Œè¾“å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lv &#x2F;path&#x2F;somewhere&#x2F;xyz.js</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lv http:&#x2F;&#x2F;vuejs.org&#x2F;js&#x2F;vue.js</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æºä»£ç æŸ¥çœ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Atomä½¿ç”¨eslintéœ€è¦å®‰è£…çš„åŒ…</title>
      <link href="2017/01/17/Atom%E4%BD%BF%E7%94%A8eslint%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85/"/>
      <url>2017/01/17/Atom%E4%BD%BF%E7%94%A8eslint%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;eslint&quot;</span>: <span class="string">&quot;^3.13.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eslint-config-airbnb&quot;</span>: <span class="string">&quot;^14.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eslint-plugin-import&quot;</span>: <span class="string">&quot;^2.2.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eslint-plugin-jsx-a11y&quot;</span>: <span class="string">&quot;^3.0.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eslint-plugin-react&quot;</span>: <span class="string">&quot;^6.9.0&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint --save</span><br><span class="line">eslint -v</span><br><span class="line">eslint --init</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-config-airbnb --save</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-plugin-import --save</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-plugin-jsx-a11y --save</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-plugin-react --save</span><br></pre></td></tr></table></figure><p>.eslintrc.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;airbnb&quot;</span>,    <span class="comment">//ä½¿ç”¨airbnbå‰ç«¯ç¼–ç è§„èŒƒ</span></span><br><span class="line">    <span class="string">&quot;installedESLint&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;indent&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="number">4</span>]  <span class="comment">//ç¼©è¿›4ä¸ªç©ºæ ¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Atom </tag>
            
            <tag> eslint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¦æ•°å­—å­—ç¬¦ä¸²æ’åº</title>
      <link href="2017/01/17/%E5%B8%A6%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/"/>
      <url>2017/01/17/%E5%B8%A6%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<h4 id="ä»Šå¤©ç»„é‡Œåœ¨Qç¾¤å‘äº†ä¸€ä¸ªé—®é¢˜ï¼š"><a href="#ä»Šå¤©ç»„é‡Œåœ¨Qç¾¤å‘äº†ä¸€ä¸ªé—®é¢˜ï¼š" class="headerlink" title="ä»Šå¤©ç»„é‡Œåœ¨Qç¾¤å‘äº†ä¸€ä¸ªé—®é¢˜ï¼š"></a>ä»Šå¤©ç»„é‡Œåœ¨Qç¾¤å‘äº†ä¸€ä¸ªé—®é¢˜ï¼š</h4><p>ä¸ºä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²æ’åºï¼Œè¿™ä¸ªå­—ç¬¦ä¸²é‡Œçš„æ¯ä¸€ä¸ªå•è¯éƒ½åŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œè¯·æŒ‰æ•°å­—å¤§å°ç»™è¿™äº›å•è¯æ’åºã€‚</p><p>ä¾‹å¦‚ï¼šis2 Thi1s T4est 3a çš„ç»“æœæ˜¯ Thi1s is2 3a T4est<br>ç„¶åå‡ºç°äº†3ç§è§£é¢˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;is2 Thi1s T4est 3a&#x27;</span></span><br><span class="line"><span class="keyword">var</span> newArr = a.split(<span class="string">&#x27; &#x27;</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(item)</span><br><span class="line"> <span class="keyword">var</span> arr = item.match(<span class="regexp">/\d+/</span>)</span><br><span class="line"> <span class="keyword">return</span> arr</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> str = newArr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> +a[<span class="number">0</span>] &gt; +b[<span class="number">0</span>]</span><br><span class="line">&#125;).map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> item[<span class="string">&#x27;input&#x27;</span>]</span><br><span class="line">&#125;).join(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str)</span><br></pre></td></tr></table></figure><p>å°†åŸå­—ç¬¦ä¸²ç”¨â€™ â€˜åˆ†å‰²æˆæ•°ç»„ï¼Œç„¶åéå†ï¼Œè¿”å›ç”±matchåç”Ÿæˆçš„æ•°ç»„ç»„æˆçš„æ•°ç»„<br>å°†æ–°çš„æ•°ç»„æŒ‰ç…§matchæ•°ç»„ç¬¬0ä¸ªå…ƒç´ ï¼ˆåŒ¹é…æ­£åˆ™çš„æ•°å­—ï¼‰æ’åºï¼Œç„¶åéå†è¿”å›matchæ•°ç»„inputå…ƒç´ ï¼ˆåŸæ¥çš„Stringï¼‰ï¼Œæœ€åæ‹¼æ¥æˆå­—ç¬¦ä¸²</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> words = <span class="string">&#x27;is2 Thi1s T4est 3a&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">orderNew</span>(<span class="params">words</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ordered = [];</span><br><span class="line">  <span class="keyword">var</span> arr = words.split(<span class="string">&#x27; &#x27;</span>);  </span><br><span class="line"></span><br><span class="line">    arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> match = <span class="regexp">/\d+/</span>.exec(item);</span><br><span class="line">        ordered[<span class="built_in">parseInt</span>(match[<span class="number">0</span>])] = item;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> ordered.join(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(orderNew(words));</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„å°†åŸå­—ç¬¦ä¸²ç”¨â€™ â€˜åˆ†å‰²æˆæ•°ç»„ï¼Œç„¶åéå†<br>éå†æ—¶å°†åŸæ•°ç»„å…ƒç´ æ”¾å…¥æ–°æ•°ç»„ç¬¬[macthæ•°ç»„ç¬¬0ä¸ªå…ƒç´ ï¼ˆåŒ¹é…æ­£åˆ™çš„æ•°å­—ï¼‰]ä¸ªå…ƒç´ <br>æœ€åå°†æ–°æ•°ç»„æ‹¼æ¥æˆå­—ç¬¦ä¸²<br>å› ä¸ºæ˜¯æ•°å­—æ’åºï¼Œæ‰€æœ‰å°†æ‰¾åˆ°çš„æ•°æ®å½“æˆç´¢å¼•ç”¨ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨é—®é¢˜ï¼Œå¦‚æœæœ‰é‡å¤æ•°å­—æ—¶ï¼Œä¼šè¦†ç›–æ‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> words = <span class="string">&#x27;is2 Thi1s T4est 3a&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">order</span>(<span class="params">words</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> words.split(<span class="string">&#x27; &#x27;</span>).sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a.match(<span class="regexp">/\d+/</span>) - b.match(<span class="regexp">/\d+/</span>);</span><br><span class="line">   &#125;).join(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(order(words));</span><br></pre></td></tr></table></figure><p>æ›´åŠ ç®€åŒ–ï¼Œå°†åŸå­—ç¬¦ä¸²åˆ†å‰²åç›´æ¥æŒ‰ç…§æ•°ç»„å…ƒç´ åŒ¹é…æ­£åˆ™åçš„ç»“æœæ’åºåï¼Œæ‹¼æ¥</p>]]></content>
      
      
      <categories>
          
          <category> æ€ç»´ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºVueç”Ÿå‘½å‘¨æœŸçš„ä¸€äº›ç†è§£è®°å½•</title>
      <link href="2017/01/17/%E5%85%B3%E4%BA%8EVue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3%E8%AE%B0%E5%BD%95/"/>
      <url>2017/01/17/%E5%85%B3%E4%BA%8EVue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©é‡åˆ°ä¸ªé—®é¢˜ï¼Œå¤§è‡´æ˜¯è¿™æ ·çš„ï¼šä»çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼Œç¬¬ä¸‰å±‚æ•°æ®ç»ˆç«¯æŠ¥é”™undefinedï¼Œå…ˆä¸Šæµ‹è¯•ä»£ç ï¼š</p><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç»„ä»¶</span></span><br><span class="line">&lt;template lang=<span class="string">&quot;html&quot;</span>&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;son :data=<span class="string">&quot;data1&quot;</span>&gt;&lt;/son&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> Son <span class="keyword">from</span> <span class="string">&#x27;../son/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            data1:&#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.data1=&#123;</span><br><span class="line">            name:<span class="string">&#x27;æœ€å¤–å±‚&#x27;</span>,</span><br><span class="line">            value1:&#123;</span><br><span class="line">                name:<span class="string">&#x27;ç¬¬ä¸€å±‚&#x27;</span>,</span><br><span class="line">                value2:&#123;</span><br><span class="line">                    name:<span class="string">&#x27;ç¬¬äºŒå±‚&#x27;</span>,</span><br><span class="line">                    value3:&#123;</span><br><span class="line">                        name:<span class="string">&#x27;ç¬¬ä¸‰å±‚&#x27;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        Son</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­ç»„ä»¶</span></span><br><span class="line">&lt;template lang=<span class="string">&quot;html&quot;</span>&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      æœ€å¤–å±‚</span><br><span class="line">      &#123;&#123;data.name&#125;&#125;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">          ç¬¬ä¸€å±‚</span><br><span class="line">          &#123;&#123;data.value1.name&#125;&#125;</span><br><span class="line">          &lt;div&gt;</span><br><span class="line">              ç¬¬äºŒå±‚</span><br><span class="line">              &#123;&#123;data.value1.value2.name&#125;&#125;</span><br><span class="line">              &lt;div&gt;</span><br><span class="line">                  ç¬¬ä¸‰å±‚</span><br><span class="line">                  &#123;&#123;data.value1.value2.value3.name&#125;&#125;</span><br><span class="line">              &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    props:[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•æ˜¯å°†<code>mounted</code>ä¸­çš„èµ‹å€¼è¿‡ç¨‹ï¼Œæ”¹åœ¨<code>beforeMount</code>æˆ–è€…<code>created</code>ä¸­è¿›è¡Œã€‚æˆ–è€…å…ˆç»™<code>data</code>ä¸€ä¸ªç©ºçš„æ•°æ®ç»“æ„ã€‚<br>åŸå› æ˜¯å­ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œ<code>data</code>çš„èµ‹å€¼è¿˜æ²¡è¿›è¡Œï¼Œæ‰€ä»¥å±æ€§éƒ½æ˜¯undefined</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰©å±•è¿ç®—ç¬¦(â€¦)ç»“åˆçš„ä½¿ç”¨</title>
      <link href="2017/01/17/%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%A6-%E7%BB%93%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>2017/01/17/%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6-%E2%80%A6-%E7%BB%93%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>å¼•å…¥mapActions</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions, mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>methods</code>ä¸­å†™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...mapActions([</span><br><span class="line">  <span class="string">&#x27;SET_MAIL_LIST&#x27;</span></span><br><span class="line">]),</span><br></pre></td></tr></table></figure><p>æ•°ç»„ä¸­çš„æ‰€æœ‰æ–¹æ³•ä¼šè¢«å¼•å…¥ï¼Œåœ¨ä½¿ç”¨æ—¶åªè¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.SET_MAIL_LIST(&#123;mailList&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Macæ‹¼éŸ³è¾“å…¥æ³•</title>
      <link href="2017/01/17/Mac%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/"/>
      <url>2017/01/17/Mac%E6%8B%BC%E9%9F%B3%E8%BE%93%E5%85%A5%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<ol><li>ä¸­è‹±æ–‡åˆ‡æ¢<br>macè‡ªèº«è¾“å…¥æ³•ï¼š<strong>Commandï¼‹ç©ºæ ¼</strong></li><li>æ±‰å­—è¾“å…¥åˆ‡æ¢ä¸‹ä¸€é¡µï¼ˆç”¨é¼ æ ‡å»ç‚¹ï¼Œå¤ªlowäº†å§ï¼‰<br>å‡å¦‚ä½ è¾“å…¥çš„æ–‡å­—ä¸å†ç¬¬ä¸€é¡µï¼Œè¿™æ˜¯éœ€è¦æˆ‘ä»¬åˆ‡æ¢é¡µï¼Œä¸Šä¸€é¡µï¼Œæ˜¯é”®ç›˜ä¸Šçš„â€œ<strong>ï¼»</strong>â€ï¼Œä¸‹ä¸€é¡µæ˜¯é”®ç›˜ä¸Šçš„â€œ<strong>ï¼½</strong>â€ã€‚<br>macè‡ªèº«çš„è¾“å…¥æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´æ¥æ“ä½œï¼Œä½†æ˜¯ï¼Œæ€»æ˜¯è¦ä½å¤´æ‰¾è¿™ä¸ªç®­å¤´ï¼Œä¸æ–¹ä¾¿ã€‚</li><li>è¾“å…¥ç‰¹æ®Šç¬¦å·<br>å¦‚æœä½ è®°ä½äº†æŸä¸ªç‰¹æ®Šå­—ç¬¦çš„å¿«æ·é”®ï¼Œé‚£ä¹ˆï¼Œä½ åªéœ€ä½¿ç”¨ <strong>shift+option+é”®ç›˜ä¸Šçš„ä»»ä½•å­—ç¬¦</strong>ï¼Œæ¥è¾“å…¥ã€‚å¦‚ï¼š<strong>shift+option+p</strong>æ˜¯ç¬¦å·ï¼šâˆ<br>å½“ç„¶ï¼Œæ‰€æœ‰ç‰¹æ®Šç¬¦å·éƒ½è®°ä½ï¼Œæ˜¯ä¸å¯èƒ½çš„äº‹æƒ… ï¼Œæ‰€ä»¥ï¼Œä½ ä¹Ÿå¯ä»¥è°ƒå‡ºmacçš„ç‰¹æ®Šç¬¦å·é›†ï¼Œå¿«æ·é”®æ˜¯<strong>control+coomand+ç©ºæ ¼</strong>ï¼Œå¿«å»è¯•è¯•çœ‹ï¼Œæ‰¾åˆ°ä½ æƒ³è¦çš„</li></ol>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘å·¥å…· </tag>
            
            <tag> Mac </tag>
            
            <tag> è¾“å…¥æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Atomå·²å®‰è£…packageè®°å½•</title>
      <link href="2017/01/17/Atom%E5%B7%B2%E5%AE%89%E8%A3%85package%E8%AE%B0%E5%BD%95/"/>
      <url>2017/01/17/Atom%E5%B7%B2%E5%AE%89%E8%A3%85package%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h3 id="platformio-ide-terminal"><a href="#platformio-ide-terminal" class="headerlink" title="platformio-ide-terminal"></a>platformio-ide-terminal</h3><blockquote><p>å‘½ä»¤è¡Œå·¥å…·<br>å¿«æ·é”®ï¼šcontrol+`å‘¼å‡º</p></blockquote><h3 id="activate-power-mode"><a href="#activate-power-mode" class="headerlink" title="activate-power-mode"></a>activate-power-mode</h3><blockquote><p>ç‚«é…·çš„æ‰“å­—ç‰¹æ•ˆ</p></blockquote><h3 id="atom-beautify"><a href="#atom-beautify" class="headerlink" title="atom-beautify"></a>atom-beautify</h3><blockquote><p>ç¾åŒ–ã€æ•´ç†ä»£ç </p></blockquote><h3 id="atom-ctags"><a href="#atom-ctags" class="headerlink" title="atom-ctags"></a>atom-ctags</h3><blockquote><p>å¼ºåŒ–ç‰ˆçš„è‡ªåŠ¨å®Œæˆï¼Œå€ŸåŠ©äºautocomplete-plus</p></blockquote><h3 id="atom-ternjs"><a href="#atom-ternjs" class="headerlink" title="atom-ternjs"></a>atom-ternjs</h3><blockquote><p>JSä»£ç æ™ºèƒ½æç¤º</p></blockquote><h3 id="autocomplete-paths"><a href="#autocomplete-paths" class="headerlink" title="autocomplete-paths"></a>autocomplete-paths</h3><blockquote><p>æ–‡ä»¶è·¯å¾„æ™ºèƒ½æç¤º</p></blockquote><h3 id="color-picker"><a href="#color-picker" class="headerlink" title="color-picker"></a>color-picker</h3><blockquote><p>é¢œè‰²æ‹¾å–å™¨<br>å¿«æ·é”®ï¼šcommod+shift+c</p></blockquote><h3 id="docblockr"><a href="#docblockr" class="headerlink" title="docblockr"></a>docblockr</h3><blockquote><p>ä»£ç æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆ</p></blockquote><h3 id="file-icons"><a href="#file-icons" class="headerlink" title="file-icons"></a>file-icons</h3><blockquote><p>æ–‡ä»¶å›¾æ ‡</p></blockquote><h3 id="git-plus"><a href="#git-plus" class="headerlink" title="git-plus"></a>git-plus</h3><blockquote><p>gitæ’ä»¶</p></blockquote><h3 id="highlight-selected"><a href="#highlight-selected" class="headerlink" title="highlight-selected"></a>highlight-selected</h3><blockquote><p>é€‰ä¸­é«˜äº®</p></blockquote><h3 id="language-vue"><a href="#language-vue" class="headerlink" title="language-vue"></a>language-vue</h3><blockquote><p>è¯†åˆ«Vue</p></blockquote><h3 id="linter"><a href="#linter" class="headerlink" title="linter"></a>linter</h3><blockquote><p>ä»£ç æ ¡éªŒåŸºç¡€å·¥å…·</p></blockquote><h3 id="linter-csslint"><a href="#linter-csslint" class="headerlink" title="linter-csslint"></a>linter-csslint</h3><blockquote><p>æ ¡éªŒcss</p></blockquote><h3 id="linter-eslint"><a href="#linter-eslint" class="headerlink" title="linter-eslint"></a>linter-eslint</h3><blockquote><p>æ ¡éªŒjsï¼Œé…åˆ.eslintrcä½¿ç”¨</p></blockquote><h3 id="linter-sass-lint"><a href="#linter-sass-lint" class="headerlink" title="linter-sass-lint"></a>linter-sass-lint</h3><blockquote><p>æ ¡éªŒsass</p></blockquote><h3 id="minimap"><a href="#minimap" class="headerlink" title="minimap"></a>minimap</h3><blockquote><p>å³è¾¹å°åœ°å›¾</p></blockquote><h3 id="minimap-find-and-replace"><a href="#minimap-find-and-replace" class="headerlink" title="minimap-find-and-replace"></a>minimap-find-and-replace</h3><blockquote><p>åœ¨å°åœ°å›¾ä¸Šæ˜¾ç¤ºæœç´¢åŒ¹é…</p></blockquote><h3 id="minimap-highlight-selected"><a href="#minimap-highlight-selected" class="headerlink" title="minimap-highlight-selected"></a>minimap-highlight-selected</h3><blockquote><p>åœ¨å°åœ°å›¾ä¸Šæ˜¾ç¤ºé€‰ä¸­çš„</p></blockquote><h3 id="pigments"><a href="#pigments" class="headerlink" title="pigments"></a>pigments</h3><blockquote><p>æ ¹æ®è‰²å€¼ç›´æ¥æ˜¾ç¤ºé¢œè‰²</p></blockquote><h3 id="simplified-chinese-menu"><a href="#simplified-chinese-menu" class="headerlink" title="simplified-chinese-menu"></a>simplified-chinese-menu</h3><blockquote><p>ä¸­æ–‡æ±‰åŒ–åŒ…</p></blockquote><h3 id="vue-autocomplete"><a href="#vue-autocomplete" class="headerlink" title="vue-autocomplete"></a>vue-autocomplete</h3><blockquote><p>Vueè‡ªåŠ¨å®Œæˆ</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Atom </tag>
            
            <tag> å¼€å‘å·¥å…· </tag>
            
            <tag> é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
