<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¤§æ«</title>
  
  <subtitle>Stay Hungry.Stay Foolish.</subtitle>
  <link href="https://yongmaple.com/atom.xml" rel="self"/>
  
  <link href="https://yongmaple.com/"/>
  <updated>2021-04-02T09:37:16.269Z</updated>
  <id>https://yongmaple.com/</id>
  
  <author>
    <name>YongMaple</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vueå…¨å®¶æ¡¶&amp;åŸç†</title>
    <link href="https://yongmaple.com/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&amp;%E5%8E%9F%E7%90%86/"/>
    <id>https://yongmaple.com/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&amp;%E5%8E%9F%E7%90%86/</id>
    <published>2021-04-01T19:47:56.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h5 id="é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾"><a href="#é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾" class="headerlink" title="é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾"></a><em>é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾</em></h5><h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œ<code>vue create vue-study</code>ï¼Œé€‰æ‹© vue2ï¼Œæ·»åŠ  vue-router å’Œ vuexï¼Œ<code> vue add router</code>ã€<code>vue add vux </code></p><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><p><em>Vue router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨æ˜“å¦‚åæŒ</em></p><h4 id="æ ¸å¿ƒæ­¥éª¤"><a href="#æ ¸å¿ƒæ­¥éª¤" class="headerlink" title="æ ¸å¿ƒæ­¥éª¤"></a>æ ¸å¿ƒæ­¥éª¤</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/router/index.js</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨vue-routeræ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"><span class="comment">// åˆ›å»ºRouterå®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// src/main.js</span></span><br><span class="line"><span class="comment">// åœ¨æ ¹ç»„ä»¶ä¸Šæ·»åŠ è¯¥å®ä¾‹</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"><span class="comment">// src/App.vue</span></span><br><span class="line"><span class="comment">// æ·»åŠ è·¯ç”±è§†å›¾</span></span><br><span class="line">&lt;router-view/&gt;</span><br><span class="line"><span class="comment">// å¯¼èˆª</span></span><br><span class="line">&lt;router-link to=<span class="string">&quot;/&quot;</span>&gt;Home&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&quot;/about&quot;</span>&gt;About&lt;/router-link&gt;</span><br><span class="line"><span class="built_in">this</span>.$router.push(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line"><span class="built_in">this</span>.$router.push(<span class="string">&#x27;/about&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h4><ul><li>å®ç°ä¸€ä¸ªæ’ä»¶<ul><li>å®ç° VueRouter ç±»<ul><li>å¤„ç†è·¯ç”±é€‰é¡¹</li><li>ç›‘æ§ url å˜åŒ–ï¼Œhashchange</li><li>å“åº”è¿™ä¸ªå˜åŒ–</li></ul></li><li>å®ç° install æ–¹æ³•<ul><li>$routeræ³¨å†Œï¼ˆthis.$router.pushï¼‰</li><li>ä¸¤ä¸ªå…¨å±€ç»„ä»¶ï¼ˆrouter-link,router-viewï¼‰</li></ul></li></ul></li></ul><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>ä¸ºäº†æ£€æµ‹åç»­æˆæœï¼Œç›´æ¥åœ¨<code>src/router/</code>ä¸‹æ–°å»ºä¸€ä¸ª<code>vuerouter.js</code>ï¼Œå¹¶å°†<code>src/router/index.js</code>ä¸­çš„<code>import VueRouter from &#39;vue-router&#39;</code>æ”¹ä¸º<code>import VueRouter from &#39;./vuerouter&#39;</code>ã€‚å¦‚æœå®ç°äº†ç›®æ ‡ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹æ•ˆæœã€‚</p><p>è¦å®ç°ä¸€ä¸ª Vue æ’ä»¶ï¼Œè¦ç»™å½“å‰ç±»å®ç°ä¸€ä¸ªé™æ€çš„<code>install</code>æ–¹æ³•ï¼Œ<code>install</code>æ–¹æ³•å°†æ¥ä¼šè¢« vue è°ƒç”¨ï¼Œè¯¥å‡½æ•°æ¥æ”¶ Vue æ„é€ å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span> (<span class="params">_Vue</span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç»„ä»¶ä¸­èƒ½å¤Ÿä½¿ç”¨<code>this.$router.push()</code>ï¼Œéœ€è¦æŒ‚è½½è·¯ç”±å™¨å®ä¾‹$router</p><p>éœ€è¦å®ç°<code>Vue.prototype.$router = router</code> router åœ¨<code>/src/router/index.js</code>çš„<code>const router = new VueRouter(&#123; routes &#125;)</code>ä¸­ä¼ å…¥</p><p>ä½†æ˜¯<code>Vue.use(VueRouter)</code>æ—¶ä¼šç«‹åˆ»è°ƒç”¨<code>install</code>æ–¹æ³•ï¼Œåœ¨ install æ‰§è¡Œæ—¶ router å®ä¾‹è¿˜ä¸å­˜åœ¨ æ‰€ä»¥éœ€è¦ä½¿ç”¨<code>Vue.mixin</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// install.call(VueRouter, Vue) installè°ƒç”¨æ—¶ï¼Œå¦‚æ­¤ä¼ å…¥_Vue</span></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span> (<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// è¿™äº›ä»£ç å»¶è¿Ÿåˆ°äº†ç»„ä»¶å®ä¾‹åŒ–çš„æ—¶å€™æ‰æ‰§è¡Œï¼Œè¿™æ—¶å°±å¯ä»¥è·å–åˆ°ç»„ä»¶é€‰é¡¹äº†</span></span><br><span class="line">      <span class="comment">// è¿™äº›ä»£ç ä¼šåœ¨æ‰€æœ‰ç»„ä»¶ä¸­éƒ½æ‰§è¡Œï¼Œä½†æ˜¯åªæœ‰åœ¨æ ¹å®ä¾‹ä¸­æ‰æœ‰routerï¼Œæ‰€ä»¥åªåœ¨æ ¹å®ä¾‹ä¸­æ‰æ‰§è¡Œå¦‚ä¸‹ä»£ç </span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.$options.router) &#123;</span><br><span class="line">        Vue.prototype.$router = <span class="built_in">this</span>.$options.router</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœè¿è¡Œé¡¹ç›®ï¼Œä¼šæŠ¥é”™<code>Unknown custom element: &lt;router-link&gt;</code>å’Œ<code>Unknown custom element: &lt;router-view&gt;</code></p><h5 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h5><p>æ³¨å†Œå…¨å±€ç»„ä»¶<code>router-view</code>å’Œ<code>router-link</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// install.call(VueRouter, Vue) installè°ƒç”¨æ—¶ï¼Œå¦‚æ­¤ä¼ å…¥_Vue</span></span><br><span class="line">VueRouter.install = <span class="function"><span class="keyword">function</span>(<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  Vue.component(<span class="string">&quot;router-link&quot;</span>, &#123;&#125;)</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> VueRouter</span><br></pre></td></tr></table></figure><p>ä¸ºç»„ä»¶æ·»åŠ <code>template</code>ä¼šæŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  template: <span class="string">&#x27;&lt;a&gt;xxxx&lt;/a&gt;&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Vue warn]: You are <span class="keyword">using</span> the runtime-<span class="keyword">only</span> build <span class="keyword">of</span> Vue <span class="keyword">where</span> the <span class="keyword">template</span> compiler <span class="keyword">is</span> <span class="keyword">not</span> available. Either pre-compile the templates <span class="keyword">into</span> render <span class="keyword">functions</span>, <span class="keyword">or</span> use the compiler-included build.</span><br></pre></td></tr></table></figure><p>å½“å‰ç¯å¢ƒæ˜¯ webpack çš„é¢„æ‰“åŒ…ç‰ˆæœ¬ï¼Œä¸åŒ…å«ç¼–è¯‘å™¨ï¼Œæ‰€æœ‰ä¸æ”¯æŒ<code>template</code></p><p>æ”¹ä¸ºç”¨<code>render(h)&#123;&#125;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// hæ˜¯createElementï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªvdom</span></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;router-link&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">Vue.component(<span class="string">&#x27;router-view&#x27;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;router-view&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°ç»“æœäº†<br><img src="/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&%E5%8E%9F%E7%90%86/1.png"></p><p>ä½¿ç”¨<code>router-link</code>æ—¶ï¼Œæ­£å¸¸æ˜¯è¿™ä¹ˆå†™çš„<code>&lt;router-link to=&quot;/about&quot;&gt;about&lt;/router-link&gt;</code></p><p>ç°åœ¨éœ€è¦æ‹¿åˆ°<code>about</code>æ¥æ›¿æ¢ä¸Šé¢å ä½çš„<code>router-link</code></p><p>åªéœ€è¦ä½¿ç”¨<code>this.$slots.default</code>å³å¯</p><p>è¿˜éœ€è¦åŠ ä¸Š<code>to</code>å±æ€§ï¼Œæ‰€ä»¥éœ€è¦ä»<code>props</code>ä¸­ä¼ è¿›æ¥</p><p>è¿™é‡Œå®ç°<code>hash</code>çš„å†™æ³•ï¼Œç»™<code>href</code>æ·»åŠ <code>#</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    to: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> h(<span class="string">&#x27;a&#x27;</span>, &#123; <span class="attr">attrs</span>: &#123; <span class="attr">href</span>: <span class="string">`#<span class="subst">$&#123;<span class="built_in">this</span>.to&#125;</span>`</span> &#125; &#125;, <span class="built_in">this</span>.$slots.default)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¹Ÿå¯ä»¥æ”¯æŒ jsx çš„å†™æ³•ï¼Œä¸è¿‡ä¸æ¨èï¼Œå› ä¸ºå¯¹å½“å‰æ‰§è¡Œç¯å¢ƒæœ‰ä¾èµ–ï¼Œå¸Œæœ›ä¸é…ç½® jsx ä¹Ÿèƒ½ä½¿ç”¨</p><p>jsx å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-link&#x27;</span>, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    to: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      required: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span>`#$&#123;<span class="attr">this.to</span>&#125;`&#125;&gt;</span>&#123;this.$slots.default&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ğŸ‰ router-link å®Œæˆ</p><h5 id="router-view"><a href="#router-view" class="headerlink" title="router-view"></a>router-view</h5><p>ç°åœ¨å¦‚æœç›´æ¥æŠŠç»„ä»¶æ‹¿è¿‡æ¥ï¼Œrender å‡ºæ¥ï¼Œå°±å¯ä»¥åœ¨é¡µé¢ä¸Šå±•ç¤ºå‡ºæ¥äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/Home.vue&#x27;</span></span><br><span class="line">...</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;</span><br><span class="line">    <span class="comment">// hå‡½æ•°å¯ä»¥æ¥æ”¶çš„å‚æ•°é™¤äº†å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»„ä»¶çš„é…ç½®å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> h(Home);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åœ¨åˆ›å»ºå®ä¾‹çš„æ—¶å€™ï¼Œä¼ è¿›æ¥çš„<code>routes</code>é‡Œé¢åŒ…å«äº†ç»„ä»¶å’Œ url çš„æ˜ å°„å…³ç³»<code>new VueRouter(&#123;routes: [...]&#125;)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜ä¸€ä¸‹ï¼Œä»¥ä¾¿åœ¨router-viewä¸­æ‹¿ï¼Œé€šè¿‡this.$router.$optionsæ‹¿</span></span><br><span class="line">    <span class="comment">// optionså°±æ˜¯ new VueRouter(&#123;routes: [...]&#125;) é‡Œé¢ä¼ è¿‡æ¥çš„</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨è·å–å½“å‰åœ°å€<code>current</code>ï¼Œå»æ‰ hash çš„#å°±æ˜¯äº†ã€‚<code>window.location.hash.slice(1) || &quot;/&quot;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">&quot;/&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">  Vue.component(<span class="string">&quot;router-view&quot;</span>, &#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">      <span class="comment">// è·å–å½“å‰è·¯ç”±å¯¹åº”çš„ç»„ä»¶</span></span><br><span class="line">      <span class="keyword">let</span> component = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">const</span> route = <span class="built_in">this</span>.$router.$options.routes.find(</span><br><span class="line">        (route) =&gt; route.path === <span class="built_in">this</span>.$router.current</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">if</span> (route) &#123;</span><br><span class="line">        component = route.component</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> h(component);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ç°åœ¨æ‰“å¼€é¡µé¢ï¼Œä¼šå‘ç°åˆ·æ–°é¡µé¢å¯ä»¥æ”¹å˜é¡µé¢ï¼Œç‚¹å‡»è·¯ç”±å´ä¸ä¼šæ”¹å˜</p><ol><li>è¿˜æ²¡æœ‰ç›‘å¬çš„ hash çš„æ”¹å˜</li><li>render å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼Œéœ€è¦å“åº”å¼</li></ol><p>ç›‘å¬ hashï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬hashå˜åŒ–</span></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”³æ˜å“åº”å¼å±æ€§çš„æ–¹å¼ï¼š</p><ol><li><code>new Vue(&#123;data: &#123; current: ... &#125;&#125;)</code></li><li><code>Vue.util.defineReactive</code>ï¼Œè¿™æ˜¯éšè— api</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// æŠŠcurrentä½œä¸ºå“åº”å¼æ•°æ®</span></span><br><span class="line">    <span class="comment">// å°†æ¥å‘ç”Ÿå˜åŒ–ï¼Œrouter-viewçš„renderå‡½æ•°èƒ½å¤Ÿå†æ¬¡æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">const</span> initial = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">&#x27;/&#x27;</span></span><br><span class="line">    Vue.util.defineReactive(<span class="built_in">this</span>, <span class="string">&#x27;current&#x27;</span>, initial)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ğŸ‰router-view å®Œæˆ</p><h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p><em>Vuex é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–</em></p><h4 id="ç›®æ ‡-1"><a href="#ç›®æ ‡-1" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h4><ul><li>å®ç°æ’ä»¶<ul><li>å®ç° Store ç±»<ul><li>ç»´æŒä¸€ä¸ªå“åº”å¼çŠ¶æ€ state</li><li>å®ç° commit()</li><li>å®ç° dispatch()</li><li>getters</li></ul></li><li>æŒ‚è½½$store</li></ul></li></ul><h4 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h4><p>å’Œ router ä¸€æ ·ï¼Œå…ˆæŠŠ<code>src/store/index.js</code>ä¸­çš„å¼•ç”¨æ”¹æ‰<code>import Vuex from &#39;./vuex.js&#39;</code></p><p>å¹¶æ·»åŠ æ£€æµ‹æˆæœé€»è¾‘</p><p><code>/src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;./vuex.js&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    counter: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.counter++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        commit(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>src/App.vue</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;add&#x27;)&quot;</span>&gt;</span>commit:&#123;&#123; $store.state.counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;$store.dispatch(&#x27;add&#x27;)&quot;</span>&gt;</span>dispatch:&#123;&#123; $store.state.counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æ­£å¸¸ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨<code>new Vuex.Store</code>çš„æ–¹å¼ï¼Œæ‰€ä»¥åŒºåˆ«äº router å¦‚ä¸‹å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">_Vue</span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„å¯¹è±¡æ‰æ˜¯Vuex</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; Store, install &#125;</span><br></pre></td></tr></table></figure><p>å’Œ router ä¸€æ ·ï¼ŒæŒ‚è½½$store</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Vue</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">_Vue</span>) </span>&#123;</span><br><span class="line">  Vue = _Vue</span><br><span class="line">  <span class="comment">// æŒ‚è½½$store</span></span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.$options.store) &#123;</span><br><span class="line">        Vue.prototype.$store = <span class="built_in">this</span>.$options.store</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¼å‡ºçš„å¯¹è±¡æ‰æ˜¯Vuex</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; Store, install &#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ å“åº”å¼å±æ€§ state</p><p>åœ¨è¿™é‡Œä¸èƒ½ä½¿ç”¨<code>Vue.set(this, &#39;xxx&#39;, &#123;&#125;)</code>ï¼Œå› ä¸º Vue.set æ˜¯ç»™å“åº”å¼å¯¹è±¡åŠ¨æ€æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œè¿™é‡Œçš„ this ä¸æ˜¯ä¸€ä¸ªå“åº”å¼å¯¹è±¡</p><p>router å·²ç»ç”¨è¿‡<code>Vue.util.defineReactive</code>ï¼Œè¿™é‡Œç”¨<code>new Vue()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜é€‰é¡¹</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line">    <span class="built_in">this</span>.state = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      data: options.state,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ç›´æ¥ç»™ç”¨æˆ·æš´éœ²äº† stateï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥æ¥è§¦åˆ° Vue å®ä¾‹ï¼Œéœ€è¦æŠŠ Vue å®ä¾‹è—èµ·æ¥ï¼Œè®©ç”¨æˆ·ä¸èƒ½ç›´æ¥ä¿®æ”¹ stateï¼Œè€Œæ˜¯é€šè¿‡ commitã€dispatch çš„æ–¹å¼ä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜é€‰é¡¹</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line">    <span class="built_in">this</span>._vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">      data: &#123;</span><br><span class="line">        <span class="comment">// åŠ ä¸Š$$ï¼Œæ—¢è¦å¯¹stateåšå“åº”å¼ï¼Œè¿˜ä¸åšä»£ç†</span></span><br><span class="line">        $$state: options.state,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title">state</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>._vm)</span><br><span class="line">    <span class="comment">// _dataå’Œ$dataæ˜¯ä¸€å›äº‹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._vm._data.$$state</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">state</span>(<span class="params">v</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;è¯·ä½¿ç”¨replaceStateé‡ç½®çŠ¶æ€&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°æ‰“å°_vm</p><p><img src="/2021/04/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6&%E5%8E%9F%E7%90%86/2.jpg"></p><p><code>__ob__</code>è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå“åº”å¼å¯¹è±¡</p><p>åŒæ—¶ï¼Œ_vm ä¸Šå¹¶æ²¡æœ‰$stateï¼ŒåŠ ä¸Š$ä¹‹å$state è¢«éšè—èµ·æ¥äº†ï¼Œè¿™æ˜¯ Vue å†…éƒ¨çº¦å®š</p><p>å®ç° commit</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ä¿å­˜mutations</span></span><br><span class="line">  <span class="built_in">this</span>._mutations = options.mutations</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// type è°ƒç”¨çš„mutationçš„åå­— payload å‚æ•°</span></span><br><span class="line"><span class="function"><span class="title">commit</span>(<span class="params">type, payload</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> entry = <span class="built_in">this</span>._mutations[type]</span><br><span class="line">  <span class="keyword">if</span> (!entry) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;unknown mutation&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  entry(<span class="built_in">this</span>.state, payload)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ç° dispath</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ä¿å­˜actions</span></span><br><span class="line">  <span class="built_in">this</span>._actions = options.actions</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">dispatch</span>(<span class="params">type, payload</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> entry = <span class="built_in">this</span>._actions[type]</span><br><span class="line">  <span class="keyword">if</span> (!entry) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;unknown action&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ—¶å¦‚ä¸‹ï¼š add(&#123; commit, dispatch, state, rootState ...&#125;) &#123;&#125;</span></span><br><span class="line">  <span class="comment">// å°±æ˜¯storeå®ä¾‹ï¼Œæ‰€ä»¥ä¼ this</span></span><br><span class="line">  entry(<span class="built_in">this</span>, payload)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ commit å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œdispatch ä¼šæŠ¥é”™</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught TypeError: Cannot <span class="keyword">read</span> <span class="keyword">property</span><span class="title"> </span>&#x27;_mutations&#x27; of undefined</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸º this æŒ‡å‘é—®é¢˜</p><p>è¿™é‡Œé”æ­»ä¸Šä¸‹æ–‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// ç»‘å®šcommitå’Œdispatchä¸Šä¸‹æ–‡ä¸ºstoreå®ä¾‹</span></span><br><span class="line">  <span class="built_in">this</span>.commit = <span class="built_in">this</span>.commit.bind(<span class="built_in">this</span>)</span><br><span class="line">  <span class="built_in">this</span>.dispatch = <span class="built_in">this</span>.dispatch.bind(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®ç°-getters"><a href="#å®ç°-getters" class="headerlink" title="å®ç° getters"></a>å®ç° getters</h4><p>åŒæ ·å…ˆæ·»åŠ æ£€éªŒçš„ä»£ç </p><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;$store.commit(&#x27;add&#x27;)&quot;</span>&gt;</span>commit:&#123;&#123; $store.state.counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;$store.dispatch(&#x27;add&#x27;)&quot;</span>&gt;</span>dispatch:&#123;&#123; $store.state.counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>doubleCounter:&#123;&#123; $store.getters.doubleCounter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;./vuex.js&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    counter: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.counter++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params">&#123; commit &#125;</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        commit(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;&#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">doubleCounter</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.counter * <span class="number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢ä¸€æ ·ï¼Œå…ˆä¿å­˜ getters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">this</span>._getters = options.getters</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ computed æ¥å¤„ç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å“åº”å¼æ“ä½œ</span></span><br><span class="line"><span class="built_in">this</span>._vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    <span class="comment">// åŠ ä¸Š$$ï¼Œæ—¢è¦å¯¹stateåšå“åº”å¼ï¼Œè¿˜ä¸åšä»£ç†</span></span><br><span class="line">    $$state: options.state,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åœ¨ Vue é‡Œ<code>computed</code>åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œkey æ˜¯æ²¡æœ‰å‚æ•°çš„å‡½æ•°</p><p>å…ˆå®šä¹‰ä¸€ä¸ª computed é€‰é¡¹ï¼Œå†ç»™ç”¨æˆ·æš´éœ²ä¸€ä¸ª getters</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// å®šä¹‰computedé€‰é¡¹</span></span><br><span class="line">    <span class="keyword">const</span> computed = &#123;&#125;</span><br><span class="line">    <span class="comment">// ç»™ç”¨æˆ·æš´éœ²getters</span></span><br><span class="line">    <span class="built_in">this</span>.getters = &#123;&#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éå†<code>this._getters</code>æ‰§è¡Œ</p><p><code>this._getters</code>æ˜¯è¿™æ ·çš„ç»“æ„<code>&#123;doubleCounter(state) &#123;&#125;&#125;</code>ï¼Œä½†æ˜¯éœ€è¦çš„æ˜¯æ— å‚æ•°çš„å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦å°è£…ä¸€ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// ä¿å­˜getters</span></span><br><span class="line">    <span class="built_in">this</span>._getters = options.getters</span><br><span class="line">    <span class="comment">// å®šä¹‰computedé€‰é¡¹</span></span><br><span class="line">    <span class="keyword">const</span> computed = &#123;&#125;</span><br><span class="line">    <span class="comment">// ç»™ç”¨æˆ·æš´éœ²getters</span></span><br><span class="line">    <span class="built_in">this</span>.getters = &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> store = <span class="built_in">this</span></span><br><span class="line">    <span class="comment">// this._getters =&gt; &#123;doubleCounter(state) &#123;&#125;&#125;</span></span><br><span class="line">    <span class="built_in">Object</span>.keys(<span class="built_in">this</span>._getters).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// è·å–ç”¨æˆ·å®šä¹‰çš„getter</span></span><br><span class="line">      <span class="comment">// ç›´æ¥ä½¿ç”¨this._gettersä¼šæœ‰æŒ‡å‘é—®é¢˜ï¼Œæ‰€ä»¥å®šä¹‰äº†store</span></span><br><span class="line">      <span class="keyword">const</span> fn = store._getters[key]</span><br><span class="line">      <span class="comment">// è½¬æ¢ä¸ºcomputedå¯ä»¥ä½¿ç”¨çš„æ— å‚æ•°å½¢å¼</span></span><br><span class="line">      computed[key] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fn(store.state)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆç”¨æˆ·è®¿é—®æ—¶ï¼Œåªèƒ½æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥ä¸º getters å®šä¹‰åªè¯»å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this._getters =&gt; &#123;doubleCounter(state) &#123;&#125;&#125;</span></span><br><span class="line"><span class="built_in">Object</span>.keys(<span class="built_in">this</span>._getters).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–ç”¨æˆ·å®šä¹‰çš„getter</span></span><br><span class="line">  <span class="keyword">const</span> fn = store._getters[key]</span><br><span class="line">  <span class="comment">// è½¬æ¢ä¸ºcomputedå¯ä»¥ä½¿ç”¨çš„æ— å‚æ•°å½¢å¼</span></span><br><span class="line">  computed[key] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn(store.state)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ä¸ºgetterså®šä¹‰åªè¯»å±æ€§</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(store.getters, key, &#123;</span><br><span class="line">    get: <span class="function">() =&gt;</span> store._vm[key],</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ğŸ‰getters å®Œæˆ</p><h4 id="è§£å†³è·¯ç”±åµŒå¥—"><a href="#è§£å†³è·¯ç”±åµŒå¥—" class="headerlink" title="è§£å†³è·¯ç”±åµŒå¥—"></a>è§£å†³è·¯ç”±åµŒå¥—</h4><p>è¿˜æ˜¯å…ˆå†™ä¸ªéªŒè¯ï¼Œ<code>/src/router/index.js</code>ä¸­æ”¹å†™<code>about</code>ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">  <span class="comment">// route level code-splitting</span></span><br><span class="line">  <span class="comment">// this generates a separate chunk (about.[hash].js) for this route</span></span><br><span class="line">  <span class="comment">// which is lazy-loaded when the route is visited.</span></span><br><span class="line">  component: <span class="function">() =&gt;</span></span><br><span class="line">    <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&#x27;../views/About.vue&#x27;</span>),</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;/about/info&#x27;</span>,</span><br><span class="line">      component: &#123;</span><br><span class="line">        <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> h(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;info page&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>åœ¨<code>/src/views/About.vue</code>ä¸­æ·»åŠ <code>&lt;router-view /&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;about&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is an about page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…ˆåš router-view çš„æ·±åº¦æ ‡è®°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-view&#x27;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// æ ‡è®°å½“å‰router-viewæ·±åº¦</span></span><br><span class="line">    <span class="built_in">this</span>.$vnode.data.routerView = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> depth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> parent = <span class="built_in">this</span>.$parent</span><br><span class="line">    <span class="keyword">while</span> (parent) &#123;</span><br><span class="line">      <span class="keyword">const</span> vnodeData = parent.$vnode &amp;&amp; parent.$vnode.data</span><br><span class="line">      <span class="keyword">if</span> (vnodeData) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vnodeData.routerView) &#123;</span><br><span class="line">          <span class="comment">// è¯´æ˜å½“å‰parentæ˜¯ä¸€ä¸ªrouter-view</span></span><br><span class="line">          depth++</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      parent = parent.$parent</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰è·¯ç”±å¯¹åº”çš„ç»„ä»¶</span></span><br><span class="line">    <span class="keyword">let</span> component = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">const</span> route = <span class="built_in">this</span>.$router.$options.routes.find(</span><br><span class="line">      (route) =&gt; route.path === <span class="built_in">this</span>.$router.current</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">if</span> (route) &#123;</span><br><span class="line">      component = route.component</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h(component)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è·¯ç”±åŒ¹é…æ—¶è·å–ä»£è¡¨æ·±åº¦å±‚çº§çš„ matched æ•°ç»„</p><p>æ”¹å†™<code>this.current</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜ä¸€ä¸‹ï¼Œä»¥ä¾¿åœ¨router-viewä¸­æ‹¿ï¼Œé€šè¿‡this.$router.$optionsæ‹¿</span></span><br><span class="line">    <span class="comment">// optionså°±æ˜¯ new VueRouter(&#123;routes: [...]&#125;) é‡Œé¢ä¼ è¿‡æ¥çš„</span></span><br><span class="line">    <span class="built_in">this</span>.$options = options</span><br><span class="line">    <span class="comment">// æŠŠcurrentä½œä¸ºå“åº”å¼æ•°æ®</span></span><br><span class="line">    <span class="comment">// å°†æ¥å‘ç”Ÿå˜åŒ–ï¼Œrouter-viewçš„renderå‡½æ•°èƒ½å¤Ÿå†æ¬¡æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">// const initial = window.location.hash.slice(1) || &#x27;/&#x27;</span></span><br><span class="line">    <span class="comment">// Vue.util.defineReactive(this, &#x27;current&#x27;, initial)</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">&#x27;/&#x27;</span></span><br><span class="line">    Vue.util.defineReactive(<span class="built_in">this</span>, <span class="string">&#x27;matched&#x27;</span>, [])</span><br><span class="line">    <span class="comment">// matchæ–¹æ³•å¯ä»¥é€’å½’éå†è·¯ç”±è¡¨ï¼Œè·å–åŒ¹é…å…³ç³»çš„æ•°ç»„</span></span><br><span class="line">    <span class="built_in">this</span>.match()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">match</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>match æ˜¯ä¸€ä¸ªé€’å½’æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="title">match</span>(<span class="params">routes</span>)</span> &#123;</span><br><span class="line">  routes = routes || <span class="built_in">this</span>.$options.routes</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€’å½’éå†</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> route <span class="keyword">of</span> routes) &#123;</span><br><span class="line">    <span class="keyword">if</span> (route.path === <span class="string">&#x27;/&#x27;</span> &amp;&amp; <span class="built_in">this</span>.current === <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.matched.push(route)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// /about/info</span></span><br><span class="line">    <span class="keyword">if</span> (route.path !== <span class="string">&#x27;/&#x27;</span> &amp;&amp; <span class="built_in">this</span>.current.indexOf(route.path) !== -<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.matched.push(route)</span><br><span class="line">      <span class="keyword">if</span> (route.children) &#123;</span><br><span class="line">        <span class="built_in">this</span>.match(route.children)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è·å–ç»„ä»¶çš„æ–¹å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;router-view&#x27;</span>, &#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params">h</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// æ ‡è®°å½“å‰router-viewæ·±åº¦</span></span><br><span class="line">    <span class="built_in">this</span>.$vnode.data.routerView = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> depth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">let</span> parent = <span class="built_in">this</span>.$parent</span><br><span class="line">    <span class="keyword">while</span> (parent) &#123;</span><br><span class="line">      <span class="keyword">const</span> vnodeData = parent.$vnode &amp;&amp; parent.$vnode.data</span><br><span class="line">      <span class="keyword">if</span> (vnodeData) &#123;</span><br><span class="line">        <span class="keyword">if</span> (vnodeData.routerView) &#123;</span><br><span class="line">          <span class="comment">// è¯´æ˜å½“å‰parentæ˜¯ä¸€ä¸ªrouter-view</span></span><br><span class="line">          depth++</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      parent = parent.$parent</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–å½“å‰è·¯ç”±å¯¹åº”çš„ç»„ä»¶</span></span><br><span class="line">    <span class="keyword">let</span> component = <span class="literal">null</span></span><br><span class="line">    <span class="comment">// const route = this.$options.routes.find(</span></span><br><span class="line">    <span class="comment">//   (route) =&gt; route.path === this.$router.current</span></span><br><span class="line">    <span class="comment">// )</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> route = <span class="built_in">this</span>.$router.matched[depth]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (route) &#123;</span><br><span class="line">      component = route.component</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h(component)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å½“ hashchange æ—¶ï¼Œæ¸…ç©º matchedï¼Œå¹¶é‡æ–°è·å–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;hashchange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.current = <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>)</span><br><span class="line">  <span class="built_in">this</span>.matched = []</span><br><span class="line">  <span class="built_in">this</span>.match()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ğŸ‰ å®Œæˆè·¯ç”±åµŒå¥—</p><p><strong>å…¨æ–‡ç»“æŸ</strong></p><p><em>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/YongMaple/vue-study">https://github.com/YongMaple/vue-study</a></em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾&quot;&gt;&lt;a href=&quot;#é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾&quot; class=&quot;headerlink&quot; title=&quot;é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾&quot;&gt;&lt;/a&gt;&lt;em&gt;é¡¹ç›®åœ°å€è§æœ¬æ–‡ç»“å°¾&lt;/em&gt;&lt;/h5&gt;&lt;h3 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="Vue" scheme="https://yongmaple.com/tags/Vue/"/>
    
    <category term="vue-router" scheme="https://yongmaple.com/tags/vue-router/"/>
    
    <category term="vuex" scheme="https://yongmaple.com/tags/vuex/"/>
    
    <category term="æ‰‹æ’•æºç " scheme="https://yongmaple.com/tags/%E6%89%8B%E6%92%95%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Vite2å·¥ç¨‹åŒ–</title>
    <link href="https://yongmaple.com/2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/"/>
    <id>https://yongmaple.com/2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/</id>
    <published>2021-03-30T16:18:49.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Viteæ˜¯ä»€ä¹ˆ"><a href="#Viteæ˜¯ä»€ä¹ˆ" class="headerlink" title="Viteæ˜¯ä»€ä¹ˆ"></a>Viteæ˜¯ä»€ä¹ˆ</h4><p>Viteæ˜¯ä¸€ä¸ªå¼€å‘æ„å»ºå·¥å…·ï¼Œå¼€å‘ä¸­å®ƒåˆ©ç”¨æµè§ˆå™¨<strong>native ES Module</strong>ç‰¹æ€§æŒ‰éœ€å¯¼å…¥æºç ï¼Œé¢„æ‰“åŒ…ä¾èµ–ã€‚<br>ç‰¹ç‚¹ï¼š</p><ul><li>å¯åŠ¨å¿«</li><li>æ›´æ–°å¿«</li></ul><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init @vite/app</span><br></pre></td></tr></table></figure><h4 id="å°†èµ„æºå¼•å…¥ä¸ºURL"><a href="#å°†èµ„æºå¼•å…¥ä¸ºURL" class="headerlink" title="å°†èµ„æºå¼•å…¥ä¸ºURL"></a>å°†èµ„æºå¼•å…¥ä¸ºURL</h4><p>æœåŠ¡æ—¶å¼•å…¥ä¸€ä¸ªé™æ€èµ„æºä¼šè¿”å›è§£æåçš„å…¬å…±è·¯å¾„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æä¸ºåœ°å€</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;./assets/logo.png&#x27;</span>  <span class="comment">// è¾“å‡º/src/assets/logo.png</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªè·¯å¾„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æ‰“å¼€Chrome Networkï¼Œçœ‹App.vueï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢çš„åœ°å€æ˜¯è¢«è§£æåçš„å…¬å…±è·¯å¾„<br><img src="/2021/03/30/Vite2%E5%B7%A5%E7%A8%8B%E5%8C%96/20210330162917.jpg"></p><h4 id="è®¾ç½®åˆ«å"><a href="#è®¾ç½®åˆ«å" class="headerlink" title="è®¾ç½®åˆ«å"></a>è®¾ç½®åˆ«å</h4><p>vite.config.jsï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> resolve <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: resolve(<span class="string">&#x27;./src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;comps&#x27;</span>: resolve(<span class="string">&#x27;./src/components&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>styleä¸­åŒæ ·å¯ä»¥ä½¿ç”¨åˆ«åæ¥å¼•å…¥å›¾ç‰‡ç­‰</p><h4 id="TSæ•´åˆ"><a href="#TSæ•´åˆ" class="headerlink" title="TSæ•´åˆ"></a>TSæ•´åˆ</h4><p>é»˜è®¤æ•´åˆtsï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ<code>&lt;script lang=&quot;ts&quot;&gt;</code>å³å¯ï¼Œéœ€è¦å›ºå®štsç‰ˆæœ¬çš„è¯ï¼Œåœ¨<code>package.json</code>çš„<code>devDependencies</code>ä¸­ç›´æ¥æ·»åŠ <code>&quot;typescript&quot;: &quot;4.1.5&quot;</code>å³å¯</p><p>tsconfig.jsonå¯ä»¥è‡ªè¡Œé…ç½®åæ”¾å…¥é¡¹ç›®å³å¯</p><h4 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h4><p><code>vite.config.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  server: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        target: <span class="string">&quot;***&quot;</span>,</span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        rewrite: <span class="function">(<span class="params">path</span>) =&gt;</span> path.replace(<span class="regexp">/^\api/</span>, <span class="string">&quot;&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®mock"><a href="#æ•°æ®mock" class="headerlink" title="æ•°æ®mock"></a>æ•°æ®mock</h4><p>å®‰è£…ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i mockjs -S</span><br><span class="line">npm i vite-plugin-mock -D</span><br></pre></td></tr></table></figure><p>å¼•å…¥æ’ä»¶ï¼Œ<code>vite.config.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; viteMockServe &#125; <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-mock&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineConfig(&#123;</span><br><span class="line">  ...</span><br><span class="line">  plugins: [ viteMockServe(&#123;&#125;) ]</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é¡¹ç›®ä¸‹åˆ›å»º<code>mock</code>æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹å°±å¯ä»¥åˆ›å»ºmockæ•°æ®äº†ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    url: <span class="string">&quot;/api/users&quot;</span>,</span><br><span class="line">    method: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    response: <span class="function"><span class="params">req</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        code: <span class="number">0</span>,</span><br><span class="line">        data: [&#123; <span class="attr">name</span>: <span class="string">&quot;foo&quot;</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">&quot;bar&quot;</span> &#125;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="headerlink" title="ä»£ç è§„èŒƒ"></a>ä»£ç è§„èŒƒ</h4><p>ä½¿ç”¨<code>eslint + prettier</code>è§„èŒƒä»£ç <br>æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/eslint-plugin&quot;</span>: <span class="string">&quot;^4.15.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@typescript-eslint/parser&quot;</span>: <span class="string">&quot;^4.15.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/eslint-config-prettier&quot;</span>: <span class="string">&quot;^6.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vue/eslint-config-typescript&quot;</span>: <span class="string">&quot;^7.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@vuedx/typescript-plugin-vue&quot;</span>: <span class="string">&quot;^0.6.3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^7.20.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-prettier&quot;</span>: <span class="string">&quot;^3.3.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;eslint-plugin-vue&quot;</span>: <span class="string">&quot;^7.6.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;prettier&quot;</span>: <span class="string">&quot;^2.2.1&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœªå®Œå¾…ç»­</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;Viteæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#Viteæ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;Viteæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;Viteæ˜¯ä»€ä¹ˆ&lt;/h4&gt;&lt;p&gt;Viteæ˜¯ä¸€ä¸ªå¼€å‘æ„å»ºå·¥å…·ï¼Œå¼€å‘ä¸­å®ƒåˆ©ç”¨æµè§ˆå™¨&lt;strong&gt;native ES Module&lt;/s</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Reactä¸­çš„nextTick</title>
    <link href="https://yongmaple.com/2021/03/29/React%E4%B8%AD%E7%9A%84nextTick/"/>
    <id>https://yongmaple.com/2021/03/29/React%E4%B8%AD%E7%9A%84nextTick/</id>
    <published>2021-03-29T15:57:09.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ AntV-L7 çš„ Draw-Controlï¼Œéœ€è¦å®ç°åœ¨å¼¹æ¡†ä¸­åœ°å›¾ç”»åœˆæ¡†é€‰èŒƒå›´ã€‚<br>ä½¿ç”¨äº† hooks çš„å†™æ³•ï¼Œåœ¨å¼¹æ¡†å‡ºç°ååœ°å›¾æ­£å¸¸æ˜¾ç¤ºï¼Œç‚¹å‡»ç”»åœˆæˆ–å…¶ä»–ç»˜å›¾åŠŸèƒ½åï¼Œç»˜å›¾çš„ canvas åªæœ‰çº¦ä¸€åŠå¤§å°ã€‚<br>æ€è€ƒåè®¤ä¸ºåº”è¯¥æ˜¯åœ¨<code>new DrawControl()</code>æ—¶ï¼ŒuseState è¿˜æ²¡æ‰§è¡Œèµ‹å€¼ï¼Œé”™è¯¯èŒƒä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> handleDrawCircle = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  setShowModal(<span class="literal">true</span>)</span><br><span class="line">  scene = <span class="keyword">new</span> Scene(&#123;</span><br><span class="line">    id: <span class="string">&#x27;drawCircleWrap&#x27;</span>,</span><br><span class="line">    map: <span class="keyword">new</span> GaodeMap(&#123;</span><br><span class="line">      style: <span class="string">&#x27;dark&#x27;</span>,</span><br><span class="line">      center: [<span class="number">120.190494</span>, <span class="number">30.189643</span>],</span><br><span class="line">      pitch: <span class="number">0</span>,</span><br><span class="line">      zoom: <span class="number">4</span>,</span><br><span class="line">      token: GAODE_TOKEN,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;)</span><br><span class="line">  scene.on(<span class="string">&#x27;loaded&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    drawControl = <span class="keyword">new</span> DrawControl(scene, &#123;</span><br><span class="line">      position: <span class="string">&#x27;topright&#x27;</span>,</span><br><span class="line">      layout: <span class="string">&#x27;horizontal&#x27;</span>,</span><br><span class="line">      controls: &#123;</span><br><span class="line">        point: <span class="literal">false</span>,</span><br><span class="line">        line: <span class="literal">false</span>,</span><br><span class="line">        polygon: <span class="literal">false</span>,</span><br><span class="line">        circle: <span class="literal">true</span>,</span><br><span class="line">        rect: <span class="literal">false</span>,</span><br><span class="line">        <span class="keyword">delete</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    scene.addControl(drawControl)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§ä»¥å‰å†™Vueçš„ç»éªŒï¼Œåªè¦ç”¨nextTickå°±èƒ½è§£å†³äº†ï¼Œä½†æ˜¯æœäº†ä¸€ä¸‹ï¼ŒReactä¸­æ²¡æœ‰nextTickï¼Œä½†æ˜¯æœ‰ä¸¤ç§æ›¿ä»£æ–¹å¼</p><ol><li><code>setTimeout(() =&gt; &#123;&#125;, 0)</code></li><li><code>useEffect(() =&gt; &#123;&#125;, [showModal])</code><br>ä¸¤ç§æ–¹å¼åœ¨æˆ‘çœ‹æ¥éƒ½ä¸æ˜¯å¾ˆå¥½çœ‹â€¦â€¦æœ€åè¿˜æ˜¯å†³å®šç”¨<code>setTimeout</code>ï¼Œå› ä¸ºç”¨<code>useEffect</code>è¿˜éœ€è¦åˆ¤æ–­ä¸‹showModalæ˜¯å¦ä¸ºtrue</li></ol><p>å¦‚æœç”¨Classçš„å†™æ³•ï¼Œä¹Ÿå¯ä»¥è¿™æ ·<code>setState(&#123;&#125;,() =&gt; &#123;&#125;)</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œä½¿ç”¨ AntV-L7 çš„ Draw-Controlï¼Œéœ€è¦å®ç°åœ¨å¼¹æ¡†ä¸­åœ°å›¾ç”»åœˆæ¡†é€‰èŒƒå›´ã€‚&lt;br&gt;ä½¿ç”¨äº† hooks çš„å†™æ³•ï¼Œåœ¨å¼¹</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="React" scheme="https://yongmaple.com/tags/React/"/>
    
    <category term="AntV" scheme="https://yongmaple.com/tags/AntV/"/>
    
    <category term="nextTick" scheme="https://yongmaple.com/tags/nextTick/"/>
    
    <category term="hooks" scheme="https://yongmaple.com/tags/hooks/"/>
    
  </entry>
  
  <entry>
    <title>Vueå’ŒReactè®¾è®¡æ€è·¯</title>
    <link href="https://yongmaple.com/2021/03/29/Vue%E5%92%8CReact%E6%AF%94%E8%BE%83/"/>
    <id>https://yongmaple.com/2021/03/29/Vue%E5%92%8CReact%E6%AF%94%E8%BE%83/</id>
    <published>2021-03-29T07:44:09.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‘å±•å†ç¨‹"><a href="#å‘å±•å†ç¨‹" class="headerlink" title="å‘å±•å†ç¨‹"></a>å‘å±•å†ç¨‹</h4><ul><li>Vue1<br>åªæœ‰å“åº”å¼ï¼Œæ²¡æœ‰vdomï¼Œæ‰€æœ‰çš„éƒ½æ˜¯é€šçŸ¥çš„æœºåˆ¶</li><li>React15<br>Class Component</li><li>Vue2<br>å¼•å…¥äº†vdom</li><li>React16<br>å¼•å…¥äº†Fiberå’ŒHooks</li><li>Vue3 &amp; React17</li></ul><h4 id="Vue3-amp-React17"><a href="#Vue3-amp-React17" class="headerlink" title="Vue3 &amp; React17"></a>Vue3 &amp; React17</h4><ul><li>Vue OptionApi<ol><li>ä¼˜ç‚¹ï¼šç»“æ„æ¸…æ™°ï¼Œå¥½ç†è§£ï¼Œæ•°æ®å»dataï¼Œæ–¹æ³•å»methodsç­‰ï¼Œæ˜“å­¦ã€‚</li><li>ç¼ºç‚¹ï¼šå°±æ˜¯åå¤æ¨ªè·³ï¼Œåœ¨å¤„ç†ä¸€ä¸ªé€»è¾‘æ—¶ï¼Œéœ€è¦åœ¨templateã€dataã€methodsç­‰åå¤æ“ä½œã€‚mixinsæœ‰ä¸ªé—®é¢˜ï¼Œå¯èƒ½å‘½åå†²çªï¼ŒåŒæ—¶mixinsæ—¶thisæ˜¯ä¸ªé»‘ç›’ï¼Œé‡Œé¢æœ‰ä»€ä¹ˆæ˜¯ä¸çŸ¥é“çš„ï¼Œtsæ”¯æŒå·®</li></ol></li><li>Vue CompositionApi<ol><li>ç¼ºç‚¹ï¼šéš¾çœ‹ï¼Œä¸å¦‚Optionç®€å•ã€‚returnå¾ˆè›‹ç–¼ï¼Œreturnä¹Ÿè¦åå¤æ¨ªè·³</li><li>ä¼˜ç‚¹ï¼š</li></ol><ul><li>å¯ä»¥åštree-shakingï¼Œæ¯”å¦‚æ²¡æœ‰ç”¨åˆ°computedï¼Œä»£ç buildçš„æ—¶å€™å°±ä¼šåˆ æ‰Vue3é‡Œé¢çš„computedçš„ä»£ç </li><li>ç»„ä»¶å¯ä»¥ä»»æ„æ‹†åˆ† æ–¹ä¾¿ç»„åˆ é€»è¾‘éƒ½æ˜¯å‡½æ•°ï¼Œç»„åˆä¼˜äºç»§æ‰¿</li><li>å‘½åå†²çªäº†åªè¦:èµ·ä¸ªåˆ«åå°±è¡Œäº†</li></ul></li><li>æ¸è¿›å¼æ›´æ–°ref api<ul><li>setupå†™åœ¨scriptï¼Œè§£å†³returnç­‰å†—ä½™</li><li>æ–¹è¨€ï¼š<code>let x = ref(0)</code> =&gt; <code>ref: x = 1</code>ä½¿ç”¨æ—¶å¯ä»¥ä¸ç”¨å†™<code>x.value</code></li></ul></li><li>compositionå’Œhooksçš„åŒºåˆ«<ul><li>è¯­æ³•ä¸Šæ¯”è¾ƒåƒï¼Œä½†åº•å±‚è®¾è®¡ä¸ŠåŒºåˆ«å¾ˆå¤§</li><li>hooksä¸­ä¾‹å¦‚useStateæ¯æ¬¡renderéƒ½ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æœ‰ä¸¥æ ¼çš„é¡ºåºè¦æ±‚ï¼Œä¸èƒ½å†™åœ¨ifé‡Œé¢</li><li>compositionåç»­é çš„æ˜¯å“åº”å¼é€šçŸ¥</li><li>éƒ½é‡‡ç”¨ç»„åˆçš„å½¢å¼ï¼Œå‡½æ•°å¼çš„ç»„ä»¶æ˜¯æœªæ¥</li></ul></li><li>vue å“åº”å¼ + vdom<ul><li>å“åº”å¼ï¼š æ•°æ®å˜äº†é€šçŸ¥ä½ </li><li>vdomï¼š æ•°æ®å˜äº†ä½ ä¸çŸ¥é“å“ªé‡Œå˜äº†ï¼Œéœ€è¦ç®—ä¸€æ¬¡diffï¼Œæ‰çŸ¥é“å˜åŒ–</li><li>vue1åªæœ‰å“åº”å¼ï¼Œé¡¹ç›®å¤§äº†ä¹‹åï¼Œå“åº”å¼å¯¹è±¡å¤ªå¤šï¼Œå¯¼è‡´å¡é¡¿</li></ul></li><li>reactçº¯vdom<ul><li>vdomæ ‘å¤ªå¤§ï¼Œdiffæ—¶é—´è¶…è¿‡16.6msï¼Œä¼šå¯¼è‡´å¡é¡¿</li></ul></li><li>React Class =&gt; hooks</li></ul><h4 id="JSX-å’Œ-Template"><a href="#JSX-å’Œ-Template" class="headerlink" title="JSX å’Œ Template"></a>JSX å’Œ Template</h4><p>æœªå®Œå¾…ç»­</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;å‘å±•å†ç¨‹&quot;&gt;&lt;a href=&quot;#å‘å±•å†ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;å‘å±•å†ç¨‹&quot;&gt;&lt;/a&gt;å‘å±•å†ç¨‹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Vue1&lt;br&gt;åªæœ‰å“åº”å¼ï¼Œæ²¡æœ‰vdomï¼Œæ‰€æœ‰çš„éƒ½æ˜¯é€šçŸ¥çš„æœºåˆ¶&lt;/li&gt;
&lt;li&gt;React15&lt;br&gt;Clas</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è®¾ç½®iTerm2å…å¯†ç™»é™†sshè¿œç¨‹æœåŠ¡å™¨</title>
    <link href="https://yongmaple.com/2021/03/27/%E8%AE%BE%E7%BD%AEiTerm2%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://yongmaple.com/2021/03/27/%E8%AE%BE%E7%BD%AEiTerm2%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86ssh%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2021-03-27T15:51:52.000Z</published>
    <updated>2021-04-02T09:37:16.273Z</updated>
    
    <content type="html"><![CDATA[<p>è½¬è½½è‡ª<a href="https://zhuanlan.zhihu.com/p/180500618">https://zhuanlan.zhihu.com/p/180500618</a></p><p>åŸæ–‡ä¸­ä»£ç å­˜åœ¨bugï¼Œå·²ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/expect -f</span></span><br><span class="line"><span class="comment">#trap sigwinch spawned</span></span><br><span class="line">  <span class="built_in">trap</span> &#123;</span><br><span class="line">    <span class="built_in">set</span> rows [stty rows]</span><br><span class="line">    <span class="built_in">set</span> cols [stty columns]</span><br><span class="line">    stty rows <span class="variable">$rows</span> columns <span class="variable">$cols</span> &lt; <span class="variable">$spawn_out</span>(slave,name)</span><br><span class="line">   &#125; WINCH</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> user username</span><br><span class="line"><span class="built_in">set</span> host 0.0.0.0</span><br><span class="line"><span class="built_in">set</span> password keys</span><br><span class="line"><span class="built_in">set</span> timeout -1</span><br><span class="line">spawn ssh -XY <span class="variable">$user</span>@<span class="variable">$host</span></span><br><span class="line">expect <span class="string">&quot;*password:*&quot;</span></span><br><span class="line">send <span class="string">&quot;<span class="variable">$password</span>\r&quot;</span></span><br><span class="line">interact</span><br><span class="line">expect eof</span><br></pre></td></tr></table></figure><p>ç®€è¿°ä¸‹é€»è¾‘å°±æ˜¯ï¼Œ</p><ol><li>åœ¨æœ¬åœ°ä½ æƒ³å­˜åœ¨å‘½ä»¤çš„åœ°æ–¹å»ºä¸ªæ–‡ä»¶å¤¹</li><li>æŠŠä¸Šé¢çš„ä»£ç å†™å¥½ï¼Œä¿å­˜è¿›å»</li><li>ç„¶ååœ¨iterm2é‡Œé…ç½®å¥½</li><li>ä¹‹åiterm2å°±å¯ä»¥ä¸€é”®æ‰§è¡Œä»£ç äº†ï¼Œç”¨æ¥ç™»å½•æœåŠ¡å™¨ï¼Œå¹¶çª—å£å¯ä»¥è‡ªé€‚åº”<br>å…·ä½“å¯ä»¥çœ‹åŸæ–‡</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è½¬è½½è‡ª&lt;a href=&quot;https://zhuanlan.zhihu.com/p/180500618&quot;&gt;https://zhuanlan.zhihu.com/p/180500618&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸæ–‡ä¸­ä»£ç å­˜åœ¨bugï¼Œå·²ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure clas</summary>
      
    
    
    
    <category term="å·¥å…·" scheme="https://yongmaple.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="iTerm2" scheme="https://yongmaple.com/tags/iTerm2/"/>
    
  </entry>
  
  <entry>
    <title>Reacté€’å½’æ¸²æŸ“AntDèœå•</title>
    <link href="https://yongmaple.com/2021/03/25/React%E9%80%92%E5%BD%92%E6%B8%B2%E6%9F%93AntD%E8%8F%9C%E5%8D%95/"/>
    <id>https://yongmaple.com/2021/03/25/React%E9%80%92%E5%BD%92%E6%B8%B2%E6%9F%93AntD%E8%8F%9C%E5%8D%95/</id>
    <published>2021-03-25T10:30:55.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h3 id="layoutsçš„å†™æ³•"><a href="#layoutsçš„å†™æ³•" class="headerlink" title="layoutsçš„å†™æ³•"></a>layoutsçš„å†™æ³•</h3><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> renderMenu = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> data.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.routes &amp;&amp; item.routes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;SubMenu</span><br><span class="line">          key=&#123;item.name&#125;</span><br><span class="line">          title=&#123;item.name&#125;</span><br><span class="line">          icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;renderMenu(item.routes)&#125;</span><br><span class="line">        &lt;/SubMenu&gt;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (item.other) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Menu.Item key=&#123;item.path&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">        &#123;item.name&#125;</span><br><span class="line">      &lt;/Menu.Item&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> handleMenu = <span class="function">(<span class="params">&#123; key &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  history.push(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  ...</span><br><span class="line">  &lt;Menu</span><br><span class="line">    defaultSelectedKeys=&#123;[location.pathname]&#125;</span><br><span class="line">    mode=<span class="string">&quot;inline&quot;</span></span><br><span class="line">    inlineCollapsed=&#123;collapsed&#125;</span><br><span class="line">    className=&#123;style.menu&#125;</span><br><span class="line">    onClick=&#123;handleMenu&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;renderMenu(routes)&#125;</span><br><span class="line">  &lt;/Menu&gt;</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="routesçš„å†™æ³•"><a href="#routesçš„å†™æ³•" class="headerlink" title="routesçš„å†™æ³•"></a>routesçš„å†™æ³•</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  path: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">  component: <span class="string">&#x27;@/pages/foo&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;foo&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  path: <span class="string">&#x27;/foobar&#x27;</span>,</span><br><span class="line">  component: <span class="string">&#x27;@/pages/foobar&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Foobar&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;foobar&#x27;</span>,</span><br><span class="line">  other: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  exact: <span class="literal">true</span>,</span><br><span class="line">  name: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">  icon: <span class="string">&#x27;bar&#x27;</span>,</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      exact: <span class="literal">true</span>,</span><br><span class="line">      path: <span class="string">&#x27;/baz&#x27;</span>,</span><br><span class="line">      component: <span class="string">&#x27;@/pages/baz&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;Baz&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">exact</span>: <span class="literal">true</span>, </span><br><span class="line">      path: <span class="string">&#x27;/qux&#x27;</span>, </span><br><span class="line">      component: <span class="string">&#x27;@/pages/qux&#x27;</span>, </span><br><span class="line">      name: <span class="string">&#x27;Qux&#x27;</span> </span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;layoutsçš„å†™æ³•&quot;&gt;&lt;a href=&quot;#layoutsçš„å†™æ³•&quot; class=&quot;headerlink&quot; title=&quot;layoutsçš„å†™æ³•&quot;&gt;&lt;/a&gt;layoutsçš„å†™æ³•&lt;/h3&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="AntD" scheme="https://yongmaple.com/tags/AntD/"/>
    
    <category term="React" scheme="https://yongmaple.com/tags/React/"/>
    
    <category term="Menu" scheme="https://yongmaple.com/tags/Menu/"/>
    
  </entry>
  
  <entry>
    <title>hexoä¸­å›¾ç‰‡ç»„ä»¶hexo-asset-imageçš„ä½¿ç”¨</title>
    <link href="https://yongmaple.com/2021/03/16/hexo%E4%B8%AD%E5%9B%BE%E7%89%87%E7%BB%84%E4%BB%B6hexo-asset-image%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>https://yongmaple.com/2021/03/16/hexo%E4%B8%AD%E5%9B%BE%E7%89%87%E7%BB%84%E4%BB%B6hexo-asset-image%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2021-03-16T17:30:10.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>hexoä¸­ç›´æ¥é€šè¿‡<code>npm i hexo-asset-image</code>ä¸‹è½½çš„ç»„ä»¶ç”±äºæ²¡äººç»´æŠ¤ï¼Œç›®å‰æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚<br>æ ¹æ®<a href="https://blog.csdn.net/xjm850552586/article/details/84101345">https://blog.csdn.net/xjm850552586/article/details/84101345</a>çš„ä»£ç .<br>æˆ‘forkäº†åŸ<code>hexo-asset-image</code>é¡¹ç›®ï¼Œåœ¨npmä¸Šå‘å¸ƒäº†<code>hexo-assets-images</code>ç»„ä»¶ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-<span class="built_in">image</span> --<span class="built_in">save</span></span><br></pre></td></tr></table></figure><p><code>hexo new post [title]</code>åï¼Œä¼šåœ¨_postsæ–‡ä»¶å¤¹ä¸‹ç”ŸæˆåŒåæ–‡ä»¶å¤¹<br>åœ¨éœ€è¦æ’å…¥å›¾ç‰‡çš„åœ°æ–¹å†™<code>![logo](logo.jpg)</code>ï¼Œå°†æ’å…¥<code>[title]</code>æ–‡ä»¶å¤¹ä¸‹logo.jpg.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;hexoä¸­ç›´æ¥é€šè¿‡&lt;code&gt;npm i hexo-asset-image&lt;/code&gt;ä¸‹è½½çš„ç»„ä»¶ç”±äºæ²¡äººç»´æŠ¤ï¼Œç›®å‰æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚&lt;br&gt;æ ¹æ®&lt;a href=&quot;https://blog.csdn.net/xjm850552586/article/details/841013</summary>
      
    
    
    
    <category term="å…¶ä»–" scheme="https://yongmaple.com/categories/%E5%85%B6%E4%BB%96/"/>
    
    
  </entry>
  
  <entry>
    <title>ç§»åŠ¨ç«¯100VHæ—¶é«˜åº¦ä¸æ»¡</title>
    <link href="https://yongmaple.com/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/"/>
    <id>https://yongmaple.com/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/</id>
    <published>2021-03-09T14:31:44.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>å‚è€ƒè‡ª<a href="https://blog.csdn.net/lgno2/article/details/109446447">ç§»åŠ¨ç«¯é¿å…ä½¿ç”¨100vh</a></p><h4 id="å¤ç°ï¼š"><a href="#å¤ç°ï¼š" class="headerlink" title="å¤ç°ï¼š"></a>å¤ç°ï¼š</h4><p>é’‰é’‰H5å¼€å‘ï¼Œä½¿ç”¨<code>dd_full_screen=true&amp;showmenu=false</code>è®¾ç½®ä¸ºå…¨å±ï¼Œåœ¨iphoneXä¸Šï¼Œé«˜åº¦ä¸è¶³ï¼Œåº•éƒ¨ç¼ºå¤±éƒ¨åˆ†</p><span id="more"></span><p><img src="/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/image.png"></p><h4 id="åŸå› ï¼š"><a href="#åŸå› ï¼š" class="headerlink" title="åŸå› ï¼š"></a>åŸå› ï¼š</h4><p>æ ¸å¿ƒé—®é¢˜æ˜¯ç§»åŠ¨æµè§ˆå™¨ï¼ˆæˆ‘æ­£åœ¨ä¸ºæ‚¨æµè§ˆï¼ŒChromeå’ŒSafariï¼‰å…·æœ‰â€œå¸®åŠ©â€åŠŸèƒ½ï¼Œå…¶ä¸­åœ°å€æ æœ‰æ—¶å¯è§ï¼Œæœ‰æ—¶éšè—ï¼Œä»è€Œæ”¹å˜äº†è§†å£çš„å¯è§å¤§å°ã€‚è¿™äº›æµè§ˆå™¨æ²¡æœ‰å°†100vhé«˜åº¦è°ƒæ•´ä¸ºè§†å£é«˜åº¦å˜åŒ–æ—¶å±å¹•çš„å¯è§éƒ¨åˆ†ï¼Œè€Œæ˜¯å°†100vhè®¾ç½®ä¸ºæµè§ˆå™¨çš„é«˜åº¦ï¼Œå¹¶éšè—äº†åœ°å€æ ã€‚ç»“æœæ˜¯ï¼Œå½“åœ°å€æ å¯è§æ—¶ï¼Œå±å¹•çš„åº•éƒ¨å°†è¢«åˆ‡é™¤ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="/2021/03/09/%E7%A7%BB%E5%8A%A8%E7%AB%AF100VH%E6%97%B6%E9%AB%98%E5%BA%A6%E4%B8%8D%E6%BB%A1/image2.jpg"></p><p>å½“æ˜¾ç¤ºåœ°å€æ æ—¶ï¼Œç”±äºç§»åŠ¨æµè§ˆå™¨é”™è¯¯åœ°å°†100vhè®¾ç½®ä¸ºå±å¹•é«˜åº¦è€Œæ²¡æœ‰æ˜¾ç¤ºåœ°å€æ ï¼Œå› æ­¤å±å¹•åº•éƒ¨è¢«åˆ‡æ–­ã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œåº”éšè—åœ¨å±å¹•åº•éƒ¨çš„æŒ‰é’®ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå½“ç”¨æˆ·é¦–æ¬¡è®¿é—®ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç½‘ç«™æ—¶ï¼Œåœ°å€æ å°†åœ¨é¡¶éƒ¨å¯è§ï¼Œå› æ­¤é»˜è®¤çš„ä½“éªŒæ˜¯ç ´ç¢çš„ä½“éªŒã€‚</p><h4 id="è§£å†³ï¼š"><a href="#è§£å†³ï¼š" class="headerlink" title="è§£å†³ï¼š"></a>è§£å†³ï¼š</h4><p>ä½¿ç”¨window.innerHeightåŠ¨æ€è®¾ç½®é«˜åº¦</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‚è€ƒè‡ª&lt;a href=&quot;https://blog.csdn.net/lgno2/article/details/109446447&quot;&gt;ç§»åŠ¨ç«¯é¿å…ä½¿ç”¨100vh&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;å¤ç°ï¼š&quot;&gt;&lt;a href=&quot;#å¤ç°ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å¤ç°ï¼š&quot;&gt;&lt;/a&gt;å¤ç°ï¼š&lt;/h4&gt;&lt;p&gt;é’‰é’‰H5å¼€å‘ï¼Œä½¿ç”¨&lt;code&gt;dd_full_screen=true&amp;amp;showmenu=false&lt;/code&gt;è®¾ç½®ä¸ºå…¨å±ï¼Œåœ¨iphoneXä¸Šï¼Œé«˜åº¦ä¸è¶³ï¼Œåº•éƒ¨ç¼ºå¤±éƒ¨åˆ†&lt;/p&gt;</summary>
    
    
    
    <category term="æŠ¥é”™" scheme="https://yongmaple.com/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="ç§»åŠ¨ç«¯é€‚é…" scheme="https://yongmaple.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>AntDä¸­menuåŠ¨æ€ç”Ÿæˆï¼ŒåŠåŠ¨æ€ç”ŸæˆIcon</title>
    <link href="https://yongmaple.com/2021/03/09/AntD%E4%B8%ADmenu%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%EF%BC%8C%E5%8F%8A%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90Icon/"/>
    <id>https://yongmaple.com/2021/03/09/AntD%E4%B8%ADmenu%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%EF%BC%8C%E5%8F%8A%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90Icon/</id>
    <published>2021-03-09T14:28:30.000Z</published>
    <updated>2021-04-02T09:37:16.265Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ routes.ts é‡Œé¢é…ç½®è·¯ç”±ï¼Œmenu æ ¹æ® routes åŠ¨æ€ç”Ÿæˆ</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> [</span><br><span class="line">  &#123;</span><br><span class="line">    exact: <span class="literal">false</span>,</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    component: <span class="string">&#x27;@/layouts/index&#x27;</span>,</span><br><span class="line">    routes: [</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/overview&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Overview&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;æ€»è§ˆ&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;RadarChartOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/events&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Events&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;äº‹ä»¶åˆ—è¡¨&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;BarsOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/feedback&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Feedback&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;æƒ…æŠ¥åé¦ˆ&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;AlertOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        path: <span class="string">&#x27;/contacts&#x27;</span>,</span><br><span class="line">        component: <span class="string">&#x27;@/pages/Contacts&#x27;</span>,</span><br><span class="line">        name: <span class="string">&#x27;è”ç³»äºº&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;DeploymentUnitOutlined&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        exact: <span class="literal">true</span>,</span><br><span class="line">        name: <span class="string">&#x27;åå°ç®¡ç†&#x27;</span>,</span><br><span class="line">        icon: <span class="string">&#x27;SlidersOutlined&#x27;</span>,</span><br><span class="line">        routes: [</span><br><span class="line">          &#123;</span><br><span class="line">            exact: <span class="literal">true</span>,</span><br><span class="line">            path: <span class="string">&#x27;/classifications&#x27;</span>,</span><br><span class="line">            component: <span class="string">&#x27;@/pages/Classifications&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;åˆ†ç±»ç®¡ç†&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            exact: <span class="literal">true</span>,</span><br><span class="line">            path: <span class="string">&#x27;/records&#x27;</span>,</span><br><span class="line">            component: <span class="string">&#x27;@/pages/Records&#x27;</span>,</span><br><span class="line">            name: <span class="string">&#x27;æ“ä½œæ—¥å¿—&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆ menu</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> Icon <span class="keyword">from</span> <span class="string">&#x27;@alipay/bigfish/icons&#x27;</span>;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">// ç”¨React.createElementåŠ¨æ€åˆ›å»ºå…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> createIcon = <span class="function">(<span class="params">name: string</span>) =&gt;</span></span><br><span class="line">  React.createElement(Icon &amp;&amp; (Icon <span class="keyword">as</span> any)[name], &#123;</span><br><span class="line">    style: &#123; <span class="attr">fontSize</span>: <span class="string">&#x27;16px&#x27;</span> &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="keyword">const</span> renderMenu = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> data.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item.routes &amp;&amp; item.routes.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;SubMenu key=&#123;item.name&#125; title=&#123;item.name&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">          &#123;renderMenu(item.routes)&#125;</span><br><span class="line">        &lt;/SubMenu&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Menu.Item key=&#123;item.path&#125; icon=&#123;item.icon ? createIcon(item.icon) : <span class="string">&#x27;&#x27;</span>&#125;&gt;</span><br><span class="line">        &#123;item.name&#125;</span><br><span class="line">      &lt;/Menu.Item&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">return</span> (</span><br><span class="line">  ...</span><br><span class="line">    &lt;Menu</span><br><span class="line">      defaultSelectedKeys=&#123;[location.pathname]&#125;</span><br><span class="line">      <span class="comment">// defaultOpenKeys=&#123;[&#x27;sub1&#x27;]&#125;</span></span><br><span class="line">      mode=<span class="string">&quot;inline&quot;</span></span><br><span class="line">      inlineCollapsed=&#123;collapsed&#125;</span><br><span class="line">      className=&#123;style.menu&#125;</span><br><span class="line">      onClick=&#123;handleMenu&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123; renderMenu(routes) &#125;</span><br><span class="line">    &lt;/Menu&gt;</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨ routes.ts é‡Œé¢é…ç½®è·¯ç”±ï¼Œmenu æ ¹æ® routes åŠ¨æ€ç”Ÿæˆ&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="AntD" scheme="https://yongmaple.com/tags/AntD/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨macä¸Šä½¿ç”¨androidæ¨¡æ‹Ÿå™¨é€šè¿‡chromeè°ƒè¯•webviewå†…é¡µé¢</title>
    <link href="https://yongmaple.com/2021/02/09/%E5%9C%A8mac%E4%B8%8A%E4%BD%BF%E7%94%A8android%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%80%9A%E8%BF%87chrome%E8%B0%83%E8%AF%95webview%E5%86%85%E9%A1%B5%E9%9D%A2/"/>
    <id>https://yongmaple.com/2021/02/09/%E5%9C%A8mac%E4%B8%8A%E4%BD%BF%E7%94%A8android%E6%A8%A1%E6%8B%9F%E5%99%A8%E9%80%9A%E8%BF%87chrome%E8%B0%83%E8%AF%95webview%E5%86%85%E9%A1%B5%E9%9D%A2/</id>
    <published>2021-02-09T14:23:05.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h4><ol><li>é’‰é’‰dev App <a href="http://download.alicdn.com/wireless/dingtalk/latest/rimet_10006337.apk?spm=ding_open_doc.document.0.0.4f077391n1eV6r&file=rimet_10006337.apk">ä¸‹è½½åœ°å€</a></li><li>ç½‘æ˜“mumuæ¨¡æ‹Ÿå™¨ï¼ˆä¸ä½¿ç”¨VirtualBoxç­‰è¿è§„è½¯ä»¶ï¼‰</li><li>adbå·¥å…·åŒ…<br>â€¢ æ£€æŸ¥æ˜¯å¦å®‰è£…è¿‡ <code>adb devices</code><br>â€¢ é€šè¿‡brewå®‰è£… <code>brew cask install android-platform-tools</code><br>â€¢ æ£€æŸ¥ä¸é€šè¿‡çš„è¯ï¼Œé‡å¯ä¸€ä¸‹ <code>adb kill-server &amp;&amp; adb server &amp;&amp; adb shell</code></li><li>androidå¼€å‘å·¥å…·(åªä¸ºäº†androidçš„é©±åŠ¨ï¼Œå¦‚æœå¯ä»¥è¿æ¥ï¼Œé‚£å°±ä¸ç”¨è£…äº†) <a href="https://developer.android.com/">ä¸‹è½½åœ°å€</a></li><li>chromeæµè§ˆå™¨<h4 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h4></li><li>åœ¨mumuä¸­å®‰é’‰é’‰dev.apkï¼Œæ‹–è¿›å»å°±è¡Œ</li><li>åœ¨mumuä¸­æ‰“å¼€<code>å¼€å‘è€…æ¨¡å¼</code>ï¼Œå¹¶å¯ç”¨<code>usbè°ƒè¯•</code></li><li>åœ¨mumuæ–‡ä»¶ç®¡ç†ä¸­ç‚¹å‡»å·¦ä¸Šè§’å›¾æ ‡ï¼Œå†ç‚¹å‡»å·¦ä¸‹è§’è®¾ç½®å›¾æ ‡ï¼Œé€‰æ‹©å¸¸è§„è®¾ç½®-è®¿é—®æ¨¡å¼ï¼Œé€‰æ‹©è¶…çº§ç”¨æˆ·è®¿é—®æ¨¡å¼</li><li>åœ¨mumuæ–‡ä»¶ç®¡ç†ä¸­æœç´¢hostsï¼Œæ·»åŠ macçš„ipåœ°å€å’Œlocal.alipay.net å¦‚ï¼š<code>30.38.33.35       local.alipay.net</code></li><li>æ‰“å¼€é’‰é’‰devï¼Œå‰å¾€è¦è°ƒè¯•çš„é¡µé¢</li><li>æ‰“å¼€chromeï¼Œè¾“å…¥<code>chrome://inspect</code></li><li>é€‰æ‹©å¯¹åº”é¡µé¢è°ƒè¯•<h4 id="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"><a href="#å¯èƒ½å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å­˜åœ¨çš„é—®é¢˜"></a>å¯èƒ½å­˜åœ¨çš„é—®é¢˜</h4></li><li>å¦‚æœæ‰‹æœºæ‰“å¼€é¡µé¢åï¼Œinspectä¸­ä»ç„¶çœ‹ä¸åˆ°ï¼Œå°±é‡å¯adb  <code>adb kill-server &amp;&amp; adb server &amp;&amp; adb shell</code></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;å‡†å¤‡å·¥ä½œ&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;é’‰é’‰dev App &lt;a href=&quot;http://download.alicdn.com/wireless/d</summary>
      
    
    
    
    <category term="å·¥å…·" scheme="https://yongmaple.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="androidæ¨¡æ‹Ÿå™¨" scheme="https://yongmaple.com/tags/android%E6%A8%A1%E6%8B%9F%E5%99%A8/"/>
    
    <category term="webview" scheme="https://yongmaple.com/tags/webview/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨JSè·å–translate3dä¸­çš„æ•°å€¼</title>
    <link href="https://yongmaple.com/2021/02/09/%E7%94%A8JS%E8%8E%B7%E5%8F%96translate3d%E4%B8%AD%E7%9A%84%E6%95%B0%E5%80%BC/"/>
    <id>https://yongmaple.com/2021/02/09/%E7%94%A8JS%E8%8E%B7%E5%8F%96translate3d%E4%B8%AD%E7%9A%84%E6%95%B0%E5%80%BC/</id>
    <published>2021-02-09T14:21:42.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–DOM</span></span><br><span class="line"><span class="keyword">const</span> scrollContainer = <span class="built_in">document</span>.getElementsByClassName(</span><br><span class="line">  <span class="string">&#x27;viewer-container__viewer-image-container&#x27;</span></span><br><span class="line">)[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> imgDom = scrollContainer.childNodes[<span class="number">0</span>]</span><br><span class="line"><span class="comment">// è·å–transform</span></span><br><span class="line"><span class="keyword">const</span> translates = <span class="built_in">document</span>.defaultView.getComputedStyle(imgDom, <span class="literal">null</span>).transform <span class="comment">//  matrix(a,b,c,d,e,f)</span></span><br><span class="line"><span class="comment">// åˆ†å‰²matrixçŸ©é˜µï¼Œéœ€è¦å…ˆæ¸…é™¤å¤šå‡ºæ¥çš„ä¸€ä¸ª)</span></span><br><span class="line"><span class="keyword">const</span> split = translates.replace(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å–yè½´å€¼</span></span><br><span class="line"><span class="keyword">const</span> y = <span class="built_in">Number</span>(split[split.length - <span class="number">1</span>])</span><br><span class="line"><span class="comment">// è·å–xè½´å€¼</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="built_in">Number</span>(split[split.length - <span class="number">2</span>])</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="translate3d" scheme="https://yongmaple.com/tags/translate3d/"/>
    
  </entry>
  
  <entry>
    <title>JSåå¤§ç»å…¸æ’åº</title>
    <link href="https://yongmaple.com/2021/01/05/JS%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F/"/>
    <id>https://yongmaple.com/2021/01/05/JS%E5%8D%81%E5%A4%A7%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F/</id>
    <published>2021-01-05T15:07:22.000Z</published>
    <updated>2021-04-02T09:37:16.265Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/yinhao-jack/p/10838401.html">https://www.cnblogs.com/yinhao-jack/p/10838401.html</a></p><h4 id="1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰"><a href="#1-å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰" class="headerlink" title="1. å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰"></a>1. å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</h4><p>å†’æ³¡æ’åºé¡»çŸ¥ï¼š<br>ä½œä¸ºæœ€ç®€å•çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå†’æ³¡æ’åºç»™æˆ‘çš„æ„Ÿè§‰å°±åƒ Abandon åœ¨å•è¯ä¹¦é‡Œå‡ºç°çš„æ„Ÿè§‰ä¸€æ ·ï¼Œæ¯æ¬¡éƒ½åœ¨ç¬¬ä¸€é¡µç¬¬ä¸€ä½ï¼Œæ‰€ä»¥æœ€ç†Ÿæ‚‰ã€‚ã€‚ã€‚å†’æ³¡æ’åºè¿˜æœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå°±æ˜¯ç«‹ä¸€ä¸ª flagï¼Œå½“åœ¨ä¸€è¶Ÿåºåˆ—éå†ä¸­å…ƒç´ æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯æ˜è¯¥åºåˆ—å·²ç»æœ‰åºã€‚ä½†è¿™ç§æ”¹è¿›å¯¹äºæå‡æ€§èƒ½æ¥è¯´å¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§ä½œç”¨ã€‚ã€‚ã€‚</p><p>ä»€ä¹ˆæ—¶å€™æœ€å¿«ï¼ˆBest Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®å·²ç»æ˜¯æ­£åºæ—¶ï¼ˆéƒ½å·²ç»æ˜¯æ­£åºäº†ï¼Œæˆ‘è¿˜è¦ä½ å†’æ³¡æ’åºæœ‰ä½•ç”¨å•Šã€‚ã€‚ã€‚ã€‚ï¼‰</p><p>ä»€ä¹ˆæ—¶å€™æœ€æ…¢ï¼ˆWorst Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®æ˜¯ååºæ—¶ï¼ˆå†™ä¸€ä¸ª for å¾ªç¯ååºè¾“å‡ºæ•°æ®ä¸å°±è¡Œäº†ï¼Œå¹²å˜›è¦ç”¨ä½ å†’æ³¡æ’åºå‘¢ï¼Œæˆ‘æ˜¯é—²çš„å—ã€‚ã€‚ã€‚ï¼‰</p><p>å†’æ³¡æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">        <span class="comment">//ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span></span><br><span class="line">        <span class="keyword">var</span> temp = arr[j + <span class="number">1</span>] <span class="comment">//å…ƒç´ äº¤æ¢</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = arr[j]</span><br><span class="line">        arr[j] = temp</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰"><a href="#2-é€‰æ‹©æ’åºï¼ˆSelection-Sortï¼‰" class="headerlink" title="2. é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰"></a>2. é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</h4><p>é€‰æ‹©æ’åºé¡»çŸ¥ï¼š<br>åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šè¡¨ç°æœ€ç¨³å®šçš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆæ•°æ®è¿›å»éƒ½æ˜¯ O(nÂ²)çš„æ—¶é—´å¤æ‚åº¦ã€‚ã€‚ã€‚æ‰€ä»¥ç”¨åˆ°å®ƒçš„æ—¶å€™ï¼Œæ•°æ®è§„æ¨¡è¶Šå°è¶Šå¥½ã€‚å”¯ä¸€çš„å¥½å¤„å¯èƒ½å°±æ˜¯ä¸å ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´äº†å§ã€‚</p><p>é€‰æ‹©æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">var</span> minIndex, temp</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    minIndex = i</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (arr[j] &lt; arr[minIndex]) &#123;</span><br><span class="line">        <span class="comment">//å¯»æ‰¾æœ€å°çš„æ•°</span></span><br><span class="line">        minIndex = j <span class="comment">//å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = arr[i]</span><br><span class="line">    arr[i] = arr[minIndex]</span><br><span class="line">    arr[minIndex] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰" class="headerlink" title="3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰"></a>3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</h4><p>æ’å…¥æ’åºé¡»çŸ¥ï¼š<br>æ’å…¥æ’åºçš„ä»£ç å®ç°è™½ç„¶æ²¡æœ‰å†’æ³¡æ’åºå’Œé€‰æ‹©æ’åºé‚£ä¹ˆç®€å•ç²—æš´ï¼Œä½†å®ƒçš„åŸç†åº”è¯¥æ˜¯æœ€å®¹æ˜“ç†è§£çš„äº†ï¼Œå› ä¸ºåªè¦æ‰“è¿‡æ‰‘å…‹ç‰Œçš„äººéƒ½åº”è¯¥èƒ½å¤Ÿç§’æ‡‚ã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¯´ä½ æ‰“æ‰‘å…‹ç‰Œæ‘¸ç‰Œçš„æ—¶å€™ä»æ¥ä¸æŒ‰ç‰Œçš„å¤§å°æ•´ç†ç‰Œï¼Œé‚£ä¼°è®¡è¿™è¾ˆå­ä½ å¯¹æ’å…¥æ’åºçš„ç®—æ³•éƒ½ä¸ä¼šäº§ç”Ÿä»»ä½•å…´è¶£äº†ã€‚ã€‚ã€‚<br>æ’å…¥æ’åºå’Œå†’æ³¡æ’åºä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå«åšæ‹†åŠæ’å…¥ã€‚å¯¹äºè¿™ç§ç®—æ³•ï¼Œå¾—äº†æ‡’ç™Œçš„æˆ‘å°±å¥—ç”¨æ•™ç§‘ä¹¦ä¸Šçš„ä¸€å¥ç»å…¸çš„è¯å§ï¼šæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥åœ¨è¯¾åè‡ªè¡Œç ”ç©¶ã€‚ã€‚ã€‚</p><p>æ’å…¥æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertionSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">var</span> preIndex, current</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) &#123;</span><br><span class="line">    preIndex = i - <span class="number">1</span></span><br><span class="line">    current = arr[i]</span><br><span class="line">    <span class="keyword">while</span> (preIndex &gt;= <span class="number">0</span> &amp;&amp; arr[preIndex] &gt; current) &#123;</span><br><span class="line">      arr[preIndex + <span class="number">1</span>] = arr[preIndex]</span><br><span class="line">      preIndex--</span><br><span class="line">    &#125;</span><br><span class="line">    arr[preIndex + <span class="number">1</span>] = current</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰"><a href="#4-å¸Œå°”æ’åºï¼ˆShell-Sortï¼‰" class="headerlink" title="4. å¸Œå°”æ’åºï¼ˆShell Sortï¼‰"></a>4. å¸Œå°”æ’åºï¼ˆShell Sortï¼‰</h5><p>å¸Œå°”æ’åºé¡»çŸ¥ï¼š<br>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ›´é«˜æ•ˆç‡çš„å®ç°ã€‚å®ƒä¸æ’å…¥æ’åºçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¼šä¼˜å…ˆæ¯”è¾ƒè·ç¦»è¾ƒè¿œçš„å…ƒç´ ã€‚å¸Œå°”æ’åºçš„æ ¸å¿ƒåœ¨äºé—´éš”åºåˆ—çš„è®¾å®šã€‚æ—¢å¯ä»¥æå‰è®¾å®šå¥½é—´éš”åºåˆ—ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€çš„å®šä¹‰é—´éš”åºåˆ—ã€‚åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—çš„ç®—æ³•æ˜¯ã€Šç®—æ³•ï¼ˆç¬¬ 4 ç‰ˆã€‹çš„åˆè‘—è€… Robert Sedgewick æå‡ºçš„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°±ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ã€‚</p><p>å¸Œå°”æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length,</span><br><span class="line">    temp,</span><br><span class="line">    gap = <span class="number">1</span></span><br><span class="line">  <span class="keyword">while</span> (gap &lt; len / <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">//åŠ¨æ€å®šä¹‰é—´éš”åºåˆ—</span></span><br><span class="line">    gap = gap * <span class="number">3</span> + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (gap; gap &gt; <span class="number">0</span>; gap = <span class="built_in">Math</span>.floor(gap / <span class="number">3</span>)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = gap; i &lt; len; i++) &#123;</span><br><span class="line">      temp = arr[i]</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = i - gap; j &gt; <span class="number">0</span> &amp;&amp; arr[j] &gt; temp; j -= gap) &#123;</span><br><span class="line">        arr[j + gap] = arr[j]</span><br><span class="line">      &#125;</span><br><span class="line">      arr[j + gap] = temp</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰"><a href="#5-å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰" class="headerlink" title="5. å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰"></a>5. å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</h4><p>å½’å¹¶æ’åºé¡»çŸ¥ï¼š<br>ä½œä¸ºä¸€ç§å…¸å‹çš„åˆ†è€Œæ²»ä¹‹æ€æƒ³çš„ç®—æ³•åº”ç”¨ï¼Œå½’å¹¶æ’åºçš„å®ç°ç”±ä¸¤ç§æ–¹æ³•ï¼š</p><p>è‡ªä¸Šè€Œä¸‹çš„é€’å½’ï¼ˆæ‰€æœ‰é€’å½’çš„æ–¹æ³•éƒ½å¯ä»¥ç”¨è¿­ä»£é‡å†™ï¼Œæ‰€ä»¥å°±æœ‰äº†ç¬¬ 2 ç§æ–¹æ³•ï¼‰<br>è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£<br>åœ¨ã€Šæ•°æ®ç»“æ„ä¸ç®—æ³• JavaScript æè¿°ã€‹ä¸­ï¼Œä½œè€…ç»™å‡ºäº†è‡ªä¸‹è€Œä¸Šçš„è¿­ä»£æ–¹æ³•ã€‚ä½†æ˜¯å¯¹äºé€’å½’æ³•ï¼Œä½œè€…å´è®¤ä¸ºï¼š</p><blockquote><p>However, it is not possible to do so in JavaScript, as the recursion goes too deep for the language to handle.<br>ç„¶è€Œ,åœ¨ JavaScript ä¸­è¿™ç§æ–¹å¼ä¸å¤ªå¯è¡Œ,å› ä¸ºè¿™ä¸ªç®—æ³•çš„é€’å½’æ·±åº¦å¯¹å®ƒæ¥è®²å¤ªæ·±äº†ã€‚</p></blockquote><p>è¯´å®è¯ï¼Œæˆ‘ä¸å¤ªç†è§£è¿™å¥è¯ã€‚æ„æ€æ˜¯ JavaScript ç¼–è¯‘å™¨å†…å­˜å¤ªå°ï¼Œé€’å½’å¤ªæ·±å®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºå—ï¼Ÿè¿˜æœ›æœ‰å¤§ç¥èƒ½å¤ŸæŒ‡æ•™ã€‚<br>æ›´æ–°ï¼š<br>åœ¨ã€ŠJavaScript è¯­è¨€ç²¾ç²¹ã€‹çš„ç¬¬å››ç« é‡Œæåˆ°äº†é€’å½’é—®é¢˜ã€‚å¯¹æˆ‘ä¹‹å‰çš„ç–‘é—®è¿›è¡Œäº†è§£ç­”ï¼š</p><blockquote><p>Some languages offer the tail recursion optimization. This means that if a function returns the result of invoking itself recursively, then the invocation is replaced with a loop, which can significantly speed things up. Unfortunately, JavaScript does not currently provide tail recursion optimization. Functions that recurse very deeply can fail by exhausting the return stack.<br>ä¸€äº›è¯­è¨€æä¾›äº†å°¾é€’å½’ä¼˜åŒ–ã€‚è¿™æ„å‘³ç€å¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›è‡ªèº«é€’å½’è°ƒç”¨çš„ç»“æœï¼Œé‚£ä¹ˆè°ƒç”¨çš„è¿‡ç¨‹ä¼šè¢«æ›¿æ¢ä¸ºä¸€ä¸ªå¾ªç¯ï¼Œå®ƒå¯ä»¥æ˜¾è‘—æé«˜é€Ÿåº¦ã€‚é—æ†¾çš„æ˜¯ï¼ŒJavaScript å½“å‰å¹¶æ²¡æœ‰æä¾›å°¾é€’å½’ä¼˜åŒ–ã€‚æ·±åº¦é€’å½’çš„å‡½æ•°å¯èƒ½ä¼šå› ä¸ºå †æ ˆæº¢å‡ºè€Œè¿è¡Œå¤±è´¥ã€‚</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ JavaScript æ²¡æœ‰å¯¹é€’å½’è¿›è¡Œä¼˜åŒ–ã€‚è¿ç”¨é€’å½’å‡½æ•°ä¸ä»…æ²¡æœ‰è¿è¡Œé€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿ï¼Œè¿˜å¯èƒ½é€ æˆç¨‹åºè¿è¡Œå¤±è´¥ã€‚å› æ­¤ä¸å»ºè®®ä½¿ç”¨é€’å½’ã€‚</p><p>å’Œé€‰æ‹©æ’åºä¸€æ ·ï¼Œå½’å¹¶æ’åºçš„æ€§èƒ½ä¸å—è¾“å…¥æ•°æ®çš„å½±å“ï¼Œä½†è¡¨ç°æ¯”é€‰æ‹©æ’åºå¥½çš„å¤šï¼Œå› ä¸ºå§‹ç»ˆéƒ½æ˜¯ O(n log nï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»£ä»·æ˜¯éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ã€‚</p><p>å½’å¹¶æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">var</span> len = arr.length</span><br><span class="line">  <span class="keyword">if</span> (len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> middle = <span class="built_in">Math</span>.floor(len / <span class="number">2</span>),</span><br><span class="line">    left = arr.slice(<span class="number">0</span>, middle),</span><br><span class="line">    right = arr.slice(middle)</span><br><span class="line">  <span class="keyword">return</span> merge(mergeSort(left), mergeSort(right))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left.length &gt; <span class="number">0</span> &amp;&amp; right.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (left[<span class="number">0</span>] &lt;= right[<span class="number">0</span>]) &#123;</span><br><span class="line">      result.push(left.shift())</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result.push(right.shift())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (left.length) result.push(left.shift())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (right.length) result.push(right.shift())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰"><a href="#6-å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰" class="headerlink" title="6. å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰"></a>6. å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</h4><p>å¿«é€Ÿæ’åºé¡»çŸ¥ï¼š<br>åˆæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹æ€æƒ³åœ¨æ’åºç®—æ³•ä¸Šçš„å…¸å‹åº”ç”¨ã€‚æœ¬è´¨ä¸Šæ¥çœ‹ï¼Œå¿«é€Ÿæ’åºåº”è¯¥ç®—æ˜¯åœ¨å†’æ³¡æ’åºåŸºç¡€ä¸Šçš„é€’å½’åˆ†æ²»æ³•ã€‚<br>å¿«é€Ÿæ’åºçš„åå­—èµ·çš„æ˜¯ç®€å•ç²—æš´ï¼Œå› ä¸ºä¸€å¬åˆ°è¿™ä¸ªåå­—ä½ å°±çŸ¥é“å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼Œå°±æ˜¯å¿«ï¼Œè€Œä¸”æ•ˆç‡é«˜! å®ƒæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ã€‚è™½ç„¶ Worst Case çš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† O(nÂ²)ï¼Œä½†æ˜¯äººå®¶å°±æ˜¯ä¼˜ç§€ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ¯”å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n) çš„æ’åºç®—æ³•è¡¨ç°è¦æ›´å¥½ï¼Œå¯æ˜¯è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚ã€‚ã€‚å¥½åœ¨æˆ‘çš„å¼ºè¿«ç—‡åˆçŠ¯äº†ï¼ŒæŸ¥äº† N å¤šèµ„æ–™ç»ˆäºåœ¨ã€Šç®—æ³•è‰ºæœ¯ä¸ä¿¡æ¯å­¦ç«èµ›ã€‹ä¸Šæ‰¾åˆ°äº†æ»¡æ„çš„ç­”æ¡ˆï¼š</p><p>å¿«é€Ÿæ’åºçš„æœ€åè¿è¡Œæƒ…å†µæ˜¯ O(nÂ²)ï¼Œæ¯”å¦‚è¯´é¡ºåºæ•°åˆ—çš„å¿«æ’ã€‚ä½†å®ƒçš„å¹³æ‘ŠæœŸæœ›æ—¶é—´æ˜¯ O(n log n) ï¼Œä¸” O(n log n)è®°å·ä¸­éšå«çš„å¸¸æ•°å› å­å¾ˆå°ï¼Œæ¯”å¤æ‚åº¦ç¨³å®šç­‰äº O(n log n)çš„å½’å¹¶æ’åºè¦å°å¾ˆå¤šã€‚æ‰€ä»¥ï¼Œå¯¹ç»å¤§å¤šæ•°é¡ºåºæ€§è¾ƒå¼±çš„éšæœºæ•°åˆ—è€Œè¨€ï¼Œå¿«é€Ÿæ’åºæ€»æ˜¯ä¼˜äºå½’å¹¶æ’åºã€‚</p><p>æ›´æ–°ï¼š<br>ã€Šç®—æ³• ç¬¬å››ç‰ˆã€‹é‡Œå¯¹äºå¿«é€Ÿæ’åºçš„ä¼˜ç¼ºç‚¹è¿›è¡Œäº†æ›´åŠ æ˜ç¡®çš„è§£é‡Šï¼š</p><p>å¿«é€Ÿæ’åºçš„å†…å¾ªç¯æ¯”å¤§å¤šæ•°æ’åºç®—æ³•éƒ½è¦çŸ­å°ï¼Œè¿™æ„å‘³ç€å®ƒæ— è®ºæ˜¯åœ¨ç†è®ºä¸Šè¿˜æ˜¯åœ¨å®é™…ä¸­éƒ½è¦æ›´å¿«ã€‚å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯éå¸¸è„†å¼±ï¼Œåœ¨å®ç°æ—¶è¦éå¸¸å°å¿ƒæ‰èƒ½é¿å…ä½åŠ£çš„æ€§èƒ½ã€‚</p><p>å¿«é€Ÿæ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr, left, right</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> len = arr.length,</span><br><span class="line">    partitionIndex,</span><br><span class="line">    left = <span class="keyword">typeof</span> left != <span class="string">&#x27;number&#x27;</span> ? <span class="number">0</span> : left,</span><br><span class="line">    right = <span class="keyword">typeof</span> right != <span class="string">&#x27;number&#x27;</span> ? len - <span class="number">1</span> : right</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (left &lt; right) &#123;</span><br><span class="line">    partitionIndex = partition(arr, left, right)</span><br><span class="line">    quickSort(arr, left, partitionIndex - <span class="number">1</span>)</span><br><span class="line">    quickSort(arr, partitionIndex + <span class="number">1</span>, right)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">partition</span>(<span class="params">arr, left, right</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//åˆ†åŒºæ“ä½œ</span></span><br><span class="line">  <span class="keyword">var</span> pivot = left, <span class="comment">//è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰</span></span><br><span class="line">    index = pivot + <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = index; i &lt;= right; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; arr[pivot]) &#123;</span><br><span class="line">      swap(arr, i, index)</span><br><span class="line">      index++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  swap(arr, pivot, index - <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">return</span> index - <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, i, j</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> temp = arr[i]</span><br><span class="line">  arr[i] = arr[j]</span><br><span class="line">  arr[j] = temp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-å †æ’åºï¼ˆHeap-Sortï¼‰"><a href="#7-å †æ’åºï¼ˆHeap-Sortï¼‰" class="headerlink" title="7. å †æ’åºï¼ˆHeap Sortï¼‰"></a>7. å †æ’åºï¼ˆHeap Sortï¼‰</h4><p>å †æ’åºé¡»çŸ¥ï¼š<br>å †æ’åºå¯ä»¥è¯´æ˜¯ä¸€ç§åˆ©ç”¨å †çš„æ¦‚å¿µæ¥æ’åºçš„é€‰æ‹©æ’åºã€‚åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼š</p><pre><code>å¤§é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºå‡åºæ’åˆ—å°é¡¶å †ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ï¼Œåœ¨å †æ’åºç®—æ³•ä¸­ç”¨äºé™åºæ’åˆ—</code></pre><p>å †æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> len;    <span class="comment">//å› ä¸ºå£°æ˜çš„å¤šä¸ªå‡½æ•°éƒ½éœ€è¦æ•°æ®é•¿åº¦ï¼Œæ‰€ä»¥æŠŠlenè®¾ç½®æˆä¸ºå…¨å±€å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildMaxHeap</span>(<span class="params">arr</span>) </span>&#123;   <span class="comment">//å»ºç«‹å¤§é¡¶å †</span></span><br><span class="line">     len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="built_in">Math</span>.floor(len/<span class="number">2</span>); i &amp;gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        heapify(arr, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">heapify</span>(<span class="params">arr, i</span>) </span>&#123;     <span class="comment">//å †è°ƒæ•´</span></span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">2</span> * i + <span class="number">1</span>,</span><br><span class="line">         right = <span class="number">2</span> * i + <span class="number">2</span>,</span><br><span class="line">         largest = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class="line">         largest = right;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (largest != i) &#123;</span><br><span class="line">         swap(arr, i, largest);</span><br><span class="line">        heapify(arr, largest);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, i, j</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> temp = arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = temp;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">heapSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">     buildMaxHeap(arr);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = arr.length-<span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">         swap(arr, <span class="number">0</span>, i);</span><br><span class="line">        len--;</span><br><span class="line">        heapify(arr, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰"><a href="#8-è®¡æ•°æ’åºï¼ˆCounting-Sortï¼‰" class="headerlink" title="8. è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰"></a>8. è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</h4><p>è®¡æ•°æ’åºé¡»çŸ¥ï¼š<br>è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚<br>ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œè®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚</p><p>è®¡æ•°æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countingSort</span>(<span class="params">arr, maxValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bucket = <span class="keyword">new</span> <span class="built_in">Array</span>(maxValue + <span class="number">1</span>),</span><br><span class="line">    sortedIndex = <span class="number">0</span></span><br><span class="line">  ;(arrLen = arr.length), (bucketLen = maxValue + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrLen; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!bucket[arr[i]]) &#123;</span><br><span class="line">      bucket[arr[i]] = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    bucket[arr[i]]++</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; bucketLen; j++) &#123;</span><br><span class="line">    <span class="keyword">while</span> (bucket[j] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      arr[sortedIndex++] = j</span><br><span class="line">      bucket[j]--</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="9-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰"><a href="#9-æ¡¶æ’åºï¼ˆBucket-Sortï¼‰" class="headerlink" title="9. æ¡¶æ’åºï¼ˆBucket Sortï¼‰"></a>9. æ¡¶æ’åºï¼ˆBucket Sortï¼‰</h4><p>æ¡¶æ’åºé¡»çŸ¥ï¼š<br>æ¡¶æ’åºæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚<br>ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°è¿™ä¸¤ç‚¹ï¼š</p><p>åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡<br>ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­<br>åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚</p><p>ä»€ä¹ˆæ—¶å€™æœ€å¿«ï¼ˆBest Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­</p><p>ä»€ä¹ˆæ—¶å€™æœ€æ…¢ï¼ˆWorst Casesï¼‰ï¼š<br>å½“è¾“å…¥çš„æ•°æ®è¢«åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­</p><p>æ¡¶æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bucketSort</span>(<span class="params">arr, bucketSize</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> i</span><br><span class="line">  <span class="keyword">var</span> minValue = arr[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">var</span> maxValue = arr[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[i] &lt; minValue) &#123;</span><br><span class="line">      minValue = arr[i] <span class="comment">//è¾“å…¥æ•°æ®çš„æœ€å°å€¼</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &gt; maxValue) &#123;</span><br><span class="line">      maxValue = arr[i] <span class="comment">//è¾“å…¥æ•°æ®çš„æœ€å¤§å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ¡¶çš„åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">var</span> DEFAULT_BUCKET_SIZE = <span class="number">5</span> <span class="comment">//è®¾ç½®æ¡¶çš„é»˜è®¤æ•°é‡ä¸º5</span></span><br><span class="line">  bucketSize = bucketSize || DEFAULT_BUCKET_SIZE</span><br><span class="line">  <span class="keyword">var</span> bucketCount = <span class="built_in">Math</span>.floor((maxValue - minValue) / bucketSize) + <span class="number">1</span></span><br><span class="line">  <span class="keyword">var</span> buckets = <span class="keyword">new</span> <span class="built_in">Array</span>(bucketCount)</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class="line">    buckets[i] = []</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//åˆ©ç”¨æ˜ å°„å‡½æ•°å°†æ•°æ®åˆ†é…åˆ°å„ä¸ªæ¡¶ä¸­</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    buckets[<span class="built_in">Math</span>.floor((arr[i] - minValue) / bucketSize)].push(arr[i])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  arr.length = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; buckets.length; i++) &#123;</span><br><span class="line">    insertionSort(buckets[i]) <span class="comment">//å¯¹æ¯ä¸ªæ¡¶è¿›è¡Œæ’åºï¼Œè¿™é‡Œä½¿ç”¨äº†æ’å…¥æ’åº</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; buckets[i].length; j++) &#123;</span><br><span class="line">      arr.push(buckets[i][j])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰"><a href="#10-åŸºæ•°æ’åºï¼ˆRadix-Sortï¼‰" class="headerlink" title="10. åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰"></a>10. åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</h4><p>åŸºæ•°æ’åºé¡»çŸ¥ï¼š<br>åŸºæ•°æ’åºæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><p>MSD ä»é«˜ä½å¼€å§‹è¿›è¡Œæ’åº<br>LSD ä»ä½ä½å¼€å§‹è¿›è¡Œæ’åº<br>åŸºæ•°æ’åº vs è®¡æ•°æ’åº vs æ¡¶æ’åº<br>è¿™ä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š<br>åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶<br>è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼<br>æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼</p><p>åŸºæ•°æ’åº JavaScript ä»£ç å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//LSD Radix Sort</span></span><br><span class="line"><span class="keyword">var</span> counter = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">radixSort</span>(<span class="params">arr, maxDigit</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> mod = <span class="number">10</span></span><br><span class="line">  <span class="keyword">var</span> dev = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxDigit; i++, dev *= <span class="number">10</span>, mod *= <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> bucket = <span class="built_in">parseInt</span>((arr[j] % mod) / dev)</span><br><span class="line">      <span class="keyword">if</span> (counter[bucket] == <span class="literal">null</span>) &#123;</span><br><span class="line">        counter[bucket] = []</span><br><span class="line">      &#125;</span><br><span class="line">      counter[bucket].push(arr[j])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pos = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; counter.length; j++) &#123;</span><br><span class="line">      <span class="keyword">var</span> value = <span class="literal">null</span></span><br><span class="line">      <span class="keyword">if</span> (counter[j] != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> ((value = counter[j].shift()) != <span class="literal">null</span>) &#123;</span><br><span class="line">          arr[pos++] = value</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.cnblogs.com/yinhao-jack/p/10838401.html&quot;&gt;https://www.cnblogs.com/yinhao-jack/p/10838401.html&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;1-å†’æ³¡æ’åºï¼ˆ</summary>
      
    
    
    
    <category term="æ€ç»´" scheme="https://yongmaple.com/categories/%E6%80%9D%E7%BB%B4/"/>
    
    
    <category term="æ’åº" scheme="https://yongmaple.com/tags/%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>thisæŒ‡å‘çš„4ç§æƒ…å†µ</title>
    <link href="https://yongmaple.com/2021/01/05/this%E6%8C%87%E5%90%91%E7%9A%844%E7%A7%8D%E6%83%85%E5%86%B5/"/>
    <id>https://yongmaple.com/2021/01/05/this%E6%8C%87%E5%90%91%E7%9A%844%E7%A7%8D%E6%83%85%E5%86%B5/</id>
    <published>2021-01-05T15:07:22.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this"><a href="#1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this" class="headerlink" title="1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this"></a>1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this</h4><p>å¯¹è±¡çš„å±æ€§æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°ä¸­çš„ this æŒ‡å‘å¯¹è±¡æœ¬èº«</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  x: <span class="number">123</span>,</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// &#123;x: 123, fn: Æ’&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.x) <span class="comment">// 123</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.fn()</span><br></pre></td></tr></table></figure><p>å¯¹è±¡çš„å±æ€§æ˜¯å‡½æ•°ï¼Œå‡½æ•°å†…éƒ¨è¿˜æœ‰å‡½æ•°ï¼Œé‚£ä¹ˆäºŒçº§ï¼ˆåŠä»¥ä¸Šï¼‰å‡½æ•°çš„ this éƒ½æŒ‡å‘ window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  x: <span class="number">456</span>,</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;x: 456, fn: Æ’&#125;</span></span><br><span class="line">    <span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;fn.f1&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.x) <span class="comment">// undefined</span></span><br><span class="line">      <span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;fn.f2&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">      f2()</span><br><span class="line">    &#125;</span><br><span class="line">    f1()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.fn()</span><br></pre></td></tr></table></figure><h4 id="2-æ„é€ å‡½æ•°ä¸­çš„-this"><a href="#2-æ„é€ å‡½æ•°ä¸­çš„-this" class="headerlink" title="2. æ„é€ å‡½æ•°ä¸­çš„ this"></a>2. æ„é€ å‡½æ•°ä¸­çš„ this</h4><p>æ„é€ å‡½æ•°ä¸­çš„ä¸€çº§å‡½æ•°ï¼Œthis æŒ‡å‘é€šè¿‡æ„é€ å‡½æ•° new å‡ºæ¥çš„å®ä¾‹ï¼ˆä¾‹å­ä¸­çš„ personï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&#x27;linlif&#x27;</span></span><br><span class="line">  <span class="built_in">this</span>.fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;linlif&quot;, fn: Æ’&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">person.fn()</span><br></pre></td></tr></table></figure><p>æ„é€ å‡½æ•°ä¸­çš„äºŒçº§(åŠä»¥ä¸Š)å‡½æ•°ï¼Œthis æŒ‡å‘çš„æ˜¯ window</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = <span class="string">&#x27;linlif&#x27;</span></span><br><span class="line">  <span class="built_in">this</span>.fn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;linlif&quot;, fn: Æ’&#125;</span></span><br><span class="line">    <span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;f2&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      <span class="keyword">var</span> f3 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;f3&#x27;</span>, <span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">      f3()</span><br><span class="line">    &#125;</span><br><span class="line">    f2()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">person.fn()</span><br></pre></td></tr></table></figure><h4 id="3-å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­-this"><a href="#3-å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­-this" class="headerlink" title="3. å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ this"></a>3. å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ this</h4><p>å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œthis æŒ‡å‘æµè§ˆå™¨çš„ window å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€çš„this</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">this</span> === <span class="built_in">window</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€çš„æ™®é€šå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">global</span> = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">global</span>()</span><br></pre></td></tr></table></figure><h4 id="4-call-å’Œ-apply-å¯¹-this-æŒ‡å‘çš„å½±å“"><a href="#4-call-å’Œ-apply-å¯¹-this-æŒ‡å‘çš„å½±å“" class="headerlink" title="4. call()å’Œ apply()å¯¹ this æŒ‡å‘çš„å½±å“"></a>4. call()å’Œ apply()å¯¹ this æŒ‡å‘çš„å½±å“</h4><p>ä½¿ç”¨ call()æ–¹æ³•åï¼Œthis æŒ‡å‘ call()æ–¹æ³•çš„å‚æ•°ã€‚ä½¿ç”¨ apply()çš„ç»“æœå’Œ call()æ˜¯ä¸€è‡´çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹å˜è°ƒç”¨å¯¹è±¡ä¸ºgObj</span></span><br><span class="line"><span class="keyword">var</span> gObj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;gName&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> aaa = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// &#123;name: &quot;gName&quot;&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name) <span class="comment">// gName</span></span><br><span class="line">&#125;</span><br><span class="line">aaa.call(gObj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¹å˜è°ƒç”¨å¯¹è±¡ä¸ºwindow</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;global&#x27;</span></span><br><span class="line"><span class="keyword">var</span> bbb = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>) <span class="comment">// Window &#123;postMessage: Æ’, blur: Æ’, focus: Æ’, close: Æ’, parent: Window, â€¦&#125;</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name) <span class="comment">// global</span></span><br><span class="line">&#125;</span><br><span class="line">bbb.call(<span class="built_in">this</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this&quot;&gt;&lt;a href=&quot;#1-åœ¨å¯¹è±¡å±æ€§ä¸­çš„-this&quot; class=&quot;headerlink&quot; title=&quot;1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this&quot;&gt;&lt;/a&gt;1. åœ¨å¯¹è±¡å±æ€§ä¸­çš„ this&lt;/h4&gt;&lt;p&gt;å¯¹è±¡çš„å±æ€§æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆå‡½æ•°ä¸­çš„ this æŒ‡å‘å¯¹è±¡æœ¬èº«&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="this" scheme="https://yongmaple.com/tags/this/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡æ¨¡å¼</title>
    <link href="https://yongmaple.com/2021/01/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    <id>https://yongmaple.com/2021/01/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</id>
    <published>2021-01-05T15:07:22.000Z</published>
    <updated>2021-04-02T09:37:16.273Z</updated>
    
    <content type="html"><![CDATA[<h4 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h4><p>1ã€å•ä¾‹æ¨¡å¼<br>è¿™ç§è®¾è®¡æ¨¡å¼çš„æ€æƒ³æ˜¯ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰å”¯ä¸€å®ä¾‹ï¼Œä¸€èˆ¬ç”¨äºå…¨å±€ç¼“å­˜ï¼Œæ¯”å¦‚å…¨å±€windowï¼Œå”¯ä¸€ç™»å½•æµ®çª—ç­‰ã€‚é‡‡ç”¨é—­åŒ…çš„æ–¹å¼å®ç°å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> single = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getInstance</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€<span class="comment">// å¦‚æœè¯¥å®ä¾‹å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™å°±å¯¹å…¶å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="keyword">if</span>( instance=== <span class="literal">undefined</span> )&#123;</span><br><span class="line">            instance= <span class="keyword">new</span> Construct();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// ... ç”Ÿæˆå•ä¾‹çš„æ„é€ å‡½æ•°çš„ä»£ç </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getInstance : getInstance</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>2ã€å·¥å‚æ¨¡å¼<br>å·¥å‚æ¨¡å¼æ˜¯åˆ›å»ºå¯¹è±¡çš„å¸¸ç”¨è®¾è®¡æ¨¡å¼ï¼Œä¸ºäº†ä¸æš´éœ²åˆ›å»ºå¯¹è±¡çš„å…·ä½“é€»è¾‘ï¼Œå°†é€»è¾‘å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºä¸€ä¸ªå·¥å‚ã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè´Ÿè´£ç”Ÿäº§å¯¹è±¡å®ä¾‹çš„å·¥å‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®‰å…¨æ¨¡å¼åˆ›å»ºçš„å·¥å‚æ–¹æ³•å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> UserFactory = <span class="function"><span class="keyword">function</span>(<span class="params">role</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">this</span> <span class="keyword">instanceof</span> UserFactory) &#123;</span><br><span class="line">    <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">this</span>[role]();</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UserFactory(role);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å·¥å‚æ–¹æ³•å‡½æ•°çš„åŸå‹ä¸­è®¾ç½®æ‰€æœ‰å¯¹è±¡çš„æ„é€ å‡½æ•°</span></span><br><span class="line">UserFactory.prototype = &#123;</span><br><span class="line">  SuperAdmin: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&quot;è¶…çº§ç®¡ç†å‘˜&quot;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>, <span class="string">&#x27;åº”ç”¨æ•°æ®&#x27;</span>, <span class="string">&#x27;æƒé™ç®¡ç†&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  Admin: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&quot;ç®¡ç†å‘˜&quot;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>, <span class="string">&#x27;åº”ç”¨æ•°æ®&#x27;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  NormalUser: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;æ™®é€šç”¨æˆ·&#x27;</span>,</span><br><span class="line">    <span class="built_in">this</span>.viewPage = [<span class="string">&#x27;é¦–é¡µ&#x27;</span>, <span class="string">&#x27;é€šè®¯å½•&#x27;</span>, <span class="string">&#x27;å‘ç°é¡µ&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨</span></span><br><span class="line"><span class="keyword">let</span> superAdmin = UserFactory(<span class="string">&#x27;SuperAdmin&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> admin = UserFactory(<span class="string">&#x27;Admin&#x27;</span>) </span><br><span class="line"><span class="keyword">let</span> normalUser = UserFactory(<span class="string">&#x27;NormalUser&#x27;</span>)</span><br></pre></td></tr></table></figure><p>3ã€ç­–ç•¥æ¨¡å¼<br>ç­–ç•¥æ¨¡å¼çš„æœ¬æ„å°†ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ï¼Œé¿å…å¤šé‡åˆ¤æ–­è°ƒç”¨å“ªäº›ç®—æ³•ã€‚é€‚ç”¨äºæœ‰å¤šä¸ªåˆ¤æ–­åˆ†æ”¯çš„åœºæ™¯ï¼Œå¦‚è§£å†³è¡¨å•éªŒè¯çš„é—®é¢˜ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªvalidatorå¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªvalidate()æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ä¸ç”¨åŒºåˆ†å…·ä½“çš„è¡¨å•ç±»å‹ï¼Œå®ƒæ€»æ˜¯ä¼šè¿”å›åŒæ ·çš„ç»“æœâ€”â€”ä¸€ä¸ªæ²¡æœ‰é€šè¿‡éªŒè¯çš„åˆ—è¡¨å’Œé”™è¯¯ä¿¡æ¯ã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºvipå®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vipPrice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">vipPrice.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">ã€€ã€€<span class="keyword">return</span> price * <span class="built_in">this</span>.discount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹äºè€å®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">oldPrice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">0.3</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">oldPrice.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> price * <span class="built_in">this</span>.discount;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¹äºæ™®é€šå®¢æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Price</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.discount = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Price.prototype.getPrice = <span class="function"><span class="keyword">function</span>(<span class="params">price</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> price ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¸‹æ–‡ï¼Œå¯¹äºå®¢æˆ·ç«¯çš„ä½¿ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Context</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.strategy = <span class="literal">null</span>;</span><br><span class="line">    <span class="built_in">this</span>.price = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">Context.prototype.set = <span class="function"><span class="keyword">function</span>(<span class="params">name, strategy, price</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.strategy = strategy;</span><br><span class="line">    <span class="built_in">this</span>.price = price;</span><br><span class="line">&#125;</span><br><span class="line">Context.prototype.getResult = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">&#x27; çš„ç»“è´¦ä»·ä¸º: &#x27;</span> + <span class="built_in">this</span>.strategy.getPrice(<span class="built_in">this</span>.price));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> context = <span class="keyword">new</span> Context();</span><br><span class="line"><span class="keyword">var</span> vip = <span class="keyword">new</span> vipPrice();</span><br><span class="line">context.set (<span class="string">&#x27;vipå®¢æˆ·&#x27;</span>, vip, <span class="number">200</span>);</span><br><span class="line">context.getResult();   <span class="comment">// vipå®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> old = <span class="keyword">new</span> oldPrice();</span><br><span class="line">context.set (<span class="string">&#x27;è€å®¢æˆ·&#x27;</span>, old, <span class="number">200</span>);</span><br><span class="line">context.getResult();  <span class="comment">// è€å®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 60</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Price = <span class="keyword">new</span> Price();</span><br><span class="line">context.set (<span class="string">&#x27;æ™®é€šå®¢æˆ·&#x27;</span>, Price, <span class="number">200</span>);</span><br><span class="line">context.getResult();  <span class="comment">// æ™®é€šå®¢æˆ· çš„ç»“è´¦ä»·ä¸º: 200</span></span><br></pre></td></tr></table></figure><p>4ã€ä»£ç†æ¨¡å¼<br>ä»£ç†æ¨¡å¼æ˜¯ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ï¼Œä¹Ÿå°±æ˜¯å½“å…¶ä»–å¯¹è±¡ç›´æ¥è®¿é—®è¯¥å¯¹è±¡æ—¶ï¼Œå¦‚æœå¼€é”€è¾ƒå¤§ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªä»£ç†å±‚æ§åˆ¶å¯¹è¯¥å¯¹è±¡çš„è®¿é—®ã€‚å¸¸è§çš„ä½¿ç”¨åœºæ™¯ä¸ºæ‡’åŠ è½½ï¼Œåˆå¹¶httpè¯·æ±‚å’Œç¼“å­˜ã€‚ä»£ç†æ¨¡å¼çš„å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç›®æ ‡å¯¹è±¡ï¼Œæ˜¯çœŸæ­£è¢«ä»£ç†çš„å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    Subject.prototype.request = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Proxy</span>(<span class="params">realSubject</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.realSubject = realSubject;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Proxy</span>.prototype.request = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.realSubject.request();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><p>5ã€è§‚å¯Ÿè€…æ¨¡å¼<br>ä¹Ÿå«å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªè®¢é˜…è€…è®¢é˜…å‘å¸ƒè€…ï¼Œå½“ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œå‘å¸ƒè€…ä¼šé€šçŸ¥ï¼ˆè°ƒç”¨ï¼‰æ‰€æœ‰çš„è®¢é˜…è€…ã€‚å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventCenter = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> events = &#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">on</span>(<span class="params">event, handler</span>)</span>&#123;</span><br><span class="line">        events[event] = events[event] || [];</span><br><span class="line">        events[event].push(&#123;</span><br><span class="line">            handler: handler</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fire</span>(<span class="params">event, args</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!events[event]) &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; events[event].length; i++) &#123;</span><br><span class="line">            events[event][i].handler(args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">off</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">delete</span> events[event];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        on: on,</span><br><span class="line">        fire: fire,</span><br><span class="line">        off: off</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">EventCenter.on(<span class="string">&#x27;event&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;event received...&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>6ã€æ¨¡å—æ¨¡å¼<br>æ¨¡å—æ¨¡å¼å¯ä»¥æŒ‡å®šç±»æƒ³æš´éœ²çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”ä¸ä¼šæ±¡æŸ“å…¨å±€ã€‚é‡‡ç”¨é—­åŒ…çš„å½¢å¼ï¼Œå®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        name: name,</span><br><span class="line">        sayName: sayName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>7ã€æ„é€ å‡½æ•°æ¨¡å¼å’Œæ··åˆæ¨¡å¼<br>æ„é€ å‡½æ•°å’Œæ··åˆæ¨¡å¼å°±æ˜¯jsä¸­ç»§æ‰¿çš„ä¸¤ç§å®ç°æ–¹å¼ï¼Œå‰è€…é€šè¿‡æ„é€ å‡½æ•°çš„å½¢å¼å®šä¹‰ç±»ï¼Œé€šè¿‡newæ–°å¢å®ä¾‹ã€‚è€Œåè€…æ˜¯å°†æ„é€ å‡½æ•°çš„å¼•ç”¨å±æ€§å’Œæ–¹æ³•æ”¾åˆ°å…¶åŸå‹ä¸Šï¼Œå­ç±»æ˜¯çˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;è®¾è®¡æ¨¡å¼&quot;&gt;&lt;a href=&quot;#è®¾è®¡æ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;è®¾è®¡æ¨¡å¼&quot;&gt;&lt;/a&gt;è®¾è®¡æ¨¡å¼&lt;/h4&gt;&lt;p&gt;1ã€å•ä¾‹æ¨¡å¼&lt;br&gt;è¿™ç§è®¾è®¡æ¨¡å¼çš„æ€æƒ³æ˜¯ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰å”¯ä¸€å®ä¾‹ï¼Œä¸€èˆ¬ç”¨äºå…¨å±€ç¼“å­˜ï¼Œæ¯”å¦‚å…¨å±€windowï¼Œå”¯ä¸€ç™»å½•æµ®çª—ç­‰ã€‚é‡‡ç”¨é—­åŒ…çš„æ–¹å¼å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="æ€ç»´" scheme="https://yongmaple.com/categories/%E6%80%9D%E7%BB%B4/"/>
    
    
    <category term="è®¾è®¡æ¨¡å¼" scheme="https://yongmaple.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>VueCliä¸­ä»£ç†websocket</title>
    <link href="https://yongmaple.com/2020/09/29/VueCli%E4%B8%AD%E4%BB%A3%E7%90%86websocket/"/>
    <id>https://yongmaple.com/2020/09/29/VueCli%E4%B8%AD%E4%BB%A3%E7%90%86websocket/</id>
    <published>2020-09-29T19:58:03.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>vue.config.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    host: <span class="string">&#x27;0.0.0.0&#x27;</span>,</span><br><span class="line">    port: <span class="string">&#x27;9007&#x27;</span>,</span><br><span class="line">    proxy: &#123;</span><br><span class="line">        <span class="string">&#x27;/socket&#x27;</span>: &#123;</span><br><span class="line">            target: <span class="string">`ws://<span class="subst">$&#123;baseUrl&#125;</span>`</span>,</span><br><span class="line">            ws: <span class="literal">true</span>,</span><br><span class="line">            pathRewrite: &#123; <span class="string">&#x27;^/socket&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">            changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> socket = <span class="keyword">new</span> WebSocket(</span><br><span class="line">  <span class="string">&#x27;ws://&#x27;</span> + location.host + <span class="string">&#x27;/socket/wx-cyberspace/websocket/attack&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>nginx å…³é”®é…ç½®</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line"><span class="keyword">map</span> $http_upgrade $connection_upgrade &#123;</span><br><span class="line">default upgrade;</span><br><span class="line"><span class="string">&#x27;&#x27;</span>      <span class="keyword">close</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">        <span class="keyword">listen</span>       <span class="number">8083</span>;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">location ^~ /<span class="keyword">socket</span> &#123;</span><br><span class="line">            proxy_pass http:<span class="regexp">//l</span>ocalhost:<span class="number">8080</span>/;</span><br><span class="line">            proxy_http_version <span class="number">1.1</span>;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">            proxy_read_timeout <span class="number">120</span>s;</span><br><span class="line">            proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">            proxy_set_header Connection $connection_upgrade;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;vue.config.js&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/sp</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="websocket" scheme="https://yongmaple.com/tags/websocket/"/>
    
  </entry>
  
  <entry>
    <title>Vue3ä¸­app.config.globalPropertiesåœ¨buildåæŒ‡å‘é”™è¯¯</title>
    <link href="https://yongmaple.com/2020/09/29/Vue3%E4%B8%ADapp.config.globalProperties%E5%9C%A8build%E5%90%8E%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF/"/>
    <id>https://yongmaple.com/2020/09/29/Vue3%E4%B8%ADapp.config.globalProperties%E5%9C%A8build%E5%90%8E%E6%8C%87%E5%90%91%E9%94%99%E8%AF%AF/</id>
    <published>2020-09-29T07:44:09.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Vue2 ä¸­ï¼Œæˆ‘ä»¬è¿™æ ·åœ¨å…¨å±€æŒ‚è½½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line">Vue.prototype.$moment = moment</span><br></pre></td></tr></table></figure><p>åœ¨ Vue3 ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·æŒ‚è½½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dayjs <span class="keyword">from</span> <span class="string">&#x27;dayjs&#x27;</span></span><br><span class="line">app.config.globalProperties.$dayjs = dayjs</span><br></pre></td></tr></table></figure><p>åœ¨å¼•ç”¨æ—¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; ctx &#125; = getCurrentInstance()</span><br><span class="line">    ctx.$dayjs()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æ–¹å¼åœ¨ dev ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ build ä¹‹åå°±ä¼šæŠ¥é”™<br>åº”è¯¥æ”¹ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; proxy &#125; = getCurrentInstance()</span><br><span class="line">    proxy.$dayjs()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨ Vue2 ä¸­ï¼Œæˆ‘ä»¬è¿™æ ·åœ¨å…¨å±€æŒ‚è½½&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;</summary>
      
    
    
    
    <category term="æŠ¥é”™" scheme="https://yongmaple.com/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="æŠ¥é”™" scheme="https://yongmaple.com/tags/%E6%8A%A5%E9%94%99/"/>
    
    <category term="Vue3" scheme="https://yongmaple.com/tags/Vue3/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…yarn create nuxt-app xxxæ—¶æŠ¥é”™</title>
    <link href="https://yongmaple.com/2020/08/30/%E5%AE%89%E8%A3%85yarn%20create%20nuxt-app%20xxx%E6%97%B6%E6%8A%A5%E9%94%99/"/>
    <id>https://yongmaple.com/2020/08/30/%E5%AE%89%E8%A3%85yarn%20create%20nuxt-app%20xxx%E6%97%B6%E6%8A%A5%E9%94%99/</id>
    <published>2020-08-30T13:20:09.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚ä¸‹ï¼š</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/Users/jimmy/.config/yarn/global/node_modules/sao/lib/installPackages.js:108</span><br><span class="line">throw new SAOError(Failed to install <span class="variable">$&#123;packageName&#125;</span> <span class="keyword">in</span> <span class="variable">$&#123;cwd&#125;</span>)</span><br><span class="line">^</span><br><span class="line">SAOError: Failed to install packages <span class="keyword">in</span> /Users/jimmy/work/tuliang/cross-border-pc-ssr-ts</span><br><span class="line">at ChildProcess. (/Users/jimmy/.config/yarn/global/node_modules/sao/lib/installPackages.js:108:15)</span><br><span class="line">at ChildProcess.emit (events.js:315:20)</span><br><span class="line">at maybeClose (internal/child_process.js:1021:16)</span><br><span class="line">at Socket. (internal/child_process.js:443:11)</span><br><span class="line">at Socket.emit (events.js:315:20)</span><br><span class="line">at Pipe. (net.js:674:12) &#123;</span><br><span class="line">__sao: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">error Command failed.</span><br><span class="line">Exit code: 1</span><br><span class="line">Command: /usr/<span class="built_in">local</span>/bin/create-nuxt-app</span><br><span class="line">Arguments: cross-border-pc-ssr-ts</span><br><span class="line">Directory: /Users/jimmy/work/tuliang</span><br><span class="line">Output:</span><br><span class="line">info Visit https://yarnpkg.com/en/docs/cli/create <span class="keyword">for</span> documentation about this <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>å‡çº§ yarn åˆ° 1.22.4 ç‰ˆæœ¬åè§£å†³</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;</summary>
    
    
    
    <category term="æŠ¥é”™" scheme="https://yongmaple.com/categories/%E6%8A%A5%E9%94%99/"/>
    
    
    <category term="æŠ¥é”™" scheme="https://yongmaple.com/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>cssè£åˆ‡ä¸è§„åˆ™å›¾å½¢</title>
    <link href="https://yongmaple.com/2020/08/28/css%E8%A3%81%E5%88%87%E4%B8%8D%E8%A7%84%E5%88%99%E5%9B%BE%E5%BD%A2/"/>
    <id>https://yongmaple.com/2020/08/28/css%E8%A3%81%E5%88%87%E4%B8%8D%E8%A7%84%E5%88%99%E5%9B%BE%E5%BD%A2/</id>
    <published>2020-08-28T15:07:58.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ clip-path å±æ€§ï¼Œç®€å•çš„å¯ä»¥ç”¨ polygon å±æ€§ç”»ä¸è§„åˆ™å¤šè¾¹å½¢ï¼Œå¤æ‚çš„å¯ä»¥ç”¨ svg çš„ path å¤„ç†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">height</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">&quot;0&quot;</span> <span class="attr">preserveAspectRatio</span>=<span class="string">&quot;xMinYMin meet&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">clipPath</span> <span class="attr">id</span>=<span class="string">&quot;svgPath&quot;</span>&gt;</span></span><br><span class="line">      &lt;path</span><br><span class="line">        d=&quot;M215,100.3c97.8-32.6,90.5-71.9,336-77.6</span><br><span class="line">          c92.4-2.1,98.1,81.6,121.8,116.4c101.7,149.9,53.5,155.9,14.7,178c-96.4,54.9,5.4,269-257,115.1c-57-33.5-203,46.3-263.7,20.1</span><br><span class="line">          c-33.5-14.5-132.5-45.5-95-111.1C125.9,246.6,98.6,139.1,215,100.3z&quot;</span><br><span class="line">      &gt;<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">clipPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="comment">/* clip-path:polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); */</span></span><br><span class="line">  <span class="attribute">clip-path</span>: <span class="built_in">url</span>(<span class="string">&#x27;#svgPath&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä½¿ç”¨ clip-path å±æ€§ï¼Œç®€å•çš„å¯ä»¥ç”¨ polygon å±æ€§ç”»ä¸è§„åˆ™å¤šè¾¹å½¢ï¼Œå¤æ‚çš„å¯ä»¥ç”¨ svg çš„ path å¤„ç†&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="css" scheme="https://yongmaple.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Cesiumç›¸æœºé«˜åº¦è‡ªé€‚åº”å¤šä¸ªåæ ‡</title>
    <link href="https://yongmaple.com/2020/08/26/Cesium%E7%9B%B8%E6%9C%BA%E9%AB%98%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94%E5%A4%9A%E4%B8%AA%E5%9D%90%E6%A0%87/"/>
    <id>https://yongmaple.com/2020/08/26/Cesium%E7%9B%B8%E6%9C%BA%E9%AB%98%E5%BA%A6%E8%87%AA%E9%80%82%E5%BA%94%E5%A4%9A%E4%B8%AA%E5%9D%90%E6%A0%87/</id>
    <published>2020-08-26T15:07:58.000Z</published>
    <updated>2021-04-02T09:37:16.265Z</updated>
    
    <content type="html"><![CDATA[<p>è·å–ä¸œå—è¥¿åŒ—ç»çº¬åº¦ï¼Œä½¿ç”¨ Rectangle.fromDegrees æ„å»ºçŸ©å½¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> west, south, east, north</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  <span class="keyword">const</span> item = arr[i]</span><br><span class="line">  <span class="keyword">if</span> (!west || item.assetIpLng &lt; west) west = item.assetIpLng</span><br><span class="line">  <span class="keyword">if</span> (!south || item.assetIpLat &lt; south) south = item.assetIpLat</span><br><span class="line">  <span class="keyword">if</span> (!east || item.assetIpLng &gt; east) east = item.assetIpLng</span><br><span class="line">  <span class="keyword">if</span> (!north || item.assetIpLat &gt; north) north = item.assetIpLat</span><br><span class="line">  _this.$emit(</span><br><span class="line">    <span class="string">&#x27;addPoint&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      lon: item.assetIpLng,</span><br><span class="line">      lat: item.assetIpLat,</span><br><span class="line">    &#125;,</span><br><span class="line">    []</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å† flyTo</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>._viewer.scene.camera.flyTo(&#123;</span><br><span class="line">  destination: Cesium.Rectangle.fromDegrees(west, south, east, north),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è·å–ä¸œå—è¥¿åŒ—ç»çº¬åº¦ï¼Œä½¿ç”¨ Rectangle.fromDegrees æ„å»ºçŸ©å½¢&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;b</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="Cesium" scheme="https://yongmaple.com/tags/Cesium/"/>
    
  </entry>
  
  <entry>
    <title>flex-directionä¸ºcolumnæ—¶ï¼Œå­å…ƒç´ å®½åº¦è‡ªåŠ¨æ’‘æ»¡</title>
    <link href="https://yongmaple.com/2020/08/11/flex-direction%E4%B8%BAcolumn%E6%97%B6%EF%BC%8C%E5%AD%90%E5%85%83%E7%B4%A0%E5%AE%BD%E5%BA%A6%E8%87%AA%E5%8A%A8%E6%92%91%E6%BB%A1/"/>
    <id>https://yongmaple.com/2020/08/11/flex-direction%E4%B8%BAcolumn%E6%97%B6%EF%BC%8C%E5%AD%90%E5%85%83%E7%B4%A0%E5%AE%BD%E5%BA%A6%E8%87%AA%E5%8A%A8%E6%92%91%E6%BB%A1/</id>
    <published>2020-08-11T17:30:10.000Z</published>
    <updated>2021-04-02T09:37:16.269Z</updated>
    
    <content type="html"><![CDATA[<p>çˆ¶å…ƒç´ æ·»åŠ <code>align-content: flex-start;</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;çˆ¶å…ƒç´ æ·»åŠ &lt;code&gt;align-content: flex-start;&lt;/code&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="å‰ç«¯" scheme="https://yongmaple.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="css" scheme="https://yongmaple.com/tags/css/"/>
    
  </entry>
  
</feed>
